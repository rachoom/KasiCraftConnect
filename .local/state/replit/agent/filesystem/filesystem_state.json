{"file_contents":{"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n","path":null,"size_bytes":80,"size_tokens":null},"client/src/components/HowItWorks.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { Search, Star, Handshake } from \"lucide-react\";\n\nconst containerVariants = {\n  hidden: {},\n  visible: {\n    transition: {\n      staggerChildren: 0.3\n    }\n  }\n};\n\nconst stepVariants = {\n  hidden: { \n    opacity: 0, \n    y: 60,\n    scale: 0.8\n  },\n  visible: { \n    opacity: 1, \n    y: 0,\n    scale: 1,\n    transition: {\n      duration: 0.8,\n      ease: \"easeOut\"\n    }\n  }\n};\n\nconst steps = [\n  {\n    icon: Search,\n    title: \"Search & Describe\",\n    description: \"Tell us what service you need and your location. No account required - just search and find.\",\n    image: \"https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400\"\n  },\n  {\n    icon: Star,\n    title: \"Get Top Matches\",\n    description: \"We'll show you the top 3 verified artisans in your area with their ratings and contact details.\",\n    image: \"https://images.unsplash.com/photo-1556742111-a301076d9d18?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400\"\n  },\n  {\n    icon: Handshake,\n    title: \"Connect & Hire\",\n    description: \"Contact your chosen artisan directly and get your project started with confidence.\",\n    image: \"https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&h=400\"\n  }\n];\n\nexport default function HowItWorks() {\n  return (\n    <section id=\"how-it-works\" className=\"py-16 lg:py-24 bg-black\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <motion.div \n          className=\"text-center mb-16\"\n          initial={{ opacity: 0, y: 30 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n        >\n          <motion.h3 \n            className=\"text-3xl md:text-4xl font-bold text-white mb-4\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            viewport={{ once: true }}\n          >\n            How Skills Connect Works\n          </motion.h3>\n          <motion.p \n            className=\"text-xl text-white/80 max-w-2xl mx-auto\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            viewport={{ once: true }}\n          >\n            Get connected with trusted artisans in just three simple steps.\n          </motion.p>\n        </motion.div>\n\n        <motion.div \n          className=\"grid md:grid-cols-3 gap-8 lg:gap-12\"\n          variants={containerVariants}\n          initial=\"hidden\"\n          whileInView=\"visible\"\n          viewport={{ once: true, amount: 0.2 }}\n        >\n          {steps.map((step, index) => (\n            <motion.div \n              key={index}\n              className=\"relative text-center p-6 border-2 border-lime-400 rounded-lg overflow-hidden\"\n              variants={stepVariants}\n              whileHover={{ \n                y: -10,\n                transition: { duration: 0.3 }\n              }}\n              data-testid={`step-card-${index + 1}`}\n            >\n              <div className=\"absolute inset-0 opacity-20\">\n                <img \n                  src={step.image}\n                  alt={step.title}\n                  className=\"w-full h-full object-cover\"\n                />\n              </div>\n              <div className=\"relative z-10\">\n                <motion.div \n                  className=\"w-20 h-20 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-6\"\n                  whileHover={{ \n                    scale: 1.1,\n                    backgroundColor: \"rgba(218, 165, 32, 0.2)\",\n                    transition: { duration: 0.2 }\n                  }}\n                >\n                  <step.icon className=\"w-10 h-10 text-gold\" />\n                </motion.div>\n                <h4 className=\"text-xl font-semibold text-white mb-4\">{step.title}</h4>\n                <p className=\"text-white/80 leading-relaxed\">\n                  {step.description}\n                </p>\n              </div>\n            </motion.div>\n          ))}\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":4202,"size_tokens":null},"server/storage.ts":{"content":"import { supabase } from \"./supabase\";\nimport type { User, InsertUser, Artisan, InsertArtisan, SearchRequest, InsertSearchRequest, ArtisanSubscription, InsertArtisanSubscription, Advertisement, InsertAdvertisement, ContactMessage, InsertContactMessage } from \"@shared/schema\";\n\n// Helper function to convert camelCase to snake_case for database\nfunction toSnakeCase(obj: any): any {\n  if (obj === null || obj === undefined) return obj;\n  if (Array.isArray(obj)) return obj.map(toSnakeCase);\n  if (typeof obj !== 'object') return obj;\n\n  const snakeCased: any = {};\n  for (const [key, value] of Object.entries(obj)) {\n    const snakeKey = key.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n    snakeCased[snakeKey] = typeof value === 'object' && value !== null && !Array.isArray(value)\n      ? toSnakeCase(value)\n      : value;\n  }\n  return snakeCased;\n}\n\n// Helper function to convert snake_case to camelCase for application\nfunction toCamelCase(obj: any): any {\n  if (obj === null || obj === undefined) return obj;\n  if (Array.isArray(obj)) return obj.map(toCamelCase);\n  if (typeof obj !== 'object') return obj;\n\n  const camelCased: any = {};\n  for (const [key, value] of Object.entries(obj)) {\n    const camelKey = key.replace(/_([a-z])/g, (_, letter) => letter.toUpperCase());\n    camelCased[camelKey] = typeof value === 'object' && value !== null && !Array.isArray(value)\n      ? toCamelCase(value)\n      : value;\n  }\n  return camelCased;\n}\n\nexport interface IStorage {\n  // User methods\n  getUser(id: number): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n\n  // Artisan methods\n  getArtisan(id: number): Promise<Artisan | undefined>;\n  getArtisanByEmail(email: string): Promise<Artisan | undefined>;\n  getArtisanByPhone(phone: string): Promise<Artisan | undefined>;\n  getAllArtisans(): Promise<Artisan[]>;\n  getArtisansByService(service: string): Promise<Artisan[]>;\n  getArtisansByLocation(location: string): Promise<Artisan[]>;\n  searchArtisans(service: string, location: string, limit?: number, tier?: string): Promise<Artisan[]>;\n  createArtisan(artisan: InsertArtisan): Promise<Artisan>;\n  updateArtisan(id: number, updates: Partial<Artisan>): Promise<Artisan | undefined>;\n  \n  // Admin methods\n  getPendingArtisans(): Promise<Artisan[]>;\n  approveArtisan(id: number, approvedBy: string): Promise<Artisan | undefined>;\n  rejectArtisan(id: number, rejectionReason: string, rejectedBy: string): Promise<Artisan | undefined>;\n\n  // Search request methods\n  createSearchRequest(request: InsertSearchRequest): Promise<SearchRequest>;\n  getSearchRequests(): Promise<SearchRequest[]>;\n\n  // Artisan subscription methods\n  createArtisanSubscription(insertSubscription: InsertArtisanSubscription): Promise<ArtisanSubscription>;\n  getArtisanSubscriptions(): Promise<ArtisanSubscription[]>;\n  getPendingSubscriptions(): Promise<ArtisanSubscription[]>;\n  updateSubscriptionStatus(id: number, status: \"approved\" | \"rejected\", reviewedBy: string, rejectionReason?: string): Promise<ArtisanSubscription | undefined>;\n  \n  // Featured artisan methods\n  toggleArtisanFeatured(id: number): Promise<Artisan | undefined>;\n  getFeaturedArtisans(): Promise<Artisan[]>;\n\n  // Advertisement methods\n  getAllAdvertisements(): Promise<Advertisement[]>;\n  getActiveAdvertisements(): Promise<Advertisement[]>;\n  createAdvertisement(ad: InsertAdvertisement): Promise<Advertisement>;\n  updateAdvertisement(id: number, updates: Partial<Advertisement>): Promise<Advertisement | undefined>;\n  deleteAdvertisement(id: number): Promise<boolean>;\n\n  // Contact Message methods\n  createContactMessage(message: InsertContactMessage): Promise<ContactMessage>;\n  getContactMessages(): Promise<ContactMessage[]>;\n}\n\nexport class SupabaseStorage implements IStorage {\n  // User methods\n  async getUser(id: number): Promise<User | undefined> {\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('id', id)\n      .single();\n    \n    if (error) {\n      console.error('Error fetching user:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as User;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const { data, error } = await supabase\n      .from('users')\n      .select('*')\n      .eq('username', username)\n      .single();\n    \n    if (error) {\n      if (error.code === 'PGRST116') return undefined; // Not found\n      console.error('Error fetching user by username:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as User;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const snakeCaseData = toSnakeCase(insertUser);\n    \n    const { data, error } = await supabase\n      .from('users')\n      .insert(snakeCaseData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating user:', error);\n      throw new Error('Failed to create user');\n    }\n    return toCamelCase(data) as User;\n  }\n\n  // Artisan methods\n  async getArtisan(id: number): Promise<Artisan | undefined> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .eq('id', id)\n      .single();\n    \n    if (error) {\n      if (error.code === 'PGRST116') return undefined; // Not found\n      console.error('Error fetching artisan:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Artisan;\n  }\n\n  async getArtisanByEmail(email: string): Promise<Artisan | undefined> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .eq('email', email)\n      .single();\n    \n    if (error) {\n      if (error.code === 'PGRST116') return undefined; // Not found\n      console.error('Error fetching artisan by email:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Artisan;\n  }\n\n  async getArtisanByPhone(phone: string): Promise<Artisan | undefined> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .eq('phone', phone)\n      .single();\n    \n    if (error) {\n      if (error.code === 'PGRST116') return undefined; // Not found\n      console.error('Error fetching artisan by phone:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Artisan;\n  }\n\n  async getAllArtisans(): Promise<Artisan[]> {\n    // Use RPC function to get artisans with is_featured field (schema cache workaround)\n    const { data, error } = await supabase.rpc('get_all_artisans_with_featured');\n    \n    if (error) {\n      console.error('Error fetching all artisans via RPC:', error);\n      // Fallback to direct query if RPC fails\n      const { data: fallbackData, error: fallbackError } = await supabase\n        .from('artisans')\n        .select('*');\n      \n      if (fallbackError) {\n        console.error('Fallback query also failed:', fallbackError);\n        return [];\n      }\n      \n      return (fallbackData || []).map(item => toCamelCase(item)) as Artisan[];\n    }\n    \n    return (data || []).map(item => toCamelCase(item)) as Artisan[];\n  }\n\n  async getArtisansByService(service: string): Promise<Artisan[]> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .contains('services', [service.toLowerCase()]);\n    \n    if (error) {\n      console.error('Error fetching artisans by service:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as Artisan[];\n  }\n\n  async getArtisansByLocation(location: string): Promise<Artisan[]> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .ilike('location', `%${location}%`);\n    \n    if (error) {\n      console.error('Error fetching artisans by location:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as Artisan[];\n  }\n\n  async searchArtisans(service: string, location: string, limit: number = 3, tier: string = \"basic\"): Promise<Artisan[]> {\n    let query = supabase\n      .from('artisans')\n      .select('*')\n      .eq('approval_status', 'approved');\n\n    // Filter by service if provided\n    if (service && service !== \"all\") {\n      query = query.contains('services', [service.toLowerCase()]);\n    }\n\n    // Filter by location if provided\n    if (location) {\n      query = query.ilike('location', `%${location}%`);\n    }\n\n    const { data, error } = await query;\n    \n    if (error) {\n      console.error('Error searching artisans:', error);\n      return [];\n    }\n\n    // Convert all results to camelCase\n    let results = (data || []).map(item => toCamelCase(item)) as Artisan[];\n\n    // Sort by subscription tier first (premium > verified > unverified), then by rating\n    results.sort((a, b) => {\n      const tierPriority: Record<string, number> = {\n        'premium': 3,\n        'verified': 2,\n        'unverified': 1\n      };\n      \n      const aTierPriority = tierPriority[a.subscriptionTier || 'unverified'] || 1;\n      const bTierPriority = tierPriority[b.subscriptionTier || 'unverified'] || 1;\n      \n      if (aTierPriority !== bTierPriority) {\n        return bTierPriority - aTierPriority;\n      }\n      \n      const ratingDiff = parseFloat(b.rating || \"0\") - parseFloat(a.rating || \"0\");\n      if (ratingDiff !== 0) return ratingDiff;\n      \n      return (b.reviewCount || 0) - (a.reviewCount || 0);\n    });\n\n    return results.slice(0, limit);\n  }\n\n  async createArtisan(insertArtisan: InsertArtisan): Promise<Artisan> {\n    // Convert camelCase to snake_case for database\n    const snakeCaseData = toSnakeCase(insertArtisan);\n    \n    const { data, error } = await supabase\n      .from('artisans')\n      .insert(snakeCaseData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating artisan:', error);\n      throw new Error('Failed to create artisan');\n    }\n    \n    // Convert snake_case back to camelCase for application\n    return toCamelCase(data) as Artisan;\n  }\n\n  async updateArtisan(id: number, updates: Partial<Artisan>): Promise<Artisan | undefined> {\n    // Convert camelCase to snake_case for database\n    const snakeCaseUpdates = toSnakeCase(updates);\n    \n    // Use RPC/SQL directly for is_featured updates to bypass schema cache issues\n    if ('is_featured' in snakeCaseUpdates) {\n      const { data, error } = await supabase.rpc('update_artisan_featured', {\n        artisan_id: id,\n        featured_status: snakeCaseUpdates.is_featured\n      });\n      \n      if (error) {\n        console.error('Error updating artisan featured status via RPC:', error);\n        // Fallback to direct update\n        const { data: fallbackData, error: fallbackError } = await supabase\n          .from('artisans')\n          .update(snakeCaseUpdates)\n          .eq('id', id)\n          .select()\n          .single();\n        \n        if (fallbackError) {\n          console.error('Fallback update also failed:', fallbackError);\n          return undefined;\n        }\n        \n        return toCamelCase(fallbackData) as Artisan;\n      }\n      \n      // After RPC update, fetch the updated artisan\n      const { data: updatedArtisan, error: fetchError } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('id', id)\n        .single();\n      \n      if (fetchError) {\n        console.error('Error fetching updated artisan:', fetchError);\n        return undefined;\n      }\n      \n      return toCamelCase(updatedArtisan) as Artisan;\n    }\n    \n    const { data, error } = await supabase\n      .from('artisans')\n      .update(snakeCaseUpdates)\n      .eq('id', id)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error updating artisan:', error);\n      return undefined;\n    }\n    \n    // Convert snake_case back to camelCase for application\n    return toCamelCase(data) as Artisan;\n  }\n\n  // Admin methods\n  async getPendingArtisans(): Promise<Artisan[]> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .select('*')\n      .eq('approval_status', 'pending');\n    \n    if (error) {\n      console.error('Error fetching pending artisans:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as Artisan[];\n  }\n\n  async approveArtisan(id: number, approvedBy: string): Promise<Artisan | undefined> {\n    const { data, error } = await supabase\n      .from('artisans')\n      .update({\n        approval_status: 'approved',\n        approved_by: approvedBy,\n        approved_at: new Date().toISOString(),\n        verified: true,\n        verification_status: 'approved'\n      })\n      .eq('id', id)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error approving artisan:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Artisan;\n  }\n\n  async rejectArtisan(id: number, rejectionReason: string, rejectedBy: string): Promise<Artisan | undefined> {\n    const { data, error} = await supabase\n      .from('artisans')\n      .update({\n        approval_status: 'rejected',\n        rejection_reason: rejectionReason,\n        approved_by: rejectedBy,\n        approved_at: new Date().toISOString()\n      })\n      .eq('id', id)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error rejecting artisan:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Artisan;\n  }\n\n  // Search request methods\n  async createSearchRequest(insertRequest: InsertSearchRequest): Promise<SearchRequest> {\n    const requestData = toSnakeCase({\n      ...insertRequest,\n      timestamp: new Date().toISOString(),\n      tier: insertRequest.tier || \"basic\"\n    });\n    \n    const { data, error } = await supabase\n      .from('search_requests')\n      .insert(requestData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating search request:', error);\n      throw new Error('Failed to create search request');\n    }\n    return toCamelCase(data) as SearchRequest;\n  }\n\n  async getSearchRequests(): Promise<SearchRequest[]> {\n    const { data, error } = await supabase\n      .from('search_requests')\n      .select('*');\n    \n    if (error) {\n      console.error('Error fetching search requests:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as SearchRequest[];\n  }\n\n  // Artisan subscription methods\n  async createArtisanSubscription(insertSubscription: InsertArtisanSubscription): Promise<ArtisanSubscription> {\n    const snakeCaseData = toSnakeCase(insertSubscription);\n    \n    const { data, error } = await supabase\n      .from('artisan_subscriptions')\n      .insert(snakeCaseData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating artisan subscription:', error);\n      throw new Error('Failed to create artisan subscription');\n    }\n    return toCamelCase(data) as ArtisanSubscription;\n  }\n\n  async getArtisanSubscriptions(): Promise<ArtisanSubscription[]> {\n    const { data, error } = await supabase\n      .from('artisan_subscriptions')\n      .select('*');\n    \n    if (error) {\n      console.error('Error fetching artisan subscriptions:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as ArtisanSubscription[];\n  }\n\n  async getPendingSubscriptions(): Promise<ArtisanSubscription[]> {\n    const { data, error } = await supabase\n      .from('artisan_subscriptions')\n      .select('*')\n      .eq('application_status', 'pending');\n    \n    if (error) {\n      console.error('Error fetching pending subscriptions:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as ArtisanSubscription[];\n  }\n\n  async updateSubscriptionStatus(\n    id: number, \n    status: \"approved\" | \"rejected\", \n    reviewedBy: string, \n    rejectionReason?: string\n  ): Promise<ArtisanSubscription | undefined> {\n    const { data, error } = await supabase\n      .from('artisan_subscriptions')\n      .update({\n        application_status: status,\n        reviewed_by: reviewedBy,\n        reviewed_at: new Date().toISOString(),\n        rejection_reason: rejectionReason || null,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', id)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error updating subscription status:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as ArtisanSubscription;\n  }\n\n  async toggleArtisanFeatured(id: number): Promise<Artisan | undefined> {\n    try {\n      // First, get current featured status from the view\n      const { data: currentData, error: fetchError } = await supabase\n        .from('artisans_with_featured')\n        .select('is_featured')\n        .eq('id', id)\n        .single();\n      \n      if (fetchError || !currentData) {\n        console.error('Artisan not found for toggling:', fetchError);\n        return undefined;\n      }\n      \n      const currentFeaturedStatus = currentData.is_featured ?? false;\n      const newFeaturedStatus = !currentFeaturedStatus;\n      \n      console.log(`Toggling artisan ${id} featured from ${currentFeaturedStatus} to ${newFeaturedStatus}`);\n      \n      // Update via the view (which should be updatable)\n      const { data, error } = await supabase\n        .from('artisans_with_featured')\n        .update({ is_featured: newFeaturedStatus })\n        .eq('id', id)\n        .select()\n        .single();\n      \n      if (error) {\n        console.error('Error toggling featured status:', error);\n        return undefined;\n      }\n      \n      const result = toCamelCase(data) as Artisan;\n      console.log(`Successfully toggled featured status for artisan ${id} to ${result.isFeatured}`);\n      return result;\n    } catch (error) {\n      console.error('Error toggling featured status:', error);\n      return undefined;\n    }\n  }\n\n  async getFeaturedArtisans(): Promise<Artisan[]> {\n    const { data, error } = await supabase\n      .from('artisans_with_featured')\n      .select('*')\n      .eq('is_featured', true)\n      .eq('approval_status', 'approved');\n    \n    if (error) {\n      console.error('Error fetching featured artisans:', error);\n      return [];\n    }\n    \n    return (data || []).map(item => toCamelCase(item)) as Artisan[];\n  }\n\n  // Advertisement methods\n  async getAllAdvertisements(): Promise<Advertisement[]> {\n    const { data, error } = await supabase\n      .from('advertisements')\n      .select('*')\n      .order('display_order', { ascending: true });\n    \n    if (error) {\n      console.error('Error fetching advertisements:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as Advertisement[];\n  }\n\n  async getActiveAdvertisements(): Promise<Advertisement[]> {\n    const { data, error } = await supabase\n      .from('advertisements')\n      .select('*')\n      .eq('is_active', true)\n      .order('display_order', { ascending: true });\n    \n    if (error) {\n      console.error('Error fetching active advertisements:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as Advertisement[];\n  }\n\n  async createAdvertisement(insertAd: InsertAdvertisement): Promise<Advertisement> {\n    const snakeCaseData = toSnakeCase(insertAd);\n    const { data, error } = await supabase\n      .from('advertisements')\n      .insert(snakeCaseData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating advertisement:', error);\n      throw new Error('Failed to create advertisement');\n    }\n    return toCamelCase(data) as Advertisement;\n  }\n\n  async updateAdvertisement(id: number, updates: Partial<Advertisement>): Promise<Advertisement | undefined> {\n    const snakeCaseData = toSnakeCase(updates);\n    const { data, error } = await supabase\n      .from('advertisements')\n      .update(snakeCaseData)\n      .eq('id', id)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error updating advertisement:', error);\n      return undefined;\n    }\n    return toCamelCase(data) as Advertisement;\n  }\n\n  async deleteAdvertisement(id: number): Promise<boolean> {\n    const { error } = await supabase\n      .from('advertisements')\n      .delete()\n      .eq('id', id);\n    \n    if (error) {\n      console.error('Error deleting advertisement:', error);\n      return false;\n    }\n    return true;\n  }\n\n  // Contact Message methods\n  async createContactMessage(insertMessage: InsertContactMessage): Promise<ContactMessage> {\n    const snakeCaseData = toSnakeCase({\n      ...insertMessage,\n      is_read: false,\n      created_at: new Date().toISOString()\n    });\n    \n    const { data, error } = await supabase\n      .from('contact_messages')\n      .insert(snakeCaseData)\n      .select()\n      .single();\n    \n    if (error) {\n      console.error('Error creating contact message:', error);\n      throw new Error('Failed to create contact message');\n    }\n    return toCamelCase(data) as ContactMessage;\n  }\n\n  async getContactMessages(): Promise<ContactMessage[]> {\n    const { data, error } = await supabase\n      .from('contact_messages')\n      .select('*')\n      .order('created_at', { ascending: false });\n    \n    if (error) {\n      console.error('Error fetching contact messages:', error);\n      return [];\n    }\n    return (data || []).map(item => toCamelCase(item)) as ContactMessage[];\n  }\n}\n\nexport const storage = new SupabaseStorage();\n","path":null,"size_bytes":21349,"size_tokens":null},"client/src/components/ui/aspect-ratio.tsx":{"content":"import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","path":null,"size_bytes":140,"size_tokens":null},"client/src/pages/ArtisanSubscription.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Upload, FileText, Check, Star, Shield, Users } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { ObjectUploader } from \"@/components/ObjectUploader\";\n\nconst subscriptionSchema = z.object({\n  firstName: z.string().min(2, \"First name must be at least 2 characters\"),\n  lastName: z.string().min(2, \"Last name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().min(10, \"Please enter a valid phone number\"),\n  services: z.array(z.string()).min(1, \"Please select at least one service\"),\n  location: z.string().min(2, \"Please enter your location\"),\n  description: z.string().min(50, \"Please provide a detailed description (minimum 50 characters)\"),\n  yearsExperience: z.number().min(1, \"Please enter years of experience\"),\n  companyRegNumber: z.string().optional(),\n  artisanRegNumber: z.string().optional(),\n  subscriptionTier: z.enum([\"premium\", \"enterprise\"]),\n});\n\ntype SubscriptionFormData = z.infer<typeof subscriptionSchema>;\n\nconst services = [\n  \"Plumber\", \"Electrician\", \"Builder\", \"Painter\", \"Carpenter\", \"Tiler\",\n  \"Roofer\", \"HVAC Technician\", \"Landscaper\", \"Cleaner\", \"Handyman\",\n  \"Pool Maintenance\", \"Security System Installer\", \"Solar Panel Installer\"\n];\n\nconst locations = [\n  \"Springs, Ekurhuleni\", \"Alberton, Ekurhuleni\", \"Benoni, Ekurhuleni\", \"Daveyton, Ekurhuleni\", \"Kwa Thema, Ekurhuleni\", \"Tsakane, Ekurhuleni\",\n  \"Germiston, Ekurhuleni\", \"Boksburg, Ekurhuleni\", \"Kempton Park, Ekurhuleni\", \"Edenvale, Ekurhuleni\",\n  \"Brakpan, Ekurhuleni\", \"Nigel, Ekurhuleni\", \"Tembisa, Ekurhuleni\", \"Duduza, Ekurhuleni\",\n  \"Thokoza, Ekurhuleni\", \"Katlehong, Ekurhuleni\", \"Vosloorus, Ekurhuleni\"\n];\n\nexport default function ArtisanSubscription() {\n  const { toast } = useToast();\n  const [uploadedDocuments, setUploadedDocuments] = useState<string[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const form = useForm<SubscriptionFormData>({\n    resolver: zodResolver(subscriptionSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      services: [],\n      location: \"\",\n      description: \"\",\n      yearsExperience: 1,\n      companyRegNumber: \"\",\n      artisanRegNumber: \"\",\n      subscriptionTier: \"premium\",\n    },\n  });\n\n  const submitMutation = useMutation({\n    mutationFn: async (data: SubscriptionFormData & { documents: string[] }) => {\n      return await apiRequest(\"POST\", \"/api/artisan-subscription\", data);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Application Submitted Successfully!\",\n        description: \"Your subscription application has been received. We'll review it within 2-3 business days.\",\n      });\n      form.reset();\n      setUploadedDocuments([]);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message || \"Please try again later.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleDocumentUpload = async () => {\n    const token = localStorage.getItem(\"adminToken\");\n    const response = await fetch(\"/api/objects/upload\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...(token && { Authorization: `Bearer ${token}` }),\n      },\n    });\n    if (!response.ok) throw new Error(\"Failed to get upload URL\");\n    const { uploadURL } = await response.json();\n    return { method: \"PUT\" as const, url: uploadURL };\n  };\n\n  const handleDocumentComplete = (result: { successful: Array<{ uploadURL: string; name: string }> }) => {\n    if (result.successful && result.successful.length > 0) {\n      const newDocuments = result.successful.map(file => file.uploadURL || \"\");\n      setUploadedDocuments(prev => [...prev, ...newDocuments]);\n      toast({\n        title: \"Document Uploaded\",\n        description: `${result.successful.length} document(s) uploaded successfully`,\n      });\n    }\n  };\n\n  const onSubmit = async (data: SubscriptionFormData) => {\n    if (!data.companyRegNumber && !data.artisanRegNumber) {\n      toast({\n        title: \"Registration Number Required\",\n        description: \"Please provide either a Company Registration Number or Artisan Registration Number\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await submitMutation.mutateAsync({\n        ...data,\n        documents: uploadedDocuments,\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const subscriptionTiers = [\n    {\n      id: \"premium\",\n      name: \"Premium\",\n      price: \"R99\",\n      period: \"one-time\",\n      features: [\n        \"Up to 5 verified artisan contacts\",\n        \"Enhanced profile visibility\",\n        \"Customer review system\",\n        \"Basic analytics dashboard\"\n      ],\n      icon: Star,\n      color: \"bg-gradient-to-r from-purple-500 to-pink-500\"\n    },\n    {\n      id: \"enterprise\",\n      name: \"Enterprise\",\n      price: \"R299\",\n      period: \"monthly\",\n      features: [\n        \"Unlimited verified contacts\",\n        \"Priority search placement\",\n        \"Advanced analytics\",\n        \"Direct customer messaging\",\n        \"24/7 support\"\n      ],\n      icon: Shield,\n      color: \"bg-gradient-to-r from-gold to-yellow-500\"\n    }\n  ];\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-cosmic-dark via-purple-900 to-cosmic-dark py-12\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-white mb-4\">\n            Join as a <span className=\"text-gold\">Premium Artisan</span>\n          </h1>\n          <p className=\"text-xl text-white/80\">\n            Get verified and connect with more customers through our subscription service\n          </p>\n        </div>\n\n        {/* Subscription Tiers */}\n        <div className=\"grid md:grid-cols-2 gap-6 mb-8\">\n          {subscriptionTiers.map((tier) => (\n            <Card key={tier.id} className=\"bg-white/10 border-white/20 backdrop-blur-sm\">\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`p-2 rounded-lg ${tier.color}`}>\n                      <tier.icon className=\"w-6 h-6 text-white\" />\n                    </div>\n                    <div>\n                      <CardTitle className=\"text-white\">{tier.name}</CardTitle>\n                      <CardDescription className=\"text-white/80\">\n                        {tier.price} {tier.period}\n                      </CardDescription>\n                    </div>\n                  </div>\n                  <Badge variant=\"secondary\" className=\"bg-gold text-black\">\n                    Popular\n                  </Badge>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <ul className=\"space-y-2\">\n                  {tier.features.map((feature, index) => (\n                    <li key={index} className=\"flex items-center text-white/80\">\n                      <Check className=\"w-4 h-4 text-green mr-2\" />\n                      {feature}\n                    </li>\n                  ))}\n                </ul>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {/* Registration Form */}\n        <Card className=\"bg-white/10 border-white/20 backdrop-blur-sm\">\n          <CardHeader>\n            <CardTitle className=\"text-white flex items-center\">\n              <Users className=\"w-6 h-6 mr-2\" />\n              Artisan Registration\n            </CardTitle>\n            <CardDescription className=\"text-white/80\">\n              Complete your profile to get verified and start receiving job requests\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                {/* Personal Information */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"firstName\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">First Name *</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            placeholder=\"Enter your first name\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"lastName\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Last Name *</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            placeholder=\"Enter your last name\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Contact Information */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Email Address *</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            type=\"email\"\n                            placeholder=\"your.email@example.com\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Phone Number *</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            placeholder=\"0XX XXX XXXX\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Service and Location */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"services\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Services Offered *</FormLabel>\n                        <FormControl>\n                          <Select\n                            onValueChange={(value) => {\n                              if (!field.value.includes(value)) {\n                                field.onChange([...field.value, value]);\n                              }\n                            }}\n                          >\n                            <SelectTrigger className=\"bg-white/10 border-white/20 text-white\">\n                              <SelectValue placeholder=\"Select services you offer\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {services.map((service) => (\n                                <SelectItem key={service} value={service}>\n                                  {service}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </FormControl>\n                        <div className=\"flex flex-wrap gap-2 mt-2\">\n                          {field.value.map((service) => (\n                            <Badge\n                              key={service}\n                              variant=\"secondary\"\n                              className=\"bg-gold text-black cursor-pointer\"\n                              onClick={() => {\n                                field.onChange(field.value.filter(s => s !== service));\n                              }}\n                            >\n                              {service} Ã—\n                            </Badge>\n                          ))}\n                        </div>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"location\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Location *</FormLabel>\n                        <FormControl>\n                          <Select onValueChange={field.onChange} value={field.value}>\n                            <SelectTrigger className=\"bg-white/10 border-white/20 text-white\">\n                              <SelectValue placeholder=\"Select your location\" />\n                            </SelectTrigger>\n                            <SelectContent>\n                              {locations.map((location) => (\n                                <SelectItem key={location} value={location}>\n                                  {location}\n                                </SelectItem>\n                              ))}\n                            </SelectContent>\n                          </Select>\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Experience and Description */}\n                <FormField\n                  control={form.control}\n                  name=\"yearsExperience\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-white\">Years of Experience *</FormLabel>\n                      <FormControl>\n                        <Input\n                          {...field}\n                          type=\"number\"\n                          min=\"1\"\n                          onChange={(e) => field.onChange(parseInt(e.target.value))}\n                          className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"description\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-white\">Service Description *</FormLabel>\n                      <FormControl>\n                        <Textarea\n                          {...field}\n                          placeholder=\"Describe your services, specializations, and what makes you unique...\"\n                          className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70 min-h-[100px]\"\n                        />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {/* Registration Numbers */}\n                <div className=\"grid md:grid-cols-2 gap-4\">\n                  <FormField\n                    control={form.control}\n                    name=\"companyRegNumber\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Company Registration Number</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            placeholder=\"XXXXXXX/XX\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                  <FormField\n                    control={form.control}\n                    name=\"artisanRegNumber\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Artisan Registration Number</FormLabel>\n                        <FormControl>\n                          <Input\n                            {...field}\n                            placeholder=\"ARN-XXXXXXX\"\n                            className=\"bg-white/10 border-white/20 text-white placeholder:text-white/70\"\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Subscription Tier Selection */}\n                <FormField\n                  control={form.control}\n                  name=\"subscriptionTier\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-white\">Subscription Tier *</FormLabel>\n                      <FormControl>\n                        <Select onValueChange={field.onChange} value={field.value}>\n                          <SelectTrigger className=\"bg-white/10 border-white/20 text-white\">\n                            <SelectValue placeholder=\"Select subscription tier\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            <SelectItem value=\"premium\">Premium - R99 one-time</SelectItem>\n                            <SelectItem value=\"enterprise\">Enterprise - R299/month</SelectItem>\n                          </SelectContent>\n                        </Select>\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                {/* Document Upload */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-white flex items-center\">\n                    <FileText className=\"w-5 h-5 mr-2\" />\n                    Upload Documents\n                  </h3>\n                  <p className=\"text-white/80 text-sm\">\n                    Upload your ID, certificates, licenses, or any other relevant documents\n                  </p>\n                  \n                  <ObjectUploader\n                    maxNumberOfFiles={5}\n                    maxFileSize={10485760}\n                    onGetUploadParameters={handleDocumentUpload}\n                    onComplete={handleDocumentComplete}\n                    buttonClassName=\"bg-white/10 border-white/20 text-white hover:bg-white/20\"\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Upload className=\"w-4 h-4\" />\n                      Upload Documents\n                    </div>\n                  </ObjectUploader>\n\n                  {uploadedDocuments.length > 0 && (\n                    <div className=\"space-y-2\">\n                      <p className=\"text-sm text-white/80\">Uploaded documents:</p>\n                      {uploadedDocuments.map((doc, index) => (\n                        <div key={index} className=\"flex items-center text-green text-sm\">\n                          <Check className=\"w-4 h-4 mr-2\" />\n                          Document {index + 1} uploaded successfully\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n\n                <Button\n                  type=\"submit\"\n                  className=\"w-full bg-green hover:bg-green-dark text-white font-semibold py-3\"\n                  disabled={isSubmitting || submitMutation.isPending}\n                >\n                  {isSubmitting || submitMutation.isPending ? \"Submitting...\" : \"Submit Application\"}\n                </Button>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":21806,"size_tokens":null},"client/src/components/FadeInSection.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\n\ninterface FadeInSectionProps {\n  children: ReactNode;\n  delay?: number;\n  duration?: number;\n  className?: string;\n  direction?: \"up\" | \"down\" | \"left\" | \"right\";\n}\n\nexport default function FadeInSection({\n  children,\n  delay = 0,\n  duration = 0.6,\n  className = \"\",\n  direction = \"up\"\n}: FadeInSectionProps) {\n  const directionOffset = {\n    up: { y: 40 },\n    down: { y: -40 },\n    left: { x: 40 },\n    right: { x: -40 }\n  };\n\n  return (\n    <motion.div\n      className={className}\n      initial={{ \n        opacity: 0, \n        ...directionOffset[direction]\n      }}\n      whileInView={{ \n        opacity: 1, \n        y: 0,\n        x: 0\n      }}\n      transition={{ \n        duration,\n        delay,\n        ease: \"easeOut\"\n      }}\n      viewport={{ once: true, amount: 0.2 }}\n    >\n      {children}\n    </motion.div>\n  );\n}","path":null,"size_bytes":904,"size_tokens":null},"client/src/components/Hero.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\n\nexport default function Hero() {\n  return (\n    <section className=\"relative min-h-[70vh] bg-black text-white overflow-hidden flex items-center\">\n      {/* Background image with overlay */}\n      <div className=\"absolute inset-0\">\n        <img \n          src=\"https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&h=1080\"\n          alt=\"Artisan at work\"\n          className=\"w-full h-full object-cover\"\n        />\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/95 via-black/93 to-black/95\"></div>\n      </div>\n      \n      <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32 w-full\">\n        <motion.div \n          className=\"text-center max-w-5xl mx-auto\"\n          initial={{ opacity: 0, y: 50 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.8, ease: \"easeOut\" }}\n        >\n          <motion.h1 \n            className=\"text-5xl md:text-7xl font-bold mb-6 leading-tight\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.2 }}\n          >\n            Find Local Artisans in the{\" \"}\n            <motion.span \n              className=\"text-gold\"\n              animate={{ \n                textShadow: [\n                  \"0 0 8px rgba(218, 165, 32, 0.15)\",\n                  \"0 0 15px rgba(218, 165, 32, 0.25)\",\n                  \"0 0 8px rgba(218, 165, 32, 0.15)\"\n                ]\n              }}\n              transition={{\n                duration: 3,\n                repeat: Infinity,\n                ease: \"easeInOut\"\n              }}\n            >\n              Far East Rand\n            </motion.span>\n            , Free.\n          </motion.h1>\n          \n          <motion.p \n            className=\"text-xl md:text-2xl text-white mb-12 leading-relaxed max-w-3xl mx-auto\"\n            initial={{ opacity: 0, y: 30 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.4 }}\n          >\n            Connect directly with verified professionals in Brakpan and surrounding areas. \n            No middleman fees. Just quality work from trusted local artisans.\n          </motion.p>\n          \n          <motion.div \n            className=\"flex justify-center items-center\"\n            initial={{ opacity: 0, y: 40 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.8, delay: 0.6 }}\n          >\n            <Link href=\"/profiles\">\n              <Button \n                size=\"lg\"\n                className=\"bg-gold hover:bg-yellow-600 text-black font-bold px-10 py-6 text-lg rounded-xl shadow-2xl transform hover:scale-105 transition-all duration-200 cosmic-glow-static\"\n              >\n                Find Artisans\n              </Button>\n            </Link>\n          </motion.div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":3056,"size_tokens":null},"client/src/components/ui/alert.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-background text-foreground\",\n        destructive:\n          \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n","path":null,"size_bytes":1584,"size_tokens":null},"client/src/components/ui/toggle-group.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { toggleVariants } from \"@/components/ui/toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n","path":null,"size_bytes":1753,"size_tokens":null},"client/src/components/ui/label.tsx":{"content":"import * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n","path":null,"size_bytes":710,"size_tokens":null},"client/src/pages/ContactUs.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Mail, Phone, MapPin, Clock, ArrowLeft } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { Link } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\n\nconst contactSchema = z.object({\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().min(10, \"Please enter a valid phone number\"),\n  subject: z.string().min(5, \"Subject must be at least 5 characters\"),\n  message: z.string().min(20, \"Message must be at least 20 characters\"),\n});\n\ntype ContactFormData = z.infer<typeof contactSchema>;\n\nexport default function ContactUs() {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<ContactFormData>({\n    resolver: zodResolver(contactSchema),\n    defaultValues: {\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      subject: \"\",\n      message: \"\",\n    },\n  });\n\n  const onSubmit = async (data: ContactFormData) => {\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(\"/api/contact\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Failed to send message\");\n      }\n\n      toast({\n        title: \"Message sent successfully!\",\n        description: \"We'll get back to you within 24 hours.\",\n      });\n      \n      form.reset();\n    } catch (error) {\n      toast({\n        title: \"Error sending message\",\n        description: \"Please try again or contact us directly.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <Link href=\"/\">\n          <Button variant=\"outline\" className=\"mb-6 border-green/30 text-gold hover:bg-gold/10\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Home\n          </Button>\n        </Link>\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-white mb-4\">Contact Us</h1>\n          <p className=\"text-xl text-white/80 max-w-2xl mx-auto\">\n            Have questions about Skills Connect? We're here to help you find the perfect artisan for your needs.\n          </p>\n        </div>\n\n        <div className=\"grid lg:grid-cols-2 gap-12\">\n          {/* Contact Form */}\n          <Card className=\"bg-black border border-green/30\">\n            <CardHeader>\n              <CardTitle className=\"text-white\">Send us a message</CardTitle>\n              <CardDescription className=\"text-white/80\">\n                Fill out the form below and we'll respond as soon as possible.\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                  <FormField\n                    control={form.control}\n                    name=\"name\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Full Name</FormLabel>\n                        <FormControl>\n                          <Input className=\"bg-zinc-800 border-green/30 text-white\" placeholder=\"Your full name\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Email Address</FormLabel>\n                        <FormControl>\n                          <Input className=\"bg-zinc-800 border-green/30 text-white\" type=\"email\" placeholder=\"your.email@example.com\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Phone Number</FormLabel>\n                        <FormControl>\n                          <Input className=\"bg-zinc-800 border-green/30 text-white\" placeholder=\"+27 XX XXX XXXX\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"subject\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Subject</FormLabel>\n                        <FormControl>\n                          <Input className=\"bg-zinc-800 border-green/30 text-white\" placeholder=\"What is this regarding?\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"message\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel className=\"text-white\">Message</FormLabel>\n                        <FormControl>\n                          <Textarea \n                            className=\"bg-zinc-800 border-green/30 text-white min-h-[120px]\"\n                            placeholder=\"Tell us how we can help you...\"\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <Button \n                    type=\"submit\" \n                    className=\"w-full bg-green hover:bg-green-dark text-white cosmic-glow-static\"\n                    disabled={isSubmitting}\n                  >\n                    {isSubmitting ? \"Sending...\" : \"Send Message\"}\n                  </Button>\n                </form>\n              </Form>\n            </CardContent>\n          </Card>\n\n          {/* Contact Information */}\n          <div className=\"space-y-8\">\n            <Card className=\"bg-black border border-green/30\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Get in touch</CardTitle>\n                <CardDescription className=\"text-white/80\">\n                  Reach out to us through any of these channels\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center\">\n                    <Mail className=\"w-6 h-6 text-gold\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white\">Email</h4>\n                    <p className=\"text-white/80\">admin@skillsconnect.co.za</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center\">\n                    <Phone className=\"w-6 h-6 text-gold\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white\">Phone</h4>\n                    <p className=\"text-white/80\">069 702 6088</p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center\">\n                    <MapPin className=\"w-6 h-6 text-gold\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white\">Address</h4>\n                    <p className=\"text-white/80\">\n                      Brakpan, Gauteng<br />\n                      Far East Rand\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center\">\n                    <Clock className=\"w-6 h-6 text-gold\" />\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-white\">Business Hours</h4>\n                    <p className=\"text-white/80\">\n                      Monday - Friday: 8:00 AM - 6:00 PM<br />\n                      Saturday: 9:00 AM - 4:00 PM<br />\n                      Sunday: Closed\n                    </p>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            <Card className=\"bg-black border border-green/30\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Frequently Asked Questions</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div>\n                  <h5 className=\"font-semibold text-white mb-2\">How do I become a verified artisan?</h5>\n                  <p className=\"text-white/80 text-sm\">\n                    Register through our platform and submit your qualification documents for verification.\n                  </p>\n                </div>\n                <div>\n                  <h5 className=\"font-semibold text-white mb-2\">What are the pricing tiers?</h5>\n                  <p className=\"text-white/80 text-sm\">\n                    We offer Basic (free), Premium, and Enterprise tiers with different features and visibility levels.\n                  </p>\n                </div>\n                <div>\n                  <h5 className=\"font-semibold text-white mb-2\">How do I report an issue?</h5>\n                  <p className=\"text-white/80 text-sm\">\n                    Use the contact form above or email us directly with details about your concern.\n                  </p>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n}","path":null,"size_bytes":11112,"size_tokens":null},"client/src/components/ui/alert-dialog.tsx":{"content":"import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n","path":null,"size_bytes":4420,"size_tokens":null},"replit.md":{"content":"# SKILLS CONNECT - Far East Rand Artisan Marketplace Platform\n\n## Overview\n\nSKILLS CONNECT is a full-stack web application connecting customers with local artisans in the Brakpan and Far East Rand regions. The platform facilitates searching for and connecting with verified professionals in various trades, featuring a modern React frontend, a Node.js/Express backend, and an external Supabase PostgreSQL database. The brand name \"SKILLS CONNECT\" is displayed using a distinctive bold gold typography on black background, with \"Far East Rand\" as a subtitle to emphasize the local geographic service area. The platform aims to be the premier marketplace for artisan services in the Far East Rand region.\n\n## Admin Setup Instructions\n\n### Creating an Admin User\nTo access the admin dashboard at `/admin/login`, you need to create an admin user in your Supabase database:\n\n1. Go to your Supabase project dashboard\n2. Navigate to the SQL Editor\n3. Run this SQL query to create an admin user:\n```sql\nINSERT INTO admin_users (email, password, first_name, last_name, is_verified, created_at, updated_at)\nVALUES (\n  'admin@skillsconnect.co.za',\n  '$2b$12$dt3vlLwJAJQPU84iUML0hOAv7uVZfDNdcvVp798cHwi14eby9BGxO',  -- Password: Admin@2024\n  'Admin',\n  'User',\n  true,\n  NOW(),\n  NOW()\n);\n```\n\n**Admin Credentials:**\n- Email: `admin@skillsconnect.co.za`\n- Password: `Admin@2024`\n\n**Admin Features:**\n- Review and approve/reject pending artisan applications at `/admin/review`\n- Manage all artisan profiles at `/admin/manage` - search, filter, edit profiles, and upload profile pictures\n- Upload profile pictures for artisans using Supabase Storage\n\n### Setting Up Supabase Storage for Profile Pictures\nTo enable profile picture uploads, you need to create a storage bucket and configure security policies in Supabase:\n\n**Step 1: Create Storage Bucket**\n1. Go to your Supabase project dashboard\n2. Navigate to **Storage** in the left sidebar\n3. Click **New Bucket**\n4. Configure the bucket:\n   - **Name**: `profile-pictures` (must be exactly this name)\n   - **Public**: Toggle ON (make bucket public)\n   - **File size limit**: 5242880 bytes (5MB)\n   - **Allowed MIME types**: Leave default or add: image/jpeg, image/png, image/webp, image/gif\n5. Click **Create Bucket**\n\n**Step 2: Configure RLS Policies (CRITICAL)**\nAfter creating the bucket, you must add security policies to allow uploads:\n\n1. In Storage, click on the **profile-pictures** bucket\n2. Go to the **Policies** tab\n3. Click **New Policy**\n4. Choose **Full customization** or use template\n5. Add these two policies:\n\n**Policy 1: Allow Public Uploads**\n- Policy name: `Allow public uploads`\n- Policy command: INSERT\n- Target roles: `public` or `authenticated`\n- USING expression: `true`\n- WITH CHECK expression: `true`\n\n**Policy 2: Allow Public Updates/Deletes**\n- Policy name: `Allow public updates`\n- Policy command: UPDATE\n- Target roles: `public` or `authenticated`\n- USING expression: `true`\n- WITH CHECK expression: `true`\n\nAlternatively, run this SQL in your Supabase SQL Editor:\n```sql\nCREATE POLICY \"Allow public uploads\" ON storage.objects FOR INSERT TO public WITH CHECK (bucket_id = 'profile-pictures');\nCREATE POLICY \"Allow public updates\" ON storage.objects FOR UPDATE TO public USING (bucket_id = 'profile-pictures');\nCREATE POLICY \"Allow public deletes\" ON storage.objects FOR DELETE TO public USING (bucket_id = 'profile-pictures');\n```\n\nThe server will automatically detect the bucket on next restart and profile picture uploads will work immediately once RLS policies are configured.\n\n### Featured Artisans Functionality âœ… FULLY WORKING\n\nThe platform includes a fully functional featured artisans system that allows admins to highlight specific artisans on the homepage.\n\n**Database Schema:**\n1. `is_featured` boolean column in artisans table (default: false) - added by Supabase support via ALTER TABLE\n2. `artisans_with_featured` view with explicit column definitions to bypass PostgREST cache\n3. RPC function `update_artisan_featured(artisan_id, featured_status)` for updating featured status\n4. RPC function `get_all_artisans_with_featured()` for fetching artisans (fallback for cache issues)\n\n**API Endpoints:**\n- `POST /api/admin/artisan/:id/toggle-featured` - Toggle featured status (requires admin auth)\n- `GET /api/artisans/featured` - Fetch all featured artisans (approved + is_featured=true)\n\n**Admin Features:**\n- Toggle featured status for artisans in `/admin/manage`\n- Featured status shown with gold star badge in admin panel\n- Toggle button: gold styling when featured, grey when not featured\n- Only approved artisans can be marked as featured\n\n**Homepage Display:**\n- Featured artisans automatically appear in the \"Featured Artisans\" section on the homepage\n- Only displays artisans with both `is_featured = true` AND `approval_status = 'approved'`\n- Cards show circular profile images, name, location, services, phone, email\n- \"Call Now\" button (gold background, black text) and \"Email\" button (outlined)\n- Verified badge for verified/premium artisans\n\n**How to Use:**\n1. Admin logs in at `/admin/login` (admin@skillsconnect.co.za / Admin@2024)\n2. Navigates to `/admin/manage` to view all artisans\n3. Clicks the toggle button next to any approved artisan to mark/unmark as featured\n4. Featured artisans immediately appear on the homepage\n5. Unapproved artisans cannot be featured (toggle is disabled)\n\n**Implementation Notes:**\n- Uses `artisans_with_featured` view instead of direct table access to bypass PostgREST schema cache limitations\n- Frontend uses TanStack Query for real-time data fetching\n- Toggle API responds with updated artisan data including `isFeatured` status\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### UI/UX Decisions\n- Form error messages, toast notifications, and page error states styled with gold gradient background (bg-gradient-to-r from-gold/10 to-gold-dark/10), green border (border-green/30), white text, and padding for brand consistency and maximum visibility on black backgrounds.\n- Email buttons on artisan profiles use golden border (border-2 border-gold) and golden text matching brand colors.\n- **Rating/Review System Removed**: All star ratings, review counts, and review sections removed from the platform as this feature is not yet available.\n- Modern React 18 frontend with TypeScript.\n- Shadcn/ui component library based on Radix UI, styled with Tailwind CSS and custom CSS variables.\n- Framer Motion for smooth animations and transitions.\n- **PERMANENT DARK THEME**: Black background (#000000) enforced site-wide for ALL users regardless of system preferences. Dark theme CSS variables are set as default in `:root` to ensure consistent appearance.\n- **Brand Colors - Black/Gold/Green Theme**:\n  - **Vibrant Royal Gold** (hsl(45, 89%, 56%)): Bright, eye-catching gold color used throughout site for branding, headings, borders, and CTA buttons\n  - **Deep Forest Green** (#1a4d2e / hsl(146, 50%, 20%)): Used for ALL borders and accents (typically at 30% opacity for subtle styling)\n  - **White**: Body text with varying opacity (text-white, text-white/80, text-white/60)\n  - NO gray text allowed on dark backgrounds for maximum contrast and visibility\n- **Branding**:\n  - Header displays \"SKILLS CONNECT\" using the official brand image (bold uppercase bright yellow typography) at size h-24 sm:h-28 md:h-32 lg:h-40 (96px to 160px) for maximum visibility and legibility\n  - Logo icon REMOVED from header - only brand text image displayed for cleaner layout\n  - \"Far East Rand\" subtitle positioned horizontally to the RIGHT of brand logo, vertically centered for clean layout\n  - Brand consistency maintained across all platforms with vibrant royal gold color (hsl(45, 89%, 56%))\n  - \"Register as an Artisan\" button uses bright yellow background (bg-gold) with black text for high contrast\n  - Header height increased to h-28 md:h-32 lg:h-40 (112px to 160px) to accommodate large branding\n- Hero section features very dark overlay (95-93-95% opacity) for optimal text readability and professional appearance.\n- Service category cards use progressively darker overlays (70-80-95% from top to bottom) ensuring gold and white text remains readable; hover state maintains visibility with slightly lighter overlay.\n- Redesigned homepage with a simplified hero section, green-bordered service category cards with background images, and a \"Featured Artisans\" section with circular avatars and direct contact options.\n- Featured Artisans cards redesigned with:\n  - Golden borders (border-2 border-gold/80) matching reference design\n  - Profile images in circles with User icon placeholders\n  - Featured badge for verified/premium artisans\n  - Contact information displayed (phone, email) with icons\n  - \"Call Now\" button (gold background, black text) and \"Email\" button (outlined)\n  - No rating/review elements (feature not yet available)\n- Mobile-responsive navigation with a hamburger menu for smaller viewports.\n- All cards use `bg-zinc-900` with thin `border-2 border-green/30` for consistent styling with deep forest green borders at 30% opacity.\n- Status badges use green for success states, maintaining the black/gold/green theme consistency.\n- Footer features green top border (`border-t-2 border-green/30`) separating it from page content.\n- All custom CSS color utilities properly use `hsl()` wrapper around CSS variables for correct color rendering.\n\n### Technical Implementations\n- **Frontend**: React 18, Wouter for routing, TanStack Query for state management, Vite for building.\n- **Backend**: Node.js with Express.js (TypeScript), Drizzle ORM for database interactions.\n- **Database**: External Supabase PostgreSQL with `camelCase` to `snake_case` conversion in the storage layer.\n- **File Storage**: Supabase Storage for profile pictures with server-side upload validation using multer and file-type buffer checking.\n- **Authentication**: Session-based user authentication, and a secure admin authentication system with email/password, JWT, email verification, and Google OAuth support.\n- **Artisan Tiers**: Implemented a three-tier subscription system (Unverified, Verified, Verified + Marketing) with offline payment handling and admin approval workflows, influencing search prioritization.\n- **Registration**: Dual registration paths for artisans: instant for unverified, and detailed application with document uploads for verified tiers.\n- **Search**: Location autofill/autocomplete functionality, restricted to Ekurhuleni areas (Brakpan, Benoni, Springs, Nigel, Daveyton).\n- **Deployment**: Node.js 20 runtime, PostgreSQL 16, `npm run dev` for local development, `npm run build` for production, deployed to Autoscale on port 80.\n\n### Feature Specifications\n- Artisan profiles display tier-specific badges and restrict features based on subscription level.\n- Admin panel for reviewing and approving artisan applications.\n- \"Trusted Partners\" section on the homepage featuring sponsored cards.\n- Cleaned-up header navigation with \"Artisans\", \"Contact\", and \"Register as an Artisan\" links.\n- Updated footer with Services, Coverage Area (Brakpan locations), and Contact Us columns.\n- All service routes including Painters properly configured to avoid 404 errors.\n- ViewProfiles filter order: Service â†’ Location â†’ Status â†’ Search.\n- Logo increased to w-12 h-12 (mobile) and w-14 h-14 (desktop) for better visibility.\n\n## External Dependencies\n\n- **@neondatabase/serverless**: For serverless PostgreSQL connections.\n- **drizzle-orm**: Type-safe ORM for PostgreSQL.\n- **@tanstack/react-query**: For server state management in React.\n- **@radix-ui/**: Headless UI components used by Shadcn/ui.\n- **wouter**: Lightweight client-side router for React.\n- **framer-motion**: Animation library for UI transitions.\n- **Supabase PostgreSQL**: External database provider.\n- **Vite**: Frontend build tool.\n- **TypeScript**: For type safety across the stack.\n- **Tailwind CSS**: Utility-first CSS framework.\n- **ESBuild**: Backend bundler.","path":null,"size_bytes":12034,"size_tokens":null},"client/src/components/ui/toaster.tsx":{"content":"import { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n","path":null,"size_bytes":772,"size_tokens":null},"client/src/components/ui/carousel.tsx":{"content":"import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n","path":null,"size_bytes":6210,"size_tokens":null},"client/src/pages/ArtisanRegistration.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Link, useLocation } from \"wouter\";\nimport { insertArtisanSchema, type InsertArtisan } from \"@shared/schema\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { ArrowLeft, CheckCircle, MapPin, Locate, Upload, FileText, AlertCircle } from \"lucide-react\";\n\nconst serviceOptions = [\n  { id: \"builders\", label: \"Builder\" },\n  { id: \"plumbers\", label: \"Plumber\" },\n  { id: \"electricians\", label: \"Electrician\" },\n  { id: \"carpenters\", label: \"Carpenter\" },\n  { id: \"tilers\", label: \"Tiler\" },\n  { id: \"cleaners\", label: \"Cleaner\" },\n  { id: \"landscapers\", label: \"Landscaper\" },\n  { id: \"mechanics\", label: \"Mechanic\" },\n];\n\nconst locations = [\n  \"Springs, Ekurhuleni\", \"Alberton, Ekurhuleni\", \"Benoni, Ekurhuleni\", \"Daveyton, Ekurhuleni\", \"Kwa Thema, Ekurhuleni\", \"Tsakane, Ekurhuleni\",\n  \"Germiston, Ekurhuleni\", \"Boksburg, Ekurhuleni\", \"Kempton Park, Ekurhuleni\", \"Edenvale, Ekurhuleni\",\n  \"Brakpan, Ekurhuleni\", \"Nigel, Ekurhuleni\", \"Tembisa, Ekurhuleni\", \"Duduza, Ekurhuleni\",\n  \"Thokoza, Ekurhuleni\", \"Katlehong, Ekurhuleni\", \"Vosloorus, Ekurhuleni\"\n];\n\nexport default function ArtisanRegistration() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [locationSuggestions, setLocationSuggestions] = useState<string[]>([]);\n  const [showLocationSuggestions, setShowLocationSuggestions] = useState(false);\n  const [isGeolocating, setIsGeolocating] = useState(false);\n  const [uploadedIdDocument, setUploadedIdDocument] = useState<string>(\"\");\n  const [uploadedQualificationDocs, setUploadedQualificationDocs] = useState<string[]>([]);\n  const [errorMessage, setErrorMessage] = useState<string>(\"\");\n  const locationInputRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (locationInputRef.current && !locationInputRef.current.contains(event.target as Node)) {\n        setShowLocationSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const handleLocationChange = (value: string) => {\n    if (value.length > 0) {\n      const filtered = locations.filter(l => \n        l.toLowerCase().includes(value.toLowerCase())\n      );\n      setLocationSuggestions(filtered);\n      setShowLocationSuggestions(true);\n    } else {\n      setShowLocationSuggestions(false);\n    }\n  };\n\n  const selectLocation = (selectedLocation: string) => {\n    form.setValue(\"location\", selectedLocation);\n    setShowLocationSuggestions(false);\n  };\n\n  const handleGeolocation = () => {\n    if (!navigator.geolocation) {\n      toast({\n        title: \"Location Error\",\n        description: \"Geolocation is not supported by your browser\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    setIsGeolocating(true);\n    navigator.geolocation.getCurrentPosition(\n      async (position) => {\n        try {\n          const { latitude, longitude } = position.coords;\n          \n          // Fallback to Gauteng areas based on coordinates (no API key needed)\n          if (latitude >= -26.5 && latitude <= -25.5 && longitude >= 27.5 && longitude <= 28.5) {\n            form.setValue(\"location\", \"Johannesburg, Gauteng\");\n          } else if (latitude >= -26.3 && latitude <= -26.0 && longitude >= 28.0 && longitude <= 28.5) {\n            form.setValue(\"location\", \"Ekurhuleni, Gauteng\");\n          } else if (latitude >= -25.9 && latitude <= -25.6 && longitude >= 28.1 && longitude <= 28.4) {\n            form.setValue(\"location\", \"Pretoria, Gauteng\");\n          } else {\n            form.setValue(\"location\", \"Gauteng, South Africa\");\n          }\n          \n          toast({\n            title: \"Location Set\",\n            description: \"Your location has been automatically detected\",\n          });\n        } catch (error) {\n          console.error(\"Error getting location:\", error);\n          toast({\n            title: \"Location Error\",\n            description: \"Could not detect your location\",\n            variant: \"destructive\",\n          });\n        } finally {\n          setIsGeolocating(false);\n        }\n      },\n      (error) => {\n        console.error(\"Geolocation error:\", error);\n        setIsGeolocating(false);\n        toast({\n          title: \"Location Error\",\n          description: \"Could not access your location\",\n          variant: \"destructive\",\n        });\n      }\n    );\n  };\n\n  const form = useForm<InsertArtisan>({\n    resolver: zodResolver(insertArtisanSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      location: \"\",\n      services: [],\n      description: \"\",\n      yearsExperience: 1,\n      profileImage: \"\",\n      portfolio: [],\n      idDocument: \"\",\n      qualificationDocuments: [],\n    },\n  });\n\n  // Document upload handlers (for now, just simulate upload)\n  const handleIdDocumentUpload = (files: FileList | null) => {\n    if (files && files.length > 0) {\n      const file = files[0];\n      const fileName = `id_${Date.now()}_${file.name}`;\n      setUploadedIdDocument(fileName);\n      form.setValue(\"idDocument\", fileName);\n      toast({\n        title: \"ID Document Selected\",\n        description: \"Your ID document is ready for upload. It will be processed when you submit the form.\",\n      });\n    }\n  };\n\n  const handleQualificationDocUpload = (files: FileList | null) => {\n    if (files && files.length > 0) {\n      const fileList = Array.from(files);\n      const fileNames = fileList.map(file => `qualification_${Date.now()}_${file.name}`);\n      const newDocs = [...uploadedQualificationDocs, ...fileNames];\n      setUploadedQualificationDocs(newDocs);\n      form.setValue(\"qualificationDocuments\", newDocs);\n      toast({\n        title: \"Qualification Documents Selected\",\n        description: `${fileList.length} document(s) selected and ready for upload.`,\n      });\n    }\n  };\n\n  const registerMutation = useMutation({\n    mutationFn: async (data: InsertArtisan) => {\n      const response = await fetch(\"/api/artisans\", {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(`${response.status}: ${JSON.stringify(errorData)}`);\n      }\n      \n      return await response.json();\n    },\n    onSuccess: (data) => {\n      setIsSuccess(true);\n      setErrorMessage(\"\"); // Clear any previous errors\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n      toast({\n        title: \"Registration Successful!\",\n        description: \"Your profile has been submitted and we'll contact you with login details via email.\",\n      });\n    },\n    onError: (error: any) => {\n      let parsedErrorMessage = \"There was an error creating your profile. Please try again.\";\n      \n      // Parse error message from API response\n      if (error.message) {\n        try {\n          const match = error.message.match(/^\\d+:\\s*(.+)/);\n          if (match) {\n            const responseText = match[1];\n            const errorData = JSON.parse(responseText);\n            parsedErrorMessage = errorData.error || errorData.message || parsedErrorMessage;\n          }\n        } catch (parseError) {\n          console.error(\"Error parsing error message:\", parseError);\n        }\n      }\n      \n      // Set error message for display in the form\n      setErrorMessage(parsedErrorMessage);\n      \n      // Also show toast notification\n      toast({\n        title: \"Registration Failed\",\n        description: parsedErrorMessage,\n        variant: \"destructive\",\n      });\n      console.error(\"Registration error:\", error);\n    },\n  });\n\n  const onSubmit = (data: InsertArtisan) => {\n    console.log(\"Form submitted with data:\", data);\n    console.log(\"Form errors:\", form.formState.errors);\n    // Clear any existing error messages when submitting\n    setErrorMessage(\"\");\n    registerMutation.mutate(data);\n  };\n\n  if (isSuccess) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16\">\n          <Card>\n            <CardContent className=\"p-8 text-center\">\n              <CheckCircle className=\"w-16 h-16 text-green mx-auto mb-6\" />\n              <h1 className=\"text-2xl font-bold text-black-soft mb-4\">\n                Registration Successful!\n              </h1>\n              <p className=\"text-gray-600 mb-6\">\n                Thank you for joining Kasi Connect! Your profile has been submitted for review. \n                We'll contact you within 2-3 business days once your profile is verified.\n              </p>\n              <div className=\"space-y-3\">\n                <Link href=\"/\">\n                  <Button className=\"bg-green hover:bg-green-dark text-white w-full\">\n                    Back to Home\n                  </Button>\n                </Link>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <Link href=\"/artisan\">\n          <Button variant=\"ghost\" className=\"mb-6\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Artisan Options\n          </Button>\n        </Link>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl text-black-soft\">\n              Join Skills Connect as an Artisan\n            </CardTitle>\n            <p className=\"text-gray-600\">\n              Fill out this form to create your artisan profile and start connecting with customers.\n            </p>\n          </CardHeader>\n          <CardContent>\n            <Form {...form}>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                {/* Error Message Display */}\n                {errorMessage && (\n                  <Alert className=\"border-2 border-green bg-gradient-to-r from-green/30 to-green-dark/20 rounded-lg\">\n                    <AlertCircle className=\"h-5 w-5 text-white font-bold\" />\n                    <AlertDescription className=\"text-white font-semibold ml-2\" style={{fontFamily: \"'Inter', 'Segoe UI', system-ui, sans-serif\"}}>\n                      <strong className=\"font-bold block mb-2 text-lg\">âš ï¸ Registration Error:</strong>\n                      <div className=\"mt-2 text-sm leading-relaxed bg-black/30 border-l-4 border-gold p-3 rounded ml-2\">\n                        {errorMessage}\n                      </div>\n                    </AlertDescription>\n                  </Alert>\n                )}\n                \n                {/* Personal Information */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-black-soft\">Personal Information</h3>\n                  \n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <FormField\n                      control={form.control}\n                      name=\"firstName\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>First Name</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"Enter your first name\" {...field} />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                    \n                    <FormField\n                      control={form.control}\n                      name=\"lastName\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel>Last Name</FormLabel>\n                          <FormControl>\n                            <Input placeholder=\"Enter your last name\" {...field} />\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n                  </div>\n\n                  <FormField\n                    control={form.control}\n                    name=\"email\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Email Address</FormLabel>\n                        <FormControl>\n                          <Input type=\"email\" placeholder=\"your.email@example.com\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"phone\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Phone Number</FormLabel>\n                        <FormControl>\n                          <Input placeholder=\"+27 XX XXX XXXX\" {...field} />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"location\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Location</FormLabel>\n                        <FormControl>\n                          <div className=\"relative\" ref={locationInputRef}>\n                            <MapPin className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/70 w-5 h-5 z-10\" />\n                            <Input \n                              placeholder=\"City, Province\" \n                              className=\"pl-12 pr-16\"\n                              {...field}\n                              onChange={(e) => {\n                                field.onChange(e);\n                                handleLocationChange(e.target.value);\n                              }}\n                              onFocus={() => setShowLocationSuggestions(field.value.length > 0)}\n                            />\n                            <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2\">\n                              <Button\n                                type=\"button\"\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"p-2 hover:bg-gold/10\"\n                                onClick={handleGeolocation}\n                                disabled={isGeolocating}\n                              >\n                                <Locate className={`w-4 h-4 text-gold ${isGeolocating ? 'animate-pulse' : ''}`} />\n                              </Button>\n                            </div>\n                            \n                            {showLocationSuggestions && locationSuggestions.length > 0 && (\n                              <div className=\"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto mt-1\">\n                                {locationSuggestions.map((suggestion, index) => (\n                                  <button\n                                    key={index}\n                                    type=\"button\"\n                                    className=\"w-full text-left px-4 py-3 hover:bg-gold/10 transition-colors first:rounded-t-lg last:rounded-b-lg text-gray-900\"\n                                    onClick={() => selectLocation(suggestion)}\n                                  >\n                                    {suggestion}\n                                  </button>\n                                ))}\n                              </div>\n                            )}\n                          </div>\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-blue-900 mb-3\">Account Security</h4>\n                    <div>\n                      <Label htmlFor=\"account-email\" className=\"text-sm font-medium text-blue-900\">Email Address</Label>\n                      <Input\n                        id=\"account-email\"\n                        type=\"email\"\n                        placeholder=\"Enter your email address\"\n                        value={form.watch(\"email\") || \"\"}\n                        disabled\n                        className=\"mt-1 bg-gray-100\"\n                      />\n                      <p className=\"text-xs text-blue-700 mt-2\">\n                        Your profile will be created and we'll send you login instructions via email.\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Professional Information */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-black-soft\">Professional Information</h3>\n                  \n                  <FormField\n                    control={form.control}\n                    name=\"services\"\n                    render={() => (\n                      <FormItem>\n                        <FormLabel>Services You Offer</FormLabel>\n                        <FormControl>\n                          <div className=\"grid grid-cols-2 gap-3\">\n                            {serviceOptions.map((service) => (\n                              <div key={service.id} className=\"flex items-center space-x-2\">\n                                <Checkbox\n                                  id={service.id}\n                                  checked={form.watch(\"services\").includes(service.id)}\n                                  onCheckedChange={(checked) => {\n                                    const currentServices = form.getValues(\"services\");\n                                    if (checked) {\n                                      form.setValue(\"services\", [...currentServices, service.id]);\n                                    } else {\n                                      form.setValue(\"services\", currentServices.filter(s => s !== service.id));\n                                    }\n                                  }}\n                                />\n                                <Label htmlFor={service.id}>{service.label}</Label>\n                              </div>\n                            ))}\n                          </div>\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"yearsExperience\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Years of Experience</FormLabel>\n                        <FormControl>\n                          <Input \n                            type=\"number\" \n                            min=\"1\" \n                            max=\"50\" \n                            placeholder=\"5\" \n                            {...field}\n                            onChange={(e) => field.onChange(parseInt(e.target.value) || 1)}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n\n                  <FormField\n                    control={form.control}\n                    name=\"description\"\n                    render={({ field }) => (\n                      <FormItem>\n                        <FormLabel>Professional Description</FormLabel>\n                        <FormControl>\n                          <Textarea \n                            placeholder=\"Describe your skills, experience, and what makes you unique...\"\n                            rows={4}\n                            {...field}\n                          />\n                        </FormControl>\n                        <FormMessage />\n                      </FormItem>\n                    )}\n                  />\n                </div>\n\n                {/* Verification Documents */}\n                <div className=\"space-y-4\">\n                  <h3 className=\"text-lg font-semibold text-black-soft\">Verification Documents</h3>\n                  <p className=\"text-sm text-gray-600\">\n                    Upload verification documents to become eligible for premium tier listings. \n                    These documents will be reviewed by our team for verification.\n                  </p>\n                  \n                  <div className=\"space-y-4\">\n                    <div>\n                      <Label className=\"text-sm font-medium\">ID Document (Optional)</Label>\n                      <div className=\"mt-2\">\n                        <div className=\"flex items-center justify-center w-full\">\n                          <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100\">\n                            <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                              <Upload className=\"w-8 h-8 mb-4 text-white/60\" />\n                              <p className=\"mb-2 text-sm text-white/60\">\n                                <span className=\"font-semibold\">Click to upload</span> your ID document\n                              </p>\n                              <p className=\"text-xs text-white/60\">JPG, PNG or PDF (max 5MB)</p>\n                            </div>\n                            <input \n                              type=\"file\" \n                              className=\"hidden\" \n                              accept=\".pdf,.jpg,.jpeg,.png\"\n                              onChange={(e) => handleIdDocumentUpload(e.target.files)}\n                              disabled={registerMutation.isPending}\n                            />\n                          </label>\n                        </div>\n                        {uploadedIdDocument && (\n                          <div className=\"mt-2 flex items-center gap-2 text-sm text-green\">\n                            <CheckCircle className=\"w-4 h-4\" />\n                            <span>ID document selected: {uploadedIdDocument.split('_').pop()}</span>\n                          </div>\n                        )}\n                      </div>\n                      <p className=\"text-xs text-white/60 mt-1\">\n                        Upload your South African ID document for identity verification. Accepted formats: JPG, PNG, PDF (max 5MB).\n                      </p>\n                    </div>\n\n                    <div>\n                      <Label className=\"text-sm font-medium\">Qualification Documents (Optional)</Label>\n                      <div className=\"mt-2\">\n                        <div className=\"flex items-center justify-center w-full\">\n                          <label className=\"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100\">\n                            <div className=\"flex flex-col items-center justify-center pt-5 pb-6\">\n                              <FileText className=\"w-8 h-8 mb-4 text-white/60\" />\n                              <p className=\"mb-2 text-sm text-white/60\">\n                                <span className=\"font-semibold\">Click to upload</span> qualification documents\n                              </p>\n                              <p className=\"text-xs text-white/60\">JPG, PNG or PDF (max 5MB each, up to 5 files)</p>\n                            </div>\n                            <input \n                              type=\"file\" \n                              className=\"hidden\" \n                              accept=\".pdf,.jpg,.jpeg,.png\"\n                              multiple\n                              onChange={(e) => handleQualificationDocUpload(e.target.files)}\n                              disabled={registerMutation.isPending}\n                            />\n                          </label>\n                        </div>\n                        {uploadedQualificationDocs.length > 0 && (\n                          <div className=\"mt-2 space-y-1\">\n                            <div className=\"flex items-center gap-2 text-sm text-green mb-2\">\n                              <CheckCircle className=\"w-4 h-4\" />\n                              <span>{uploadedQualificationDocs.length} document(s) selected</span>\n                            </div>\n                            {uploadedQualificationDocs.slice(0, 3).map((doc, index) => (\n                              <p key={index} className=\"text-xs text-gray-600\">\n                                â€¢ {doc.split('_').pop()}\n                              </p>\n                            ))}\n                            {uploadedQualificationDocs.length > 3 && (\n                              <p className=\"text-xs text-gray-600\">\n                                â€¢ And {uploadedQualificationDocs.length - 3} more...\n                              </p>\n                            )}\n                          </div>\n                        )}\n                      </div>\n                      <p className=\"text-xs text-white/60 mt-1\">\n                        Upload trade certificates, licenses, or relevant qualifications. Accepted formats: JPG, PNG, PDF (max 5MB each, up to 5 files).\n                      </p>\n                    </div>\n                  </div>\n\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                    <h4 className=\"font-medium text-blue-900 mb-2\">Verification Benefits</h4>\n                    <ul className=\"text-sm text-blue-800 space-y-1\">\n                      <li>â€¢ Access to premium tier listings (R99 per search)</li>\n                      <li>â€¢ Higher visibility in search results</li>\n                      <li>â€¢ Verified badge on your profile</li>\n                      <li>â€¢ Access to enterprise clients</li>\n                    </ul>\n                  </div>\n                </div>\n\n                <Button \n                  type=\"submit\" \n                  className=\"w-full bg-green hover:bg-green-dark text-white\"\n                  disabled={registerMutation.isPending}\n                  onClick={(e) => {\n                    console.log(\"Button clicked\");\n                    console.log(\"Form valid:\", form.formState.isValid);\n                    console.log(\"Form errors:\", form.formState.errors);\n                    // Don't prevent default - let the form handle submission\n                  }}\n                >\n                  {registerMutation.isPending ? \"Creating Profile...\" : \"Create Artisan Profile\"}\n                </Button>\n              </form>\n            </Form>\n          </CardContent>\n        </Card>\n      </div>\n      \n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":28283,"size_tokens":null},"client/src/components/ui/form.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState, formState } = useFormContext()\n\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nconst FormItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n    </FormItemContext.Provider>\n  )\n})\nFormItem.displayName = \"FormItem\"\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      ref={ref}\n      className={cn(error && \"text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n})\nFormLabel.displayName = \"FormLabel\"\n\nconst FormControl = React.forwardRef<\n  React.ElementRef<typeof Slot>,\n  React.ComponentPropsWithoutRef<typeof Slot>\n>(({ ...props }, ref) => {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot\n      ref={ref}\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n})\nFormControl.displayName = \"FormControl\"\n\nconst FormDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      ref={ref}\n      id={formDescriptionId}\n      className={cn(\"text-sm text-muted-foreground\", className)}\n      {...props}\n    />\n  )\n})\nFormDescription.displayName = \"FormDescription\"\n\nconst FormMessage = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, children, ...props }, ref) => {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      ref={ref}\n      id={formMessageId}\n      className={cn(\"text-sm font-medium text-white bg-gradient-to-r from-gold/10 to-gold-dark/10 border border-green/30 rounded px-3 py-2 mt-1\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n})\nFormMessage.displayName = \"FormMessage\"\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","path":null,"size_bytes":4206,"size_tokens":null},"client/src/components/ui/separator.tsx":{"content":"import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n","path":null,"size_bytes":756,"size_tokens":null},"client/src/components/Header.tsx":{"content":"import { useState } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Menu, X } from \"lucide-react\";\nimport logoUrl from \"@assets/logo_1762199548948.png\";\nimport brandLogoUrl from \"@assets/skills connect site name (3)_1762355369451.png\";\n\nexport default function Header() {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  return (\n    <motion.header \n      className=\"shadow-sm border-b border-green/20 bg-black sticky top-0 z-50\"\n      initial={{ y: -100, opacity: 0 }}\n      animate={{ y: 0, opacity: 1 }}\n      transition={{ duration: 0.6, ease: \"easeOut\" }}\n    >\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-36 sm:h-48 md:h-56 lg:h-60\">\n          {/* Logo and Brand Name */}\n          <motion.div \n            className=\"flex items-center\"\n            initial={{ x: -50, opacity: 0 }}\n            animate={{ x: 0, opacity: 1 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n          >\n            <Link href=\"/\" className=\"flex items-center gap-3 sm:gap-4 transition-all duration-300 transform hover:scale-105\">\n              <img \n                src={brandLogoUrl} \n                alt=\"SKILLS CONNECT\" \n                className=\"h-36 sm:h-48 md:h-56 lg:h-60 w-auto object-contain flex-shrink-0 shimmer-gold\"\n              />\n              <span className=\"text-sm sm:text-base md:text-lg lg:text-xl text-gold font-light whitespace-nowrap self-center text-glow-pulse\">Far East Rand</span>\n            </Link>\n          </motion.div>\n          \n          {/* Desktop Navigation - Hidden on mobile */}\n          <motion.nav \n            className=\"hidden lg:flex items-center space-x-6\"\n            initial={{ x: 50, opacity: 0 }}\n            animate={{ x: 0, opacity: 1 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n          >\n            <a href=\"/#services\" className=\"text-gold hover:text-yellow-300 transition-all duration-300 font-semibold hover:bg-gold/20 px-3 py-2 rounded-lg transform hover:scale-105 shadow-sm hover:shadow-md inline-flex items-center\">\n              Services\n            </a>\n            <Link href=\"/profiles\" className=\"text-gold hover:text-yellow-300 transition-all duration-300 font-semibold hover:bg-gold/20 px-3 py-2 rounded-lg transform hover:scale-105 shadow-sm hover:shadow-md cursor-pointer inline-flex items-center\">\n              Artisans\n            </Link>\n            <Link href=\"/contact\">\n              <Button variant=\"ghost\" className=\"text-gold hover:text-yellow-300 font-semibold hover:bg-gold/20 transition-all duration-300 transform hover:scale-105 shadow-sm hover:shadow-md\">\n                Contact\n              </Button>\n            </Link>\n            <Link href=\"/artisan\">\n              <Button className=\"bg-gold hover:bg-gold-dark text-black cosmic-glow-static px-6 py-2 font-bold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200\">\n                Register as an Artisan\n              </Button>\n            </Link>\n          </motion.nav>\n          \n          {/* Mobile Menu Button - Visible only on mobile */}\n          <motion.button \n            className=\"lg:hidden text-gold\"\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.6, delay: 0.6 }}\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n            aria-label=\"Toggle menu\"\n          >\n            {mobileMenuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\n          </motion.button>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      <AnimatePresence>\n        {mobileMenuOpen && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: \"auto\" }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"lg:hidden bg-black border-t border-green/20\"\n          >\n            <nav className=\"px-4 py-4 space-y-3\">\n              <a \n                href=\"/#services\" \n                className=\"block text-gold hover:text-yellow-300 transition-all duration-300 font-semibold hover:bg-gold/20 px-3 py-2 rounded-lg\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Services\n              </a>\n              <Link \n                href=\"/profiles\" \n                className=\"block text-gold hover:text-yellow-300 transition-all duration-300 font-semibold hover:bg-gold/20 px-3 py-2 rounded-lg\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Artisans\n              </Link>\n              <Link \n                href=\"/contact\" \n                className=\"block text-gold hover:text-yellow-300 transition-all duration-300 font-semibold hover:bg-gold/20 px-3 py-2 rounded-lg\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                Contact\n              </Link>\n              <Link \n                href=\"/artisan\" \n                className=\"block\"\n                onClick={() => setMobileMenuOpen(false)}\n              >\n                <Button className=\"w-full bg-gold hover:bg-gold-dark text-black cosmic-glow-static font-bold shadow-lg\">\n                  Register as an Artisan\n                </Button>\n              </Link>\n            </nav>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.header>\n  );\n}\n","path":null,"size_bytes":5503,"size_tokens":null},"client/src/components/AdSpaces.tsx":{"content":"import { Badge } from \"@/components/ui/badge\";\nimport { Wrench, Building, Truck } from \"lucide-react\";\n\nconst adSpaces = [\n  {\n    title: \"Hardware Store\",\n    description: \"Premium tools and building materials\",\n    icon: Wrench\n  },\n  {\n    title: \"Builders Warehouse\",\n    description: \"Construction supplies & equipment rental\",\n    icon: Building\n  },\n  {\n    title: \"Material Delivery\",\n    description: \"Fast delivery to your project site\",\n    icon: Truck\n  }\n];\n\nexport default function AdSpaces() {\n  return (\n    <section className=\"py-16 bg-gray-soft\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-12\">\n          <h3 className=\"text-2xl font-bold text-black-soft mb-4\">Trusted Hardware Partners</h3>\n          <p className=\"text-gray-600\">Get everything you need for your project from our verified suppliers.</p>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-6\">\n          {adSpaces.map((ad, index) => (\n            <div \n              key={index}\n              className=\"bg-white rounded-xl p-6 border-2 border-dashed border-gray-300 text-center hover:border-green/30 transition-colors cursor-pointer\"\n            >\n              <div className=\"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <ad.icon className=\"w-8 h-8 text-gold-dark\" />\n              </div>\n              <h4 className=\"font-semibold text-lg text-black-soft mb-2\">{ad.title}</h4>\n              <p className=\"text-gray-600 text-sm mb-4\">{ad.description}</p>\n              <Badge variant=\"secondary\" className=\"text-xs text-white/60 bg-gray-100\">\n                SPONSORED\n              </Badge>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":1787,"size_tokens":null},"client/src/lib/queryClient.ts":{"content":"import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey[0] as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: Infinity,\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n","path":null,"size_bytes":1376,"size_tokens":null},"client/src/components/ui/hover-card.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n","path":null,"size_bytes":1251,"size_tokens":null},"client/src/components/ui/card.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n","path":null,"size_bytes":1858,"size_tokens":null},"client/src/components/ui/avatar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n","path":null,"size_bytes":1419,"size_tokens":null},"client/src/components/ui/table.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-muted/50 font-medium [&>tr]:last:border-b-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","path":null,"size_bytes":2765,"size_tokens":null},"client/src/main.tsx":{"content":"import { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport \"../../node_modules/@uppy/core/dist/style.css\";\nimport \"../../node_modules/@uppy/dashboard/dist/style.css\";\n\ncreateRoot(document.getElementById(\"root\")!).render(<App />);\n","path":null,"size_bytes":272,"size_tokens":null},"client/src/components/ui/accordion.tsx":{"content":"import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n","path":null,"size_bytes":1977,"size_tokens":null},"client/src/pages/Home.tsx":{"content":"import { motion } from \"framer-motion\";\nimport Header from \"@/components/Header\";\nimport Hero from \"@/components/Hero\";\nimport ServiceCategories from \"@/components/ServiceCategories\";\nimport FeaturedArtisans from \"@/components/FeaturedArtisans\";\nimport TrustedPartners from \"@/components/TrustedPartners\";\nimport Footer from \"@/components/Footer\";\n\nconst fadeInUp = {\n  initial: { opacity: 0, y: 60 },\n  animate: { opacity: 1, y: 0 },\n  transition: { duration: 0.6 }\n};\n\nconst staggerContainer = {\n  animate: {\n    transition: {\n      staggerChildren: 0.2\n    }\n  }\n};\n\nexport default function Home() {\n  return (\n    <motion.div \n      className=\"min-h-screen bg-black\"\n      variants={staggerContainer}\n      initial=\"initial\"\n      animate=\"animate\"\n    >\n      <Header />\n      <motion.div variants={fadeInUp}>\n        <Hero />\n      </motion.div>\n      <motion.div variants={fadeInUp}>\n        <ServiceCategories />\n      </motion.div>\n      <motion.div variants={fadeInUp}>\n        <FeaturedArtisans />\n      </motion.div>\n      <motion.div variants={fadeInUp}>\n        <TrustedPartners />\n      </motion.div>\n      <motion.div variants={fadeInUp}>\n        <Footer />\n      </motion.div>\n    </motion.div>\n  );\n}\n","path":null,"size_bytes":1219,"size_tokens":null},"client/src/components/ui/collapsible.tsx":{"content":"\"use client\"\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n","path":null,"size_bytes":329,"size_tokens":null},"client/src/components/ui/button.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n","path":null,"size_bytes":1901,"size_tokens":null},"client/src/components/ui/context-menu.tsx":{"content":"import * as React from \"react\"\nimport * as ContextMenuPrimitive from \"@radix-ui/react-context-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ContextMenu = ContextMenuPrimitive.Root\n\nconst ContextMenuTrigger = ContextMenuPrimitive.Trigger\n\nconst ContextMenuGroup = ContextMenuPrimitive.Group\n\nconst ContextMenuPortal = ContextMenuPrimitive.Portal\n\nconst ContextMenuSub = ContextMenuPrimitive.Sub\n\nconst ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup\n\nconst ContextMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <ContextMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </ContextMenuPrimitive.SubTrigger>\n))\nContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName\n\nconst ContextMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName\n\nconst ContextMenuContent = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Portal>\n    <ContextMenuPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </ContextMenuPrimitive.Portal>\n))\nContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName\n\nconst ContextMenuItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName\n\nconst ContextMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <ContextMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.CheckboxItem>\n))\nContextMenuCheckboxItem.displayName =\n  ContextMenuPrimitive.CheckboxItem.displayName\n\nconst ContextMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <ContextMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <ContextMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </ContextMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </ContextMenuPrimitive.RadioItem>\n))\nContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName\n\nconst ContextMenuLabel = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <ContextMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold text-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName\n\nconst ContextMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof ContextMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <ContextMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName\n\nconst ContextMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nContextMenuShortcut.displayName = \"ContextMenuShortcut\"\n\nexport {\n  ContextMenu,\n  ContextMenuTrigger,\n  ContextMenuContent,\n  ContextMenuItem,\n  ContextMenuCheckboxItem,\n  ContextMenuRadioItem,\n  ContextMenuLabel,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuGroup,\n  ContextMenuPortal,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuRadioGroup,\n}\n","path":null,"size_bytes":7428,"size_tokens":null},"client/src/components/ui/chart.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as RechartsPrimitive from \"recharts\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Format: { THEME_NAME: CSS_SELECTOR }\nconst THEMES = { light: \"\", dark: \".dark\" } as const\n\nexport type ChartConfig = {\n  [k in string]: {\n    label?: React.ReactNode\n    icon?: React.ComponentType\n  } & (\n    | { color?: string; theme?: never }\n    | { color?: never; theme: Record<keyof typeof THEMES, string> }\n  )\n}\n\ntype ChartContextProps = {\n  config: ChartConfig\n}\n\nconst ChartContext = React.createContext<ChartContextProps | null>(null)\n\nfunction useChart() {\n  const context = React.useContext(ChartContext)\n\n  if (!context) {\n    throw new Error(\"useChart must be used within a <ChartContainer />\")\n  }\n\n  return context\n}\n\nconst ChartContainer = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    config: ChartConfig\n    children: React.ComponentProps<\n      typeof RechartsPrimitive.ResponsiveContainer\n    >[\"children\"]\n  }\n>(({ id, className, children, config, ...props }, ref) => {\n  const uniqueId = React.useId()\n  const chartId = `chart-${id || uniqueId.replace(/:/g, \"\")}`\n\n  return (\n    <ChartContext.Provider value={{ config }}>\n      <div\n        data-chart={chartId}\n        ref={ref}\n        className={cn(\n          \"flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none\",\n          className\n        )}\n        {...props}\n      >\n        <ChartStyle id={chartId} config={config} />\n        <RechartsPrimitive.ResponsiveContainer>\n          {children}\n        </RechartsPrimitive.ResponsiveContainer>\n      </div>\n    </ChartContext.Provider>\n  )\n})\nChartContainer.displayName = \"Chart\"\n\nconst ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {\n  const colorConfig = Object.entries(config).filter(\n    ([, config]) => config.theme || config.color\n  )\n\n  if (!colorConfig.length) {\n    return null\n  }\n\n  return (\n    <style\n      dangerouslySetInnerHTML={{\n        __html: Object.entries(THEMES)\n          .map(\n            ([theme, prefix]) => `\n${prefix} [data-chart=${id}] {\n${colorConfig\n  .map(([key, itemConfig]) => {\n    const color =\n      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||\n      itemConfig.color\n    return color ? `  --color-${key}: ${color};` : null\n  })\n  .join(\"\\n\")}\n}\n`\n          )\n          .join(\"\\n\"),\n      }}\n    />\n  )\n}\n\nconst ChartTooltip = RechartsPrimitive.Tooltip\n\nconst ChartTooltipContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &\n    React.ComponentProps<\"div\"> & {\n      hideLabel?: boolean\n      hideIndicator?: boolean\n      indicator?: \"line\" | \"dot\" | \"dashed\"\n      nameKey?: string\n      labelKey?: string\n    }\n>(\n  (\n    {\n      active,\n      payload,\n      className,\n      indicator = \"dot\",\n      hideLabel = false,\n      hideIndicator = false,\n      label,\n      labelFormatter,\n      labelClassName,\n      formatter,\n      color,\n      nameKey,\n      labelKey,\n    },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    const tooltipLabel = React.useMemo(() => {\n      if (hideLabel || !payload?.length) {\n        return null\n      }\n\n      const [item] = payload\n      const key = `${labelKey || item?.dataKey || item?.name || \"value\"}`\n      const itemConfig = getPayloadConfigFromPayload(config, item, key)\n      const value =\n        !labelKey && typeof label === \"string\"\n          ? config[label as keyof typeof config]?.label || label\n          : itemConfig?.label\n\n      if (labelFormatter) {\n        return (\n          <div className={cn(\"font-medium\", labelClassName)}>\n            {labelFormatter(value, payload)}\n          </div>\n        )\n      }\n\n      if (!value) {\n        return null\n      }\n\n      return <div className={cn(\"font-medium\", labelClassName)}>{value}</div>\n    }, [\n      label,\n      labelFormatter,\n      payload,\n      hideLabel,\n      labelClassName,\n      config,\n      labelKey,\n    ])\n\n    if (!active || !payload?.length) {\n      return null\n    }\n\n    const nestLabel = payload.length === 1 && indicator !== \"dot\"\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl\",\n          className\n        )}\n      >\n        {!nestLabel ? tooltipLabel : null}\n        <div className=\"grid gap-1.5\">\n          {payload.map((item, index) => {\n            const key = `${nameKey || item.name || item.dataKey || \"value\"}`\n            const itemConfig = getPayloadConfigFromPayload(config, item, key)\n            const indicatorColor = color || item.payload.fill || item.color\n\n            return (\n              <div\n                key={item.dataKey}\n                className={cn(\n                  \"flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground\",\n                  indicator === \"dot\" && \"items-center\"\n                )}\n              >\n                {formatter && item?.value !== undefined && item.name ? (\n                  formatter(item.value, item.name, item, index, item.payload)\n                ) : (\n                  <>\n                    {itemConfig?.icon ? (\n                      <itemConfig.icon />\n                    ) : (\n                      !hideIndicator && (\n                        <div\n                          className={cn(\n                            \"shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]\",\n                            {\n                              \"h-2.5 w-2.5\": indicator === \"dot\",\n                              \"w-1\": indicator === \"line\",\n                              \"w-0 border-[1.5px] border-dashed bg-transparent\":\n                                indicator === \"dashed\",\n                              \"my-0.5\": nestLabel && indicator === \"dashed\",\n                            }\n                          )}\n                          style={\n                            {\n                              \"--color-bg\": indicatorColor,\n                              \"--color-border\": indicatorColor,\n                            } as React.CSSProperties\n                          }\n                        />\n                      )\n                    )}\n                    <div\n                      className={cn(\n                        \"flex flex-1 justify-between leading-none\",\n                        nestLabel ? \"items-end\" : \"items-center\"\n                      )}\n                    >\n                      <div className=\"grid gap-1.5\">\n                        {nestLabel ? tooltipLabel : null}\n                        <span className=\"text-muted-foreground\">\n                          {itemConfig?.label || item.name}\n                        </span>\n                      </div>\n                      {item.value && (\n                        <span className=\"font-mono font-medium tabular-nums text-foreground\">\n                          {item.value.toLocaleString()}\n                        </span>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    )\n  }\n)\nChartTooltipContent.displayName = \"ChartTooltip\"\n\nconst ChartLegend = RechartsPrimitive.Legend\n\nconst ChartLegendContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> &\n    Pick<RechartsPrimitive.LegendProps, \"payload\" | \"verticalAlign\"> & {\n      hideIcon?: boolean\n      nameKey?: string\n    }\n>(\n  (\n    { className, hideIcon = false, payload, verticalAlign = \"bottom\", nameKey },\n    ref\n  ) => {\n    const { config } = useChart()\n\n    if (!payload?.length) {\n      return null\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex items-center justify-center gap-4\",\n          verticalAlign === \"top\" ? \"pb-3\" : \"pt-3\",\n          className\n        )}\n      >\n        {payload.map((item) => {\n          const key = `${nameKey || item.dataKey || \"value\"}`\n          const itemConfig = getPayloadConfigFromPayload(config, item, key)\n\n          return (\n            <div\n              key={item.value}\n              className={cn(\n                \"flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground\"\n              )}\n            >\n              {itemConfig?.icon && !hideIcon ? (\n                <itemConfig.icon />\n              ) : (\n                <div\n                  className=\"h-2 w-2 shrink-0 rounded-[2px]\"\n                  style={{\n                    backgroundColor: item.color,\n                  }}\n                />\n              )}\n              {itemConfig?.label}\n            </div>\n          )\n        })}\n      </div>\n    )\n  }\n)\nChartLegendContent.displayName = \"ChartLegend\"\n\n// Helper to extract item config from a payload.\nfunction getPayloadConfigFromPayload(\n  config: ChartConfig,\n  payload: unknown,\n  key: string\n) {\n  if (typeof payload !== \"object\" || payload === null) {\n    return undefined\n  }\n\n  const payloadPayload =\n    \"payload\" in payload &&\n    typeof payload.payload === \"object\" &&\n    payload.payload !== null\n      ? payload.payload\n      : undefined\n\n  let configLabelKey: string = key\n\n  if (\n    key in payload &&\n    typeof payload[key as keyof typeof payload] === \"string\"\n  ) {\n    configLabelKey = payload[key as keyof typeof payload] as string\n  } else if (\n    payloadPayload &&\n    key in payloadPayload &&\n    typeof payloadPayload[key as keyof typeof payloadPayload] === \"string\"\n  ) {\n    configLabelKey = payloadPayload[\n      key as keyof typeof payloadPayload\n    ] as string\n  }\n\n  return configLabelKey in config\n    ? config[configLabelKey]\n    : config[key as keyof typeof config]\n}\n\nexport {\n  ChartContainer,\n  ChartTooltip,\n  ChartTooltipContent,\n  ChartLegend,\n  ChartLegendContent,\n  ChartStyle,\n}\n","path":null,"size_bytes":10481,"size_tokens":null},"tailwind.config.ts":{"content":"import type { Config } from \"tailwindcss\";\n\nexport default {\n  darkMode: [\"class\"],\n  content: [\"./client/index.html\", \"./client/src/**/*.{js,jsx,ts,tsx}\"],\n  theme: {\n    extend: {\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      colors: {\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        chart: {\n          \"1\": \"hsl(var(--chart-1))\",\n          \"2\": \"hsl(var(--chart-2))\",\n          \"3\": \"hsl(var(--chart-3))\",\n          \"4\": \"hsl(var(--chart-4))\",\n          \"5\": \"hsl(var(--chart-5))\",\n        },\n        gold: {\n          DEFAULT: \"hsl(var(--gold))\",\n          dark: \"hsl(var(--gold-dark))\",\n          royal: \"hsl(var(--gold-royal))\",\n        },\n        green: {\n          DEFAULT: \"hsl(var(--green))\",\n          light: \"hsl(var(--green-light))\",\n          dark: \"hsl(var(--green-dark))\",\n        },\n      },\n      keyframes: {\n        \"accordion-down\": {\n          from: {\n            height: \"0\",\n          },\n          to: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n        },\n        \"accordion-up\": {\n          from: {\n            height: \"var(--radix-accordion-content-height)\",\n          },\n          to: {\n            height: \"0\",\n          },\n        },\n        cosmicFloat: {\n          \"0%, 100%\": {\n            transform: \"translateY(0px) translateX(0px) scale(1)\",\n            opacity: \"0.3\",\n          },\n          \"25%\": {\n            transform: \"translateY(-20px) translateX(10px) scale(1.1)\",\n            opacity: \"0.7\",\n          },\n          \"50%\": {\n            transform: \"translateY(-10px) translateX(-5px) scale(0.9)\",\n            opacity: \"0.5\",\n          },\n          \"75%\": {\n            transform: \"translateY(-30px) translateX(15px) scale(1.05)\",\n            opacity: \"0.8\",\n          },\n        },\n        cosmicGlow: {\n          \"0%, 100%\": {\n            boxShadow: \"0 0 8px rgba(218, 165, 32, 0.4)\",\n          },\n          \"50%\": {\n            boxShadow: \"0 0 25px rgba(218, 165, 32, 0.8), 0 0 35px rgba(184, 134, 11, 0.5)\",\n          },\n        },\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        cosmicFloat: \"cosmicFloat 6s ease-in-out infinite\",\n        cosmicGlow: \"cosmicGlow 3s ease-in-out infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require(\"@tailwindcss/typography\")],\n} satisfies Config;\n","path":null,"size_bytes":3550,"size_tokens":null},"client/src/components/ui/input-otp.tsx":{"content":"import * as React from \"react\"\nimport { OTPInput, OTPInputContext } from \"input-otp\"\nimport { Dot } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst InputOTP = React.forwardRef<\n  React.ElementRef<typeof OTPInput>,\n  React.ComponentPropsWithoutRef<typeof OTPInput>\n>(({ className, containerClassName, ...props }, ref) => (\n  <OTPInput\n    ref={ref}\n    containerClassName={cn(\n      \"flex items-center gap-2 has-[:disabled]:opacity-50\",\n      containerClassName\n    )}\n    className={cn(\"disabled:cursor-not-allowed\", className)}\n    {...props}\n  />\n))\nInputOTP.displayName = \"InputOTP\"\n\nconst InputOTPGroup = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"flex items-center\", className)} {...props} />\n))\nInputOTPGroup.displayName = \"InputOTPGroup\"\n\nconst InputOTPSlot = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\"> & { index: number }\n>(({ index, className, ...props }, ref) => {\n  const inputOTPContext = React.useContext(OTPInputContext)\n  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]\n\n  return (\n    <div\n      ref={ref}\n      className={cn(\n        \"relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md\",\n        isActive && \"z-10 ring-2 ring-ring ring-offset-background\",\n        className\n      )}\n      {...props}\n    >\n      {char}\n      {hasFakeCaret && (\n        <div className=\"pointer-events-none absolute inset-0 flex items-center justify-center\">\n          <div className=\"h-4 w-px animate-caret-blink bg-foreground duration-1000\" />\n        </div>\n      )}\n    </div>\n  )\n})\nInputOTPSlot.displayName = \"InputOTPSlot\"\n\nconst InputOTPSeparator = React.forwardRef<\n  React.ElementRef<\"div\">,\n  React.ComponentPropsWithoutRef<\"div\">\n>(({ ...props }, ref) => (\n  <div ref={ref} role=\"separator\" {...props}>\n    <Dot />\n  </div>\n))\nInputOTPSeparator.displayName = \"InputOTPSeparator\"\n\nexport { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }\n","path":null,"size_bytes":2154,"size_tokens":null},"client/src/components/ui/toast.tsx":{"content":"import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-green/30 bg-gradient-to-r from-gold/10 to-gold-dark/10 text-white\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-gold/80 group-[.destructive]:hover:text-gold group-[.destructive]:focus:ring-gold/40\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold text-white\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm text-white opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n","path":null,"size_bytes":4829,"size_tokens":null},"client/src/pages/AdminBulkImport.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Upload, Download, CheckCircle, AlertCircle, Lock } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { InsertArtisan } from \"@shared/schema\";\n\nexport default function AdminBulkImport() {\n  const [adminKey, setAdminKey] = useState(\"\");\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [csvData, setCsvData] = useState(\"\");\n  const [importResults, setImportResults] = useState<{ success: number; errors: string[] } | null>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Simple admin authentication\n  const handleAdminAuth = () => {\n    if (adminKey === \"kasi-admin-2024\") {\n      setIsAuthenticated(true);\n      toast({\n        title: \"Admin Access Granted\",\n        description: \"You can now access the bulk import functionality.\",\n      });\n    } else {\n      toast({\n        title: \"Access Denied\",\n        description: \"Invalid admin key.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const importMutation = useMutation({\n    mutationFn: async (artisans: InsertArtisan[]) => {\n      const results = { success: 0, errors: [] as string[] };\n      \n      for (let i = 0; i < artisans.length; i++) {\n        try {\n          await apiRequest(\"POST\", `/api/artisans`, artisans[i]);\n          results.success++;\n        } catch (error) {\n          results.errors.push(`Row ${i + 2}: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n      }\n      \n      return results;\n    },\n    onSuccess: (results) => {\n      setImportResults(results);\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n      \n      if (results.success > 0) {\n        toast({\n          title: \"Import completed\",\n          description: `Successfully imported ${results.success} artisan(s)`,\n        });\n      }\n      \n      if (results.errors.length > 0) {\n        toast({\n          title: \"Some imports failed\",\n          description: `${results.errors.length} artisan(s) failed to import`,\n          variant: \"destructive\",\n        });\n      }\n    },\n    onError: () => {\n      toast({\n        title: \"Import failed\",\n        description: \"There was an error processing the bulk import\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const parseCsvData = (csv: string): InsertArtisan[] => {\n    const lines = csv.trim().split('\\n');\n    const headers = lines[0].split(',').map(h => h.trim());\n    \n    return lines.slice(1).map(line => {\n      const values = line.split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n      const artisan: any = {};\n      \n      headers.forEach((header, index) => {\n        const value = values[index] || '';\n        \n        switch (header.toLowerCase()) {\n          case 'firstname':\n          case 'first_name':\n            artisan.firstName = value;\n            break;\n          case 'lastname':\n          case 'last_name':\n            artisan.lastName = value;\n            break;\n          case 'email':\n            artisan.email = value;\n            break;\n          case 'phone':\n            artisan.phone = value;\n            break;\n          case 'location':\n            artisan.location = value;\n            break;\n          case 'services':\n            artisan.services = value.split(';').map(s => s.trim()).filter(Boolean);\n            break;\n          case 'description':\n            artisan.description = value;\n            break;\n          case 'yearsexperience':\n          case 'years_experience':\n            artisan.yearsExperience = parseInt(value) || 0;\n            break;\n          case 'profileimage':\n          case 'profile_image':\n            artisan.profileImage = value || null;\n            break;\n          case 'portfolio':\n            artisan.portfolio = value ? value.split(';').map(s => s.trim()).filter(Boolean) : [];\n            break;\n          case 'iddocument':\n          case 'id_document':\n            artisan.idDocument = value || null;\n            break;\n          case 'qualificationdocuments':\n          case 'qualification_documents':\n            artisan.qualificationDocuments = value ? value.split(';').map(s => s.trim()).filter(Boolean) : [];\n            break;\n        }\n      });\n      \n      return artisan as InsertArtisan;\n    });\n  };\n\n  const handleImport = () => {\n    if (!csvData.trim()) {\n      toast({\n        title: \"No data provided\",\n        description: \"Please paste CSV data before importing\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      const artisans = parseCsvData(csvData);\n      if (artisans.length === 0) {\n        toast({\n          title: \"No valid data\",\n          description: \"No artisan records found in the CSV data\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      importMutation.mutate(artisans);\n    } catch (error) {\n      toast({\n        title: \"Invalid CSV format\",\n        description: \"Please check your CSV data format\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-black py-12 flex items-center justify-center\">\n        <Card className=\"w-full max-w-md\">\n          <CardHeader className=\"text-center\">\n            <div className=\"mx-auto w-12 h-12 bg-gold/10 rounded-full flex items-center justify-center mb-4\">\n              <Lock className=\"w-6 h-6 text-gold\" />\n            </div>\n            <CardTitle>Admin Access Required</CardTitle>\n            <CardDescription>\n              Enter the admin key to access bulk import functionality\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Input\n                type=\"password\"\n                placeholder=\"Enter admin key\"\n                value={adminKey}\n                onChange={(e) => setAdminKey(e.target.value)}\n                onKeyPress={(e) => e.key === \"Enter\" && handleAdminAuth()}\n              />\n              <Button \n                onClick={handleAdminAuth}\n                className=\"w-full bg-green hover:bg-green-dark text-white cosmic-glow-static\"\n              >\n                Authenticate\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  const downloadTemplate = () => {\n    const template = `firstName,lastName,email,phone,location,services,description,yearsExperience,profileImage,portfolio,idDocument,qualificationDocuments\nJohn,Doe,john.doe@email.com,+27 82 123 4567,\"Cape Town, Western Cape\",builders;carpenters,\"Experienced builder with 10+ years in residential construction\",10,JD,\"project1.jpg;project2.jpg\",id_001.pdf,\"cert1.pdf;cert2.pdf\"\nJane,Smith,jane.smith@email.com,+27 83 456 7890,\"Johannesburg, Gauteng\",electricians,\"Certified electrician specializing in smart home installations\",8,JS,portfolio1.jpg,id_002.pdf,electrical_cert.pdf`;\n    \n    const blob = new Blob([template], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'artisan_import_template.csv';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black py-12\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-black-soft mb-4\">Admin - Bulk Artisan Import</h1>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Administrative access to bulk import artisan data.\n          </p>\n        </div>\n\n        <div className=\"space-y-8\">\n          {/* Instructions */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Upload className=\"w-5 h-5\" />\n                <span>Import Instructions</span>\n              </CardTitle>\n              <CardDescription>\n                Follow these steps to import artisan data successfully\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Required Fields:</h4>\n                  <ul className=\"text-sm text-gray-600 space-y-1\">\n                    <li>â€¢ firstName</li>\n                    <li>â€¢ lastName</li>\n                    <li>â€¢ email (must be unique)</li>\n                    <li>â€¢ phone</li>\n                    <li>â€¢ location</li>\n                    <li>â€¢ services (semicolon separated)</li>\n                    <li>â€¢ description</li>\n                    <li>â€¢ yearsExperience (number)</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Optional Fields:</h4>\n                  <ul className=\"text-sm text-gray-600 space-y-1\">\n                    <li>â€¢ profileImage</li>\n                    <li>â€¢ portfolio (semicolon separated)</li>\n                    <li>â€¢ idDocument</li>\n                    <li>â€¢ qualificationDocuments (semicolon separated)</li>\n                  </ul>\n                </div>\n              </div>\n              \n              <div className=\"flex space-x-4\">\n                <Button \n                  variant=\"outline\" \n                  onClick={downloadTemplate}\n                  className=\"flex items-center space-x-2\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  <span>Download Template</span>\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* CSV Input */}\n          <Card>\n            <CardHeader>\n              <CardTitle>CSV Data</CardTitle>\n              <CardDescription>\n                Paste your CSV data below (include headers in the first row)\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Textarea\n                placeholder=\"firstName,lastName,email,phone,location,services,description,yearsExperience\nJohn,Doe,john.doe@email.com,+27 82 123 4567,Cape Town,builders,Experienced builder,10\"\n                value={csvData}\n                onChange={(e) => setCsvData(e.target.value)}\n                className=\"min-h-[200px] font-mono text-sm\"\n              />\n              \n              <div className=\"mt-4\">\n                <Button \n                  onClick={handleImport}\n                  disabled={importMutation.isPending || !csvData.trim()}\n                  className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\"\n                >\n                  {importMutation.isPending ? \"Importing...\" : \"Import Artisans\"}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Results */}\n          {importResults && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  {importResults.errors.length === 0 ? (\n                    <CheckCircle className=\"w-5 h-5 text-green\" />\n                  ) : (\n                    <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\n                  )}\n                  <span>Import Results</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"bg-green/10 text-green-dark px-3 py-1 rounded-full text-sm\">\n                      âœ“ {importResults.success} successful\n                    </div>\n                    {importResults.errors.length > 0 && (\n                      <div className=\"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm\">\n                        âœ— {importResults.errors.length} failed\n                      </div>\n                    )}\n                  </div>\n                  \n                  {importResults.errors.length > 0 && (\n                    <div>\n                      <h4 className=\"font-semibold mb-2 text-red-800\">Errors:</h4>\n                      <ul className=\"text-sm text-red-600 space-y-1\">\n                        {importResults.errors.map((error, index) => (\n                          <li key={index}>â€¢ {error}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":13051,"size_tokens":null},"client/src/components/ServiceCategories.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { useLocation } from \"wouter\";\nimport { getServiceIcon } from \"@/lib/utils\";\n\nconst services = [\n  {\n    id: \"builders\",\n    name: \"Builders\",\n    description: \"Construction & renovation experts\",\n    image: \"https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"plumbers\",\n    name: \"Plumbers\",\n    description: \"Water & drainage specialists\",\n    image: \"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"electricians\",\n    name: \"Electricians\",\n    description: \"Electrical installation & repair\",\n    image: \"https://images.unsplash.com/photo-1609010697446-11f2155278f0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"painters\",\n    name: \"Painters\",\n    description: \"Interior & exterior painting\",\n    image: \"https://images.unsplash.com/photo-1589939705384-5185137a7f0f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"tilers\",\n    name: \"Tilers\",\n    description: \"Floor & wall tiling experts\",\n    image: \"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"carpenters\",\n    name: \"Carpenters\",\n    description: \"Custom woodwork & furniture\",\n    image: \"https://images.unsplash.com/photo-1504307651254-35680f356dfd?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"landscapers\",\n    name: \"Landscapers\",\n    description: \"Garden design & maintenance\",\n    image: \"https://images.unsplash.com/photo-1558904541-efa843a96f01?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  },\n  {\n    id: \"mechanics\",\n    name: \"Mechanics\",\n    description: \"Vehicle repair & maintenance\",\n    image: \"https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300\"\n  }\n];\n\nconst containerVariants = {\n  hidden: {},\n  visible: {\n    transition: {\n      staggerChildren: 0.1\n    }\n  }\n};\n\nconst itemVariants = {\n  hidden: { \n    opacity: 0, \n    y: 60,\n    scale: 0.8\n  },\n  visible: { \n    opacity: 1, \n    y: 0,\n    scale: 1,\n    transition: {\n      duration: 0.6,\n      ease: \"easeOut\"\n    }\n  }\n};\n\nexport default function ServiceCategories() {\n  const [, setLocation] = useLocation();\n\n  const selectService = (serviceId: string) => {\n    setLocation(`/service/${serviceId}`);\n  };\n\n  return (\n    <section id=\"services\" className=\"py-16 lg:py-24 bg-black\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <motion.div \n          className=\"text-center mb-16\"\n          initial={{ opacity: 0, y: 30 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n        >\n          <motion.h3 \n            className=\"text-3xl md:text-4xl font-bold text-gold mb-4\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            viewport={{ once: true }}\n          >\n            Our Services\n          </motion.h3>\n          <motion.p \n            className=\"text-xl text-white/80 max-w-2xl mx-auto\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            viewport={{ once: true }}\n          >\n            Browse our most requested artisan services and find the perfect professional for your project.\n          </motion.p>\n        </motion.div>\n        \n        <motion.div \n          className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\"\n          variants={containerVariants}\n          initial=\"hidden\"\n          whileInView=\"visible\"\n          viewport={{ once: true, amount: 0.2 }}\n        >\n          {services.map((service, index) => (\n            <motion.div \n              key={service.id}\n              variants={itemVariants}\n              className=\"group cursor-pointer\"\n              onClick={() => selectService(service.id)}\n              whileHover={{ \n                scale: 1.05,\n                y: -5,\n                transition: { duration: 0.2 }\n              }}\n              whileTap={{ scale: 0.95 }}\n            >\n              <div className=\"relative bg-black rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 cosmic-selection border-2 border-green/30 hover:border-green card-modern hover-lift\">\n                <div className=\"absolute inset-0\">\n                  <img \n                    src={service.image}\n                    alt={service.name}\n                    className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300\"\n                  />\n                  <div className=\"absolute inset-0 bg-gradient-to-b from-black/70 via-black/80 to-black/95 group-hover:from-black/60 group-hover:via-black/75 transition-colors duration-300\"></div>\n                </div>\n                <div className=\"relative p-8 h-64 flex flex-col justify-end\">\n                  <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center mb-4 group-hover:bg-gold/40 transition-colors border border-green/40\">\n                    <i className={`${getServiceIcon(service.id)} text-2xl text-gold`} />\n                  </div>\n                  <h4 className=\"font-bold text-2xl text-gold mb-2\">{service.name}</h4>\n                  <p className=\"text-white/90 text-sm\">{service.description}</p>\n                </div>\n              </div>\n            </motion.div>\n          ))}\n\n          <motion.div \n            className=\"group cursor-pointer\"\n            onClick={() => selectService(\"all\")}\n            variants={itemVariants}\n            whileHover={{ \n              scale: 1.05,\n              y: -5,\n              transition: { duration: 0.2 }\n            }}\n            whileTap={{ scale: 0.95 }}\n          >\n            <div className=\"relative bg-gradient-to-br from-amber-700/90 to-amber-900 rounded-2xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300 text-white cosmic-glow border-2 border-green/30\">\n              <div className=\"p-8 h-64 flex flex-col justify-end\">\n                <div className=\"w-12 h-12 bg-gold/20 rounded-full flex items-center justify-center mb-4 border border-green/30\">\n                  <i className=\"fas fa-plus text-2xl text-white\" />\n                </div>\n                <h4 className=\"font-bold text-2xl mb-2\">More Services Coming</h4>\n                <p className=\"text-white/90 text-sm\">We're expanding our service categories</p>\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":6785,"size_tokens":null},"client/src/pages/ArtisanLogin.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { useState } from \"react\";\nimport React from \"react\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Link, useLocation } from \"wouter\";\nimport { z } from \"zod\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { ArrowLeft, Mail, Lock, CheckCircle, AlertCircle } from \"lucide-react\";\nimport { FcGoogle } from \"react-icons/fc\";\n\nconst loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nexport default function ArtisanLogin() {\n  const [, setLocation] = useLocation();\n  const { toast } = useToast();\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  // Check for token in URL parameters (from Google OAuth callback)\n  React.useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token');\n    \n    if (token) {\n      // Store the token and redirect\n      localStorage.setItem('artisan_token', token);\n      toast({\n        title: \"Google Sign-In Successful!\",\n        description: \"You have been logged in successfully.\",\n      });\n      \n      // Clear the token from URL and redirect\n      window.history.replaceState({}, document.title, window.location.pathname);\n      setTimeout(() => {\n        setLocation('/artisan/dashboard');\n      }, 1500);\n    }\n  }, [toast, setLocation]);\n\n  const form = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: LoginFormData) => {\n      const response = await apiRequest(\"POST\", \"/api/artisan/login\", data);\n      return await response.json();\n    },\n    onSuccess: (data: any) => {\n      if (data && data.token) {\n        // Store the JWT token\n        localStorage.setItem('artisan_token', data.token);\n        localStorage.setItem('artisan_user', JSON.stringify(data.artisan));\n        \n        setIsSuccess(true);\n        toast({\n          title: \"Login Successful!\",\n          description: `Welcome back, ${data.artisan.firstName}!`,\n        });\n\n        // Redirect to artisan dashboard after a brief delay\n        setTimeout(() => {\n          setLocation('/artisan/dashboard');\n        }, 2000);\n      }\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Login Failed\",\n        description: error.message || \"Please check your email and password and try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: LoginFormData) => {\n    loginMutation.mutate(data);\n  };\n\n  if (isSuccess) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"flex items-center justify-center min-h-[calc(100vh-200px)]\">\n          <motion.div\n            initial={{ scale: 0.8, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            transition={{ duration: 0.5 }}\n            className=\"text-center\"\n          >\n            <CheckCircle className=\"w-16 h-16 text-green mx-auto mb-4\" />\n            <h2 className=\"text-2xl font-bold text-green mb-2\">Login Successful!</h2>\n            <p className=\"text-gray-600\">Redirecting to your dashboard...</p>\n          </motion.div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main className=\"py-12\">\n        <div className=\"max-w-lg mx-auto px-4 sm:px-6 lg:px-8\">\n          <FadeInSection>\n            <div className=\"mb-8\">\n              <Link href=\"/artisan\">\n                <Button variant=\"ghost\" className=\"text-gold hover:text-gold-dark mb-4\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Artisan Options\n                </Button>\n              </Link>\n            </div>\n\n            <Card className=\"shadow-lg border-0\">\n              <CardHeader className=\"text-center pb-4\">\n                <CardTitle className=\"text-3xl font-bold text-black-soft mb-2\">\n                  Welcome Back\n                </CardTitle>\n                <p className=\"text-gray-600\">\n                  Sign in to your Skills Connect artisan account\n                </p>\n              </CardHeader>\n              \n              <CardContent className=\"pt-2\">\n                {/* Google Sign In */}\n                <div className=\"mb-6\">\n                  <Button\n                    type=\"button\"\n                    variant=\"outline\"\n                    className=\"w-full py-3 text-lg font-medium border-2 hover:bg-gray-50 transition-colors\"\n                    onClick={() => {\n                      window.location.href = \"/api/auth/google\";\n                    }}\n                  >\n                    <FcGoogle className=\"w-5 h-5 mr-3\" />\n                    Continue with Google\n                  </Button>\n                </div>\n\n                <div className=\"relative my-6\">\n                  <Separator />\n                  <span className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-4 text-sm text-white/60\">\n                    or continue with email\n                  </span>\n                </div>\n\n                {/* Email/Password Sign In */}\n                <Form {...form}>\n                  <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n                    <FormField\n                      control={form.control}\n                      name=\"email\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <FormLabel className=\"text-black-soft\">Email Address</FormLabel>\n                          <FormControl>\n                            <div className=\"relative\">\n                              <Mail className=\"absolute left-3 top-3 h-4 w-4 text-white/70\" />\n                              <Input\n                                placeholder=\"Enter your email\"\n                                className=\"pl-10 py-3 text-lg\"\n                                {...field}\n                              />\n                            </div>\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <FormField\n                      control={form.control}\n                      name=\"password\"\n                      render={({ field }) => (\n                        <FormItem>\n                          <div className=\"flex items-center justify-between\">\n                            <FormLabel className=\"text-black-soft\">Password</FormLabel>\n                            <button\n                              type=\"button\"\n                              className=\"text-sm text-gold hover:text-gold-dark font-medium\"\n                              onClick={() => {\n                                toast({\n                                  title: \"Password Reset\",\n                                  description: \"Password reset functionality will be available soon. Please contact support if you need help.\",\n                                });\n                              }}\n                            >\n                              Forgot password?\n                            </button>\n                          </div>\n                          <FormControl>\n                            <div className=\"relative\">\n                              <Lock className=\"absolute left-3 top-3 h-4 w-4 text-white/70\" />\n                              <Input\n                                type=\"password\"\n                                placeholder=\"Enter your password\"\n                                className=\"pl-10 py-3 text-lg\"\n                                {...field}\n                              />\n                            </div>\n                          </FormControl>\n                          <FormMessage />\n                        </FormItem>\n                      )}\n                    />\n\n                    <Button\n                      type=\"submit\"\n                      className=\"w-full bg-green hover:bg-green-dark text-white font-semibold py-4 text-lg rounded-lg shadow-md hover:shadow-lg transition-all\"\n                      disabled={loginMutation.isPending}\n                    >\n                      {loginMutation.isPending ? \"Signing In...\" : \"Sign In with Email\"}\n                    </Button>\n                  </form>\n                </Form>\n\n                <div className=\"mt-8 pt-6 border-t border-gray-200\">\n                  <p className=\"text-center text-gray-600 mb-4\">\n                    Don't have an artisan account yet?\n                  </p>\n                  <Link href=\"/register-artisan\">\n                    <Button variant=\"outline\" className=\"w-full py-3 text-lg font-medium border-2 border-blue-600 text-blue-600 hover:bg-blue-50\">\n                      Create Your Artisan Profile\n                    </Button>\n                  </Link>\n                </div>\n\n                <div className=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                  <div className=\"flex items-start\">\n                    <AlertCircle className=\"w-5 h-5 text-blue-500 mt-0.5 mr-2 flex-shrink-0\" />\n                    <div className=\"text-sm text-blue-700\">\n                      <p className=\"font-medium mb-1\">New to Skills Connect?</p>\n                      <p>After registering, you'll receive an email verification link. Please check your email and verify your account before logging in.</p>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          </FadeInSection>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","path":null,"size_bytes":10523,"size_tokens":null},"client/src/pages/ViewProfiles.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { useState } from \"react\";\nimport { User, MapPin, Phone, Mail, Briefcase, Star, CheckCircle, XCircle, Clock, ArrowLeft } from \"lucide-react\";\n\nconst serviceOptions = [\n  { id: \"builders\", label: \"Builder\" },\n  { id: \"plumbers\", label: \"Plumber\" },\n  { id: \"electricians\", label: \"Electrician\" },\n  { id: \"painters\", label: \"Painter\" },\n  { id: \"carpenters\", label: \"Carpenter\" },\n  { id: \"roofers\", label: \"Roofer\" },\n  { id: \"gardeners\", label: \"Gardener\" },\n  { id: \"cleaners\", label: \"Cleaner\" },\n  { id: \"landscapers\", label: \"Landscaper\" },\n];\n\nconst locationOptions = [\n  \"Brakpan\",\n  \"Benoni\",\n  \"Springs\",\n  \"Nigel\",\n  \"Daveyton\",\n  \"Boksburg\",\n  \"Germiston\",\n  \"Kempton Park\",\n  \"Alberton\",\n  \"Edenvale\",\n];\n\nexport default function ViewProfiles() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterService, setFilterService] = useState(\"\");\n  const [filterLocation, setFilterLocation] = useState(\"\");\n  const [filterStatus, setFilterStatus] = useState(\"\");\n\n  const { data: artisans = [], isLoading } = useQuery<any[]>({\n    queryKey: [\"/api/artisans\"],\n  });\n\n  // Filter artisans based on search criteria\n  const filteredArtisans = artisans.filter((artisan: any) => {\n    const matchesSearch = !searchTerm || \n      `${artisan.firstName} ${artisan.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      artisan.email.toLowerCase().includes(searchTerm.toLowerCase());\n    \n    const matchesService = !filterService || filterService === 'all' || (artisan.services && artisan.services.includes(filterService));\n    \n    const matchesLocation = !filterLocation || filterLocation === 'all' || \n      (artisan.location && artisan.location.toLowerCase().includes(filterLocation.toLowerCase()));\n    \n    const matchesStatus = !filterStatus || filterStatus === 'all' || artisan.approvalStatus === filterStatus;\n    \n    return matchesSearch && matchesService && matchesLocation && matchesStatus;\n  });\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'approved': return 'bg-green text-white';\n      case 'rejected': return 'bg-red-900 text-white';\n      default: return 'bg-zinc-700 text-white';\n    }\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'approved': return <CheckCircle className=\"w-3 h-3\" />;\n      case 'rejected': return <XCircle className=\"w-3 h-3\" />;\n      default: return <Clock className=\"w-3 h-3\" />;\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main className=\"py-12\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <FadeInSection>\n            <div className=\"mb-8\">\n              <Link href=\"/\">\n                <Button variant=\"outline\" className=\"mb-4 border border-green/30 text-gold hover:bg-gold/10\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n              <h1 className=\"text-4xl font-bold text-white mb-2\">\n                Artisan Profiles\n              </h1>\n              <p className=\"text-lg text-white/90\">\n                Browse and search through all registered artisan profiles\n              </p>\n            </div>\n\n            {/* Search and Filter Section */}\n            <Card className=\"mb-8 shadow-lg border border-green/30 bg-black\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Search & Filter</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n                  {/* REORDERED: 1. Filter by service */}\n                  <div>\n                    <Select value={filterService} onValueChange={setFilterService}>\n                      <SelectTrigger className=\"bg-zinc-800 border border-green/30 text-white placeholder:text-white/60\">\n                        <SelectValue placeholder=\"Filter by service\" />\n                      </SelectTrigger>\n                      <SelectContent className=\"bg-zinc-800 border border-green/30 text-gold\">\n                        <SelectItem value=\"all\" className=\"text-gold\">All Services</SelectItem>\n                        {serviceOptions.map((service) => (\n                          <SelectItem key={service.id} value={service.id} className=\"text-gold\">\n                            {service.label}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  {/* REORDERED: 2. Filter by location */}\n                  <div>\n                    <Select value={filterLocation} onValueChange={setFilterLocation}>\n                      <SelectTrigger className=\"bg-zinc-800 border border-green/30 text-white placeholder:text-white/60\" data-testid=\"select-filter-location\">\n                        <SelectValue placeholder=\"Filter by location\" />\n                      </SelectTrigger>\n                      <SelectContent className=\"bg-zinc-800 border border-green/30 text-gold\">\n                        <SelectItem value=\"all\" className=\"text-gold\">All Locations</SelectItem>\n                        {locationOptions.map((location) => (\n                          <SelectItem key={location} value={location} className=\"text-gold\">\n                            {location}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  {/* REORDERED: 3. Filter by status */}\n                  <div>\n                    <Select value={filterStatus} onValueChange={setFilterStatus}>\n                      <SelectTrigger className=\"bg-zinc-800 border border-green/30 text-white placeholder:text-white/60\">\n                        <SelectValue placeholder=\"Filter by status\" />\n                      </SelectTrigger>\n                      <SelectContent className=\"bg-zinc-800 border border-green/30 text-gold\">\n                        <SelectItem value=\"all\" className=\"text-gold\">All Statuses</SelectItem>\n                        <SelectItem value=\"pending\" className=\"text-gold\">Pending</SelectItem>\n                        <SelectItem value=\"approved\" className=\"text-gold\">Approved</SelectItem>\n                        <SelectItem value=\"rejected\" className=\"text-gold\">Rejected</SelectItem>\n                      </SelectContent>\n                    </Select>\n                  </div>\n                  \n                  {/* REORDERED: 4. Search by name or email */}\n                  <div>\n                    <Input\n                      placeholder=\"Search by name or email...\"\n                      value={searchTerm}\n                      onChange={(e) => setSearchTerm(e.target.value)}\n                      className=\"w-full bg-zinc-800 border border-green/30 text-white placeholder:text-white/60\"\n                    />\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Results Summary */}\n            <div className=\"mb-6\">\n              <p className=\"text-white\">\n                {isLoading ? \"Loading...\" : `Showing ${filteredArtisans.length} of ${artisans.length} profiles`}\n              </p>\n            </div>\n\n            {/* Artisan Profiles Grid */}\n            {isLoading ? (\n              <div className=\"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\n                {[...Array(6)].map((_, i) => (\n                  <Card key={i} className=\"shadow-lg border-0\">\n                    <CardContent className=\"p-6\">\n                      <div className=\"space-y-4\">\n                        <Skeleton className=\"h-4 w-3/4\" />\n                        <Skeleton className=\"h-4 w-1/2\" />\n                        <Skeleton className=\"h-4 w-2/3\" />\n                        <Skeleton className=\"h-8 w-full\" />\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            ) : filteredArtisans.length === 0 ? (\n              <Card className=\"shadow-lg border-green/30 bg-black\">\n                <CardContent className=\"p-8 text-center\">\n                  <User className=\"w-12 h-12 text-white/40 mx-auto mb-4\" />\n                  <h3 className=\"text-lg font-semibold text-white mb-2\">\n                    No profiles found\n                  </h3>\n                  <p className=\"text-white/80\">\n                    Try adjusting your search criteria or filters\n                  </p>\n                </CardContent>\n              </Card>\n            ) : (\n              <div className=\"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\n                {filteredArtisans.map((artisan: any) => (\n                  <Card key={artisan.id} className=\"shadow-lg border-2 border-gold/80 bg-black hover:shadow-xl transition-all duration-300 hover:border-gold overflow-hidden\">\n                    <CardContent className=\"p-4 sm:p-6\">\n                      <div className=\"space-y-4\">\n                        {/* Header with name and status */}\n                        <div className=\"flex justify-between items-start\">\n                          <div>\n                            <h3 className=\"text-lg font-bold text-gold\">\n                              {artisan.firstName} {artisan.lastName}\n                            </h3>\n                            <div className=\"flex items-center text-white/80 text-sm\">\n                              <Mail className=\"w-4 h-4 mr-1\" />\n                              {artisan.email}\n                            </div>\n                          </div>\n                          <Badge className={`${getStatusColor(artisan.approvalStatus)} flex items-center gap-1`}>\n                            {getStatusIcon(artisan.approvalStatus)}\n                            {artisan.approvalStatus === 'approved' ? 'Approved' : \n                             artisan.approvalStatus === 'rejected' ? 'Rejected' : 'Pending'}\n                          </Badge>\n                        </div>\n\n                        {/* Contact Info */}\n                        <div className=\"space-y-2\">\n                          {artisan.phone && (\n                            <div className=\"flex items-center text-white/80 text-sm\">\n                              <Phone className=\"w-4 h-4 mr-2\" />\n                              {artisan.phone}\n                            </div>\n                          )}\n                          {artisan.location && (\n                            <div className=\"flex items-center text-white/80 text-sm\">\n                              <MapPin className=\"w-4 h-4 mr-2\" />\n                              {artisan.location}\n                            </div>\n                          )}\n                        </div>\n\n                        {/* Services */}\n                        {artisan.services && artisan.services.length > 0 && (\n                          <div>\n                            <div className=\"flex items-center text-white text-sm mb-2\">\n                              <Briefcase className=\"w-4 h-4 mr-2\" />\n                              Services\n                            </div>\n                            <div className=\"flex flex-wrap gap-1\">\n                              {artisan.services.slice(0, 3).map((service: string) => {\n                                const serviceLabel = serviceOptions.find(s => s.id === service)?.label || service;\n                                return (\n                                  <Badge key={service} variant=\"outline\" className=\"text-xs text-gold border-green/30\">\n                                    {serviceLabel}\n                                  </Badge>\n                                );\n                              })}\n                              {artisan.services.length > 3 && (\n                                <Badge variant=\"outline\" className=\"text-xs text-gold border-green/30\">\n                                  +{artisan.services.length - 3} more\n                                </Badge>\n                              )}\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Experience */}\n                        {artisan.yearsExperience && (\n                          <div className=\"text-sm text-white\">\n                            <strong>{artisan.yearsExperience}</strong> years of experience\n                          </div>\n                        )}\n\n                        {/* Description */}\n                        {artisan.description && (\n                          <div className=\"text-sm text-white/80 line-clamp-2\">\n                            {artisan.description}\n                          </div>\n                        )}\n\n                        {/* Verification Status */}\n                        <div className=\"flex items-center justify-between pt-2 border-t border-green/30\">\n                          <div className=\"flex items-center text-sm\">\n                            {artisan.verified ? (\n                              <span className=\"flex items-center text-green\">\n                                <CheckCircle className=\"w-4 h-4 mr-1\" />\n                                Verified\n                              </span>\n                            ) : (\n                              <span className=\"flex items-center text-yellow-600\">\n                                <Clock className=\"w-4 h-4 mr-1\" />\n                                Unverified\n                              </span>\n                            )}\n                          </div>\n                          \n                          <Link href={`/artisan/${artisan.id}`}>\n                            <Button size=\"sm\" className=\"bg-green hover:bg-green-dark text-white\">\n                              View Details\n                            </Button>\n                          </Link>\n                        </div>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n              </div>\n            )}\n          </FadeInSection>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","path":null,"size_bytes":14905,"size_tokens":null},"vite.config.ts":{"content":"import { defineConfig } from \"vite\";\nimport react from \"@vitejs/plugin-react\";\nimport path from \"path\";\nimport runtimeErrorOverlay from \"@replit/vite-plugin-runtime-error-modal\";\n\nexport default defineConfig({\n  plugins: [\n    react(),\n    runtimeErrorOverlay(),\n    ...(process.env.NODE_ENV !== \"production\" &&\n    process.env.REPL_ID !== undefined\n      ? [\n          await import(\"@replit/vite-plugin-cartographer\").then((m) =>\n            m.cartographer(),\n          ),\n        ]\n      : []),\n  ],\n  resolve: {\n    alias: {\n      \"@\": path.resolve(import.meta.dirname, \"client\", \"src\"),\n      \"@shared\": path.resolve(import.meta.dirname, \"shared\"),\n      \"@assets\": path.resolve(import.meta.dirname, \"attached_assets\"),\n    },\n  },\n  root: path.resolve(import.meta.dirname, \"client\"),\n  build: {\n    outDir: path.resolve(import.meta.dirname, \"dist/public\"),\n    emptyOutDir: true,\n  },\n  server: {\n    fs: {\n      strict: true,\n      deny: [\"**/.*\"],\n    },\n  },\n});\n","path":null,"size_bytes":971,"size_tokens":null},"shared/schema.ts":{"content":"import { z } from \"zod\";\n\n// User types\nexport interface User {\n  id: number;\n  username: string;\n  password: string;\n}\n\nexport const insertUserSchema = z.object({\n  username: z.string(),\n  password: z.string(),\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\n\n// Admin User types\nexport interface AdminUser {\n  id: number;\n  email: string;\n  password: string | null;\n  googleId: string | null;\n  firstName: string | null;\n  lastName: string | null;\n  profileImage: string | null;\n  isVerified: boolean;\n  verificationToken: string | null;\n  verificationExpires: string | null;\n  lastLogin: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const insertAdminUserSchema = z.object({\n  email: z.string().email(),\n  password: z.string().optional(),\n  googleId: z.string().optional(),\n  firstName: z.string().optional(),\n  lastName: z.string().optional(),\n  profileImage: z.string().optional(),\n  isVerified: z.boolean().optional(),\n  verificationToken: z.string().optional(),\n  verificationExpires: z.string().optional(),\n  lastLogin: z.string().optional(),\n});\n\nexport type InsertAdminUser = z.infer<typeof insertAdminUserSchema>;\n\n// Artisan types\nexport interface Artisan {\n  id: number;\n  firstName: string;\n  lastName: string;\n  email: string;\n  password: string | null;\n  googleId: string | null;\n  phone: string;\n  location: string;\n  services: string[];\n  description: string;\n  yearsExperience: number;\n  rating: string;\n  reviewCount: number;\n  verified: boolean;\n  subscriptionTier: string;\n  isFeatured: boolean;\n  profileImage: string | null;\n  portfolio: string[];\n  profileComplete: boolean;\n  isEmailVerified: boolean;\n  emailVerificationToken: string | null;\n  emailVerificationExpires: string | null;\n  lastLogin: string | null;\n  idDocument: string | null;\n  qualificationDocuments: string[];\n  verificationStatus: string;\n  verificationNotes: string | null;\n  verifiedAt: string | null;\n  approvalStatus: string;\n  approvedBy: string | null;\n  approvedAt: string | null;\n  rejectionReason: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const insertArtisanSchema = z.object({\n  firstName: z.string(),\n  lastName: z.string(),\n  email: z.string().email(),\n  password: z.string().nullable().optional(),\n  googleId: z.string().nullable().optional(),\n  phone: z.string(),\n  location: z.string(),\n  services: z.array(z.string()),\n  description: z.string(),\n  yearsExperience: z.number(),\n  subscriptionTier: z.string().optional(),\n  profileImage: z.string().nullable().optional(),\n  portfolio: z.array(z.string()).optional(),\n  idDocument: z.string().nullable().optional(),\n  qualificationDocuments: z.array(z.string()).optional(),\n  approvalStatus: z.string().optional(),\n});\n\nexport type InsertArtisan = z.infer<typeof insertArtisanSchema>;\n\n// Search Request types\nexport interface SearchRequest {\n  id: number;\n  service: string;\n  location: string;\n  tier: string;\n  timestamp: string;\n}\n\nexport const insertSearchRequestSchema = z.object({\n  service: z.string(),\n  location: z.string(),\n  tier: z.string().optional(),\n});\n\nexport type InsertSearchRequest = z.infer<typeof insertSearchRequestSchema>;\n\n// Artisan Subscription types\nexport interface ArtisanSubscription {\n  id: number;\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  services: string[];\n  location: string;\n  description: string;\n  yearsExperience: number;\n  companyRegNumber: string | null;\n  artisanRegNumber: string | null;\n  subscriptionTier: string;\n  documents: string[];\n  applicationStatus: string;\n  reviewedBy: string | null;\n  reviewedAt: string | null;\n  rejectionReason: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const insertArtisanSubscriptionSchema = z.object({\n  firstName: z.string(),\n  lastName: z.string(),\n  email: z.string().email(),\n  phone: z.string(),\n  services: z.array(z.string()),\n  location: z.string(),\n  description: z.string(),\n  yearsExperience: z.number(),\n  companyRegNumber: z.string().optional(),\n  artisanRegNumber: z.string().optional(),\n  subscriptionTier: z.string(),\n  documents: z.array(z.string()).optional(),\n});\n\nexport type InsertArtisanSubscription = z.infer<typeof insertArtisanSubscriptionSchema>;\n\n// Advertisement types\nexport interface Advertisement {\n  id: number;\n  title: string;\n  description: string;\n  imageUrl: string | null;\n  linkUrl: string | null;\n  contactPhone: string | null;\n  contactEmail: string | null;\n  displayOrder: number;\n  isActive: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport const insertAdvertisementSchema = z.object({\n  title: z.string().min(1, \"Title is required\"),\n  description: z.string().min(1, \"Description is required\"),\n  imageUrl: z.string().nullable().optional(),\n  linkUrl: z.string().nullable().optional(),\n  contactPhone: z.string().nullable().optional(),\n  contactEmail: z.string().email().nullable().optional(),\n  displayOrder: z.number().default(0),\n  isActive: z.boolean().default(true),\n});\n\nexport type InsertAdvertisement = z.infer<typeof insertAdvertisementSchema>;\n\n// Contact Message types\nexport interface ContactMessage {\n  id: number;\n  name: string;\n  email: string;\n  phone: string;\n  subject: string;\n  message: string;\n  isRead: boolean;\n  createdAt: string;\n}\n\nexport const insertContactMessageSchema = z.object({\n  name: z.string().min(2, \"Name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().min(10, \"Please enter a valid phone number\"),\n  subject: z.string().min(5, \"Subject must be at least 5 characters\"),\n  message: z.string().min(20, \"Message must be at least 20 characters\"),\n});\n\nexport type InsertContactMessage = z.infer<typeof insertContactMessageSchema>;\n","path":null,"size_bytes":5756,"size_tokens":null},"server/seed.ts":{"content":"import { db } from \"./db\";\nimport { artisans } from \"@shared/schema\";\n\nconst gautengArtisans = [\n  // Johannesburg Artisans\n  {\n    firstName: \"Sipho\",\n    lastName: \"Mthembu\",\n    email: \"sipho.mthembu.sandton@email.com\",\n    phone: \"+27 82 456 7890\",\n    location: \"Sandton, Johannesburg\",\n    services: [\"builders\"],\n    description: \"Professional construction specialist with 12 years experience in luxury residential projects.\",\n    yearsExperience: 12,\n    rating: \"4.7\",\n    reviewCount: 28,\n    verified: true,\n    profileImage: \"SM\",\n    portfolio: [],\n    idDocument: \"verified_id_101.pdf\",\n    qualificationDocuments: [\"nhbrc_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"All documents verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nomsa\",\n    lastName: \"Radebe\",\n    email: \"nomsa.radebe@email.com\",\n    phone: \"+27 83 567 8901\",\n    location: \"Rosebank, Johannesburg\",\n    services: [\"cleaners\"],\n    description: \"Eco-friendly cleaning services for homes and offices. Specialized in post-construction cleanup.\",\n    yearsExperience: 8,\n    rating: \"4.9\",\n    reviewCount: 45,\n    verified: true,\n    profileImage: \"NR\",\n    portfolio: [],\n    idDocument: \"verified_id_102.pdf\",\n    qualificationDocuments: [\"cleaning_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Excellent credentials\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Thabo\",\n    lastName: \"Mokoena\",\n    email: \"thabo.mokoena@email.com\",\n    phone: \"+27 84 678 9012\",\n    location: \"Soweto, Johannesburg\",\n    services: [\"electricians\"],\n    description: \"Licensed electrician specializing in solar installations and smart home systems.\",\n    yearsExperience: 15,\n    rating: \"4.8\",\n    reviewCount: 52,\n    verified: true,\n    profileImage: \"TM\",\n    portfolio: [],\n    idDocument: \"verified_id_103.pdf\",\n    qualificationDocuments: [\"electrical_license.pdf\", \"solar_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Solar specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Zanele\",\n    lastName: \"Ndlovu\",\n    email: \"zanele.ndlovu@email.com\",\n    phone: \"+27 85 789 0123\",\n    location: \"Alexandra, Johannesburg\",\n    services: [\"landscapers\"],\n    description: \"Garden design and maintenance specialist. Expert in indigenous South African plants.\",\n    yearsExperience: 10,\n    rating: \"4.6\",\n    reviewCount: 33,\n    verified: true,\n    profileImage: \"ZN\",\n    portfolio: [],\n    idDocument: \"verified_id_104.pdf\",\n    qualificationDocuments: [\"horticulture_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Landscape expertise confirmed\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Johannes\",\n    lastName: \"Van Der Merwe\",\n    email: \"johannes.vandermerwe@email.com\",\n    phone: \"+27 86 890 1234\",\n    location: \"Melville, Johannesburg\",\n    services: [\"carpenters\"],\n    description: \"Custom furniture maker and carpentry specialist. 20 years of fine woodworking experience.\",\n    yearsExperience: 20,\n    rating: \"4.9\",\n    reviewCount: 67,\n    verified: true,\n    profileImage: \"JV\",\n    portfolio: [],\n    idDocument: \"verified_id_105.pdf\",\n    qualificationDocuments: [\"carpentry_cert.pdf\", \"furniture_design.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Master craftsman verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Lerato\",\n    lastName: \"Mashego\",\n    email: \"lerato.mashego@email.com\",\n    phone: \"+27 87 901 2345\",\n    location: \"Randburg, Johannesburg\",\n    services: [\"plumbers\"],\n    description: \"Professional plumber specializing in bathroom renovations and water-saving installations.\",\n    yearsExperience: 14,\n    rating: \"4.7\",\n    reviewCount: 39,\n    verified: true,\n    profileImage: \"LM\",\n    portfolio: [],\n    idDocument: \"verified_id_106.pdf\",\n    qualificationDocuments: [\"plumbing_license.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Licensed professional\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Mandla\",\n    lastName: \"Dlamini\",\n    email: \"mandla.dlamini@email.com\",\n    phone: \"+27 88 012 3456\",\n    location: \"Midrand, Johannesburg\",\n    services: [\"tilers\"],\n    description: \"Expert tiler with specialization in natural stone and luxury bathroom installations.\",\n    yearsExperience: 11,\n    rating: \"4.8\",\n    reviewCount: 41,\n    verified: true,\n    profileImage: \"MD\",\n    portfolio: [],\n    idDocument: \"verified_id_107.pdf\",\n    qualificationDocuments: [\"tiling_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Stone specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Precious\",\n    lastName: \"Mahlangu\",\n    email: \"precious.mahlangu@email.com\",\n    phone: \"+27 89 123 4567\",\n    location: \"Fourways, Johannesburg\",\n    services: [\"cleaners\"],\n    description: \"Premium cleaning services for luxury homes and corporate offices. Green cleaning products only.\",\n    yearsExperience: 7,\n    rating: \"4.9\",\n    reviewCount: 55,\n    verified: true,\n    profileImage: \"PM\",\n    portfolio: [],\n    idDocument: \"verified_id_108.pdf\",\n    qualificationDocuments: [\"cleaning_cert.pdf\", \"eco_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Eco-certified professional\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Sizani\",\n    lastName: \"Mabena\",\n    email: \"sizani.mabena@email.com\",\n    phone: \"+27 80 234 5678\",\n    location: \"Roodepoort, Johannesburg\",\n    services: [\"builders\"],\n    description: \"Renovation specialist focusing on kitchen and bathroom remodeling projects.\",\n    yearsExperience: 16,\n    rating: \"4.6\",\n    reviewCount: 44,\n    verified: true,\n    profileImage: \"SM\",\n    portfolio: [],\n    idDocument: \"verified_id_109.pdf\",\n    qualificationDocuments: [\"building_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Renovation expert verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Themba\",\n    lastName: \"Sithole\",\n    email: \"themba.sithole@email.com\",\n    phone: \"+27 81 345 6789\",\n    location: \"Germiston, Johannesburg\",\n    services: [\"electricians\"],\n    description: \"Industrial and residential electrician. Certified for high-voltage installations.\",\n    yearsExperience: 18,\n    rating: \"4.8\",\n    reviewCount: 62,\n    verified: true,\n    profileImage: \"TS\",\n    portfolio: [],\n    idDocument: \"verified_id_110.pdf\",\n    qualificationDocuments: [\"electrical_license.pdf\", \"hv_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"High voltage certified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Beauty\",\n    lastName: \"Nkomo\",\n    email: \"beauty.nkomo@email.com\",\n    phone: \"+27 82 456 7890\",\n    location: \"Benoni, Johannesburg\",\n    services: [\"landscapers\"],\n    description: \"Garden maintenance and landscape design. Specialist in water-wise gardens and indigenous plants.\",\n    yearsExperience: 9,\n    rating: \"4.7\",\n    reviewCount: 36,\n    verified: true,\n    profileImage: \"BN\",\n    portfolio: [],\n    idDocument: \"verified_id_111.pdf\",\n    qualificationDocuments: [\"landscaping_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Water-wise specialist\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Mpho\",\n    lastName: \"Molefe\",\n    email: \"mpho.molefe@email.com\",\n    phone: \"+27 83 567 8901\",\n    location: \"Edenvale, Johannesburg\",\n    services: [\"carpenters\"],\n    description: \"Built-in cupboards and kitchen cabinet specialist. Custom woodwork for modern homes.\",\n    yearsExperience: 13,\n    rating: \"4.8\",\n    reviewCount: 48,\n    verified: true,\n    profileImage: \"MM\",\n    portfolio: [],\n    idDocument: \"verified_id_112.pdf\",\n    qualificationDocuments: [\"carpentry_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Cabinet specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nthabiseng\",\n    lastName: \"Tshabalala\",\n    email: \"nthabiseng.tshabalala@email.com\",\n    phone: \"+27 84 678 9012\",\n    location: \"Kempton Park, Johannesburg\",\n    services: [\"plumbers\"],\n    description: \"Emergency plumbing services and water system installations. Available 24/7 for urgent repairs.\",\n    yearsExperience: 12,\n    rating: \"4.9\",\n    reviewCount: 58,\n    verified: true,\n    profileImage: \"NT\",\n    portfolio: [],\n    idDocument: \"verified_id_113.pdf\",\n    qualificationDocuments: [\"plumbing_license.pdf\", \"emergency_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Emergency service certified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Sello\",\n    lastName: \"Madonsela\",\n    email: \"sello.madonsela@email.com\",\n    phone: \"+27 85 789 0123\",\n    location: \"Boksburg, Johannesburg\",\n    services: [\"tilers\"],\n    description: \"Commercial and residential tiling specialist. Expert in large-scale shopping center projects.\",\n    yearsExperience: 17,\n    rating: \"4.7\",\n    reviewCount: 53,\n    verified: true,\n    profileImage: \"SM\",\n    portfolio: [],\n    idDocument: \"verified_id_114.pdf\",\n    qualificationDocuments: [\"tiling_cert.pdf\", \"commercial_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Commercial specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Palesa\",\n    lastName: \"Mokwena\",\n    email: \"palesa.mokwena@email.com\",\n    phone: \"+27 86 890 1234\",\n    location: \"Johannesburg CBD, Johannesburg\",\n    services: [\"cleaners\"],\n    description: \"Corporate office cleaning and maintenance. Specialized in high-rise building cleaning services.\",\n    yearsExperience: 11,\n    rating: \"4.8\",\n    reviewCount: 47,\n    verified: true,\n    profileImage: \"PM\",\n    portfolio: [],\n    idDocument: \"verified_id_115.pdf\",\n    qualificationDocuments: [\"cleaning_cert.pdf\", \"safety_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Safety certified professional\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n\n  // Ekurhuleni Artisans\n  {\n    firstName: \"Lucky\",\n    lastName: \"Chabalala\",\n    email: \"lucky.chabalala@email.com\",\n    phone: \"+27 87 901 2345\",\n    location: \"Springs, Ekurhuleni\",\n    services: [\"builders\"],\n    description: \"Residential construction and home additions specialist. Expert in modern architectural designs.\",\n    yearsExperience: 14,\n    rating: \"4.6\",\n    reviewCount: 35,\n    verified: true,\n    profileImage: \"LC\",\n    portfolio: [],\n    idDocument: \"verified_id_201.pdf\",\n    qualificationDocuments: [\"building_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Modern design specialist\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nosipho\",\n    lastName: \"Mthethwa\",\n    email: \"nosipho.mthethwa@email.com\",\n    phone: \"+27 88 012 3456\",\n    location: \"Alberton, Ekurhuleni\",\n    services: [\"electricians\"],\n    description: \"Residential and light commercial electrical work. Certified for smart home automation systems.\",\n    yearsExperience: 10,\n    rating: \"4.7\",\n    reviewCount: 42,\n    verified: true,\n    profileImage: \"NM\",\n    portfolio: [],\n    idDocument: \"verified_id_202.pdf\",\n    qualificationDocuments: [\"electrical_license.pdf\", \"smart_home_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Smart home certified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Bongani\",\n    lastName: \"Khumalo\",\n    email: \"bongani.khumalo@email.com\",\n    phone: \"+27 89 123 4567\",\n    location: \"Benoni, Ekurhuleni\",\n    services: [\"plumbers\"],\n    description: \"Pool installation and maintenance specialist. Expert in water feature construction.\",\n    yearsExperience: 13,\n    rating: \"4.8\",\n    reviewCount: 38,\n    verified: true,\n    profileImage: \"BK\",\n    portfolio: [],\n    idDocument: \"verified_id_203.pdf\",\n    qualificationDocuments: [\"plumbing_license.pdf\", \"pool_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Pool specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Dineo\",\n    lastName: \"Modise\",\n    email: \"dineo.modise@email.com\",\n    phone: \"+27 80 234 5678\",\n    location: \"Daveyton, Ekurhuleni\",\n    services: [\"landscapers\"],\n    description: \"Urban garden design and vertical gardening specialist. Expert in small space solutions.\",\n    yearsExperience: 8,\n    rating: \"4.9\",\n    reviewCount: 31,\n    verified: true,\n    profileImage: \"DM\",\n    portfolio: [],\n    idDocument: \"verified_id_204.pdf\",\n    qualificationDocuments: [\"landscaping_cert.pdf\", \"urban_design.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Urban specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Thembi\",\n    lastName: \"Nhlapo\",\n    email: \"thembi.nhlapo@email.com\",\n    phone: \"+27 81 345 6789\",\n    location: \"Germiston, Ekurhuleni\",\n    services: [\"carpenters\"],\n    description: \"Restoration carpenter specializing in antique furniture repair and historical building restoration.\",\n    yearsExperience: 19,\n    rating: \"4.8\",\n    reviewCount: 56,\n    verified: true,\n    profileImage: \"TN\",\n    portfolio: [],\n    idDocument: \"verified_id_205.pdf\",\n    qualificationDocuments: [\"carpentry_cert.pdf\", \"restoration_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Restoration expert verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Kenneth\",\n    lastName: \"Mbeki\",\n    email: \"kenneth.mbeki@email.com\",\n    phone: \"+27 82 456 7890\",\n    location: \"Boksburg, Ekurhuleni\",\n    services: [\"tilers\"],\n    description: \"Industrial floor tiling and epoxy coating specialist. Expert in warehouse and factory flooring.\",\n    yearsExperience: 15,\n    rating: \"4.7\",\n    reviewCount: 49,\n    verified: true,\n    profileImage: \"KM\",\n    portfolio: [],\n    idDocument: \"verified_id_206.pdf\",\n    qualificationDocuments: [\"tiling_cert.pdf\", \"industrial_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Industrial specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Refilwe\",\n    lastName: \"Seroke\",\n    email: \"refilwe.seroke@email.com\",\n    phone: \"+27 83 567 8901\",\n    location: \"Kempton Park, Ekurhuleni\",\n    services: [\"cleaners\"],\n    description: \"Medical facility and laboratory cleaning specialist. Certified in biohazard cleanup procedures.\",\n    yearsExperience: 12,\n    rating: \"4.9\",\n    reviewCount: 43,\n    verified: true,\n    profileImage: \"RS\",\n    portfolio: [],\n    idDocument: \"verified_id_207.pdf\",\n    qualificationDocuments: [\"cleaning_cert.pdf\", \"biohazard_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Medical facility certified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Vusi\",\n    lastName: \"Mnguni\",\n    email: \"vusi.mnguni@email.com\",\n    phone: \"+27 84 678 9012\",\n    location: \"Edenvale, Ekurhuleni\",\n    services: [\"builders\"],\n    description: \"Commercial building construction and office fitouts. Specialist in modern office environments.\",\n    yearsExperience: 16,\n    rating: \"4.6\",\n    reviewCount: 40,\n    verified: true,\n    profileImage: \"VM\",\n    portfolio: [],\n    idDocument: \"verified_id_208.pdf\",\n    qualificationDocuments: [\"building_cert.pdf\", \"commercial_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Commercial construction verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nomthandazo\",\n    lastName: \"Zulu\",\n    email: \"nomthandazo.zulu@email.com\",\n    phone: \"+27 85 789 0123\",\n    location: \"Brakpan, Ekurhuleni\",\n    services: [\"electricians\"],\n    description: \"Mining electrical systems specialist. Certified for underground electrical installations.\",\n    yearsExperience: 20,\n    rating: \"4.8\",\n    reviewCount: 61,\n    verified: true,\n    profileImage: \"NZ\",\n    portfolio: [],\n    idDocument: \"verified_id_209.pdf\",\n    qualificationDocuments: [\"electrical_license.pdf\", \"mining_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Mining specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Siphiwe\",\n    lastName: \"Nkosi\",\n    email: \"siphiwe.nkosi@email.com\",\n    phone: \"+27 86 890 1234\",\n    location: \"Nigel, Ekurhuleni\",\n    services: [\"landscapers\"],\n    description: \"Sports field and recreational area landscaping specialist. Expert in cricket and soccer field maintenance.\",\n    yearsExperience: 11,\n    rating: \"4.7\",\n    reviewCount: 34,\n    verified: true,\n    profileImage: \"SN\",\n    portfolio: [],\n    idDocument: \"verified_id_210.pdf\",\n    qualificationDocuments: [\"landscaping_cert.pdf\", \"sports_turf_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Sports turf specialist\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Given\",\n    lastName: \"Mathebula\",\n    email: \"given.mathebula@email.com\",\n    phone: \"+27 87 901 2345\",\n    location: \"Tembisa, Ekurhuleni\",\n    services: [\"carpenters\"],\n    description: \"School furniture and educational facility carpentry specialist. Expert in durable classroom furniture.\",\n    yearsExperience: 14,\n    rating: \"4.8\",\n    reviewCount: 45,\n    verified: true,\n    profileImage: \"GM\",\n    portfolio: [],\n    idDocument: \"verified_id_211.pdf\",\n    qualificationDocuments: [\"carpentry_cert.pdf\", \"education_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Educational specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Thandiwe\",\n    lastName: \"Vilakazi\",\n    email: \"thandiwe.vilakazi@email.com\",\n    phone: \"+27 88 012 3456\",\n    location: \"Duduza, Ekurhuleni\",\n    services: [\"plumbers\"],\n    description: \"Green plumbing solutions specialist. Expert in rainwater harvesting and greywater systems.\",\n    yearsExperience: 9,\n    rating: \"4.9\",\n    reviewCount: 37,\n    verified: true,\n    profileImage: \"TV\",\n    portfolio: [],\n    idDocument: \"verified_id_212.pdf\",\n    qualificationDocuments: [\"plumbing_license.pdf\", \"green_plumbing.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Green systems specialist\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Bheki\",\n    lastName: \"Hadebe\",\n    email: \"bheki.hadebe@email.com\",\n    phone: \"+27 89 123 4567\",\n    location: \"Thokoza, Ekurhuleni\",\n    services: [\"tilers\"],\n    description: \"Heritage building tiling restoration specialist. Expert in historical tile patterns and materials.\",\n    yearsExperience: 18,\n    rating: \"4.7\",\n    reviewCount: 52,\n    verified: true,\n    profileImage: \"BH\",\n    portfolio: [],\n    idDocument: \"verified_id_213.pdf\",\n    qualificationDocuments: [\"tiling_cert.pdf\", \"heritage_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Heritage specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nkosana\",\n    lastName: \"Mhlongo\",\n    email: \"nkosana.mhlongo@email.com\",\n    phone: \"+27 80 234 5678\",\n    location: \"Katlehong, Ekurhuleni\",\n    services: [\"cleaners\"],\n    description: \"Event and venue cleaning specialist. Expert in pre and post-event cleanup for large venues.\",\n    yearsExperience: 10,\n    rating: \"4.8\",\n    reviewCount: 41,\n    verified: true,\n    profileImage: \"NM\",\n    portfolio: [],\n    idDocument: \"verified_id_214.pdf\",\n    qualificationDocuments: [\"cleaning_cert.pdf\", \"event_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Event specialist verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Busisiwe\",\n    lastName: \"Maseko\",\n    email: \"busisiwe.maseko@email.com\",\n    phone: \"+27 81 345 6789\",\n    location: \"Vosloorus, Ekurhuleni\",\n    services: [\"builders\"],\n    description: \"Affordable housing construction specialist. Expert in RDP housing and community development projects.\",\n    yearsExperience: 13,\n    rating: \"4.6\",\n    reviewCount: 39,\n    verified: true,\n    profileImage: \"BM\",\n    portfolio: [],\n    idDocument: \"verified_id_215.pdf\",\n    qualificationDocuments: [\"building_cert.pdf\", \"rdp_cert.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Community development verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  }\n];\n\nconst sampleArtisans = [\n  {\n    firstName: \"Thabo\",\n    lastName: \"Mthembu\",\n    email: \"thabo.mthembu@email.com\",\n    phone: \"+27 82 123 4567\",\n    location: \"Johannesburg, Gauteng\",\n    services: [\"builders\"],\n    description: \"15+ years of experience in residential and commercial construction. Specialized in home renovations and extensions.\",\n    yearsExperience: 15,\n    rating: \"4.8\",\n    reviewCount: 32,\n    verified: true,\n    profileImage: \"TM\",\n    portfolio: [],\n    idDocument: \"verified_id_001.pdf\",\n    qualificationDocuments: [\"nhbrc_certificate.pdf\", \"construction_diploma.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"All documents verified successfully\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Sarah\",\n    lastName: \"Khumalo\",\n    email: \"sarah.khumalo@email.com\",\n    phone: \"+27 84 567 8901\",\n    location: \"Cape Town, Western Cape\",\n    services: [\"electricians\"],\n    description: \"Certified electrician with expertise in smart home installations, electrical repairs, and energy-efficient solutions.\",\n    yearsExperience: 8,\n    rating: \"4.9\",\n    reviewCount: 28,\n    verified: true,\n    profileImage: \"SK\",\n    portfolio: [],\n    idDocument: \"verified_id_002.pdf\",\n    qualificationDocuments: [\"electrical_trade_cert.pdf\", \"coc_certificate.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Electrical trade certificate verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Mike\",\n    lastName: \"Naidoo\",\n    email: \"mike.naidoo@email.com\",\n    phone: \"+27 83 234 5678\",\n    location: \"Durban, KwaZulu-Natal\",\n    services: [\"plumbers\"],\n    description: \"Professional plumber specializing in bathroom renovations, leak repairs, and hot water system installations.\",\n    yearsExperience: 12,\n    rating: \"4.7\",\n    reviewCount: 41,\n    verified: true,\n    profileImage: \"MN\",\n    portfolio: [],\n    idDocument: \"verified_id_003.pdf\",\n    qualificationDocuments: [\"plumbing_certificate.pdf\", \"iopsa_membership.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"IOPSA membership confirmed\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"Nomsa\",\n    lastName: \"Dlamini\",\n    email: \"nomsa.dlamini@email.com\",\n    phone: \"+27 81 345 6789\",\n    location: \"Pretoria, Gauteng\",\n    services: [\"cleaners\"],\n    description: \"Professional cleaning service with eco-friendly products. Specializing in deep cleaning and maintenance.\",\n    yearsExperience: 6,\n    rating: \"4.6\",\n    reviewCount: 23,\n    verified: true,\n    profileImage: \"ND\",\n    portfolio: [],\n    idDocument: \"verified_id_004.pdf\",\n    qualificationDocuments: [\"cleaning_certification.pdf\"],\n    verificationStatus: \"approved\",\n    verificationNotes: \"Professional cleaning certification verified\",\n    verifiedAt: new Date().toISOString(),\n    approvalStatus: \"approved\",\n    subscriptionTier: \"verified\"\n  },\n  {\n    firstName: \"David\",\n    lastName: \"Van Der Merwe\",\n    email: \"david.vandermerwe@email.com\",\n    phone: \"+27 85 456 7890\",\n    location: \"Stellenbosch, Western Cape\",\n    services: [\"carpenters\"],\n    description: \"Custom furniture maker and carpenter with expertise in kitchen cabinets and built-in storage solutions.\",\n    yearsExperience: 20,\n    rating: \"3.8\",\n    reviewCount: 15,\n    verified: false,\n    profileImage: \"DV\",\n    portfolio: [],\n    idDocument: null,\n    qualificationDocuments: [],\n    verificationStatus: \"pending\",\n    verificationNotes: null,\n    verifiedAt: null,\n    approvalStatus: \"approved\",\n    subscriptionTier: \"unverified\"\n  },\n  {\n    firstName: \"Zanele\",\n    lastName: \"Mbeki\",\n    email: \"zanele.mbeki@email.com\",\n    phone: \"+27 86 567 8901\",\n    location: \"Port Elizabeth, Eastern Cape\",\n    services: [\"landscapers\"],\n    description: \"Landscape designer creating beautiful outdoor spaces with indigenous plants and sustainable design principles.\",\n    yearsExperience: 10,\n    rating: \"4.1\",\n    reviewCount: 19,\n    verified: false,\n    profileImage: \"ZM\",\n    portfolio: [],\n    idDocument: null,\n    qualificationDocuments: [],\n    verificationStatus: \"pending\",\n    verificationNotes: null,\n    verifiedAt: null,\n    approvalStatus: \"approved\",\n    subscriptionTier: \"unverified\"\n  },\n  {\n    firstName: \"Ahmed\",\n    lastName: \"Hassan\",\n    email: \"ahmed.hassan@email.com\",\n    phone: \"+27 87 678 9012\",\n    location: \"Johannesburg, Gauteng\",\n    services: [\"tilers\"],\n    description: \"Specialist in ceramic, porcelain, and natural stone tiling for bathrooms, kitchens, and commercial spaces.\",\n    yearsExperience: 14,\n    rating: \"3.9\",\n    reviewCount: 22,\n    verified: false,\n    profileImage: \"AH\",\n    portfolio: [],\n    idDocument: null,\n    qualificationDocuments: [],\n    verificationStatus: \"pending\",\n    verificationNotes: null,\n    verifiedAt: null,\n    approvalStatus: \"approved\",\n    subscriptionTier: \"unverified\"\n  }\n];\n\nexport async function seedDatabase() {\n  try {\n    console.log(\"Seeding database...\");\n    \n    // Check if artisans already exist\n    const existingArtisans = await db.select().from(artisans);\n    \n    if (existingArtisans.length < 10) {\n      // Add original sample artisans\n      await db.insert(artisans).values(sampleArtisans);\n      console.log(`Seeded ${sampleArtisans.length} original artisans`);\n    }\n    \n    if (existingArtisans.length < 30) {\n      // Add Gauteng artisans\n      await db.insert(artisans).values(gautengArtisans);\n      console.log(`Seeded ${gautengArtisans.length} Gauteng artisans`);\n    }\n    \n    const finalCount = await db.select().from(artisans);\n    console.log(`Database now has ${finalCount.length} total artisans`);\n  } catch (error) {\n    console.error(\"Error seeding database:\", error);\n    throw error;\n  }\n}","path":null,"size_bytes":28275,"size_tokens":null},"drizzle.config.ts":{"content":"import { defineConfig } from \"drizzle-kit\";\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL, ensure the database is provisioned\");\n}\n\nexport default defineConfig({\n  out: \"./migrations\",\n  schema: \"./shared/schema.ts\",\n  dialect: \"postgresql\",\n  dbCredentials: {\n    url: process.env.DATABASE_URL,\n  },\n});\n","path":null,"size_bytes":325,"size_tokens":null},"client/src/pages/ArtisanAuth.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { Link } from \"wouter\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport { User, UserPlus, ArrowLeft, CheckCircle, Star, Shield } from \"lucide-react\";\n\nexport default function ArtisanAuth() {\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main className=\"py-12\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <FadeInSection>\n            <div className=\"mb-8\">\n              <Link href=\"/\">\n                <Button variant=\"ghost\" className=\"text-gold hover:text-gold-dark mb-4\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n            </div>\n\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-4xl font-bold text-black-soft mb-4\">\n                Join Skills Connect as an Artisan\n              </h1>\n              <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n                Connect with customers across South Africa and grow your business with our trusted platform\n              </p>\n            </div>\n\n            <div className=\"grid md:grid-cols-2 gap-8 mb-12\">\n              {/* Login Card */}\n              <motion.div\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.5 }}\n              >\n                <Card className=\"h-full border-2 border-transparent hover:border-green/30 transition-all\">\n                  <CardHeader className=\"text-center pb-4\">\n                    <div className=\"w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <User className=\"w-8 h-8 text-gold\" />\n                    </div>\n                    <CardTitle className=\"text-2xl text-black-soft\">\n                      Existing Artisan\n                    </CardTitle>\n                    <p className=\"text-gray-600\">\n                      Already have an account? Sign in to manage your profile\n                    </p>\n                  </CardHeader>\n                  \n                  <CardContent className=\"pt-2\">\n                    <div className=\"space-y-4 mb-6\">\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>Manage your artisan profile</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>View customer inquiries</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>Update your services and rates</span>\n                      </div>\n                    </div>\n                    \n                    <Link href=\"/artisan/login\">\n                      <Button className=\"w-full bg-green hover:bg-green-dark text-white font-semibold py-3\">\n                        Sign In\n                      </Button>\n                    </Link>\n                  </CardContent>\n                </Card>\n              </motion.div>\n\n              {/* Register Card */}\n              <motion.div\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.5, delay: 0.1 }}\n              >\n                <Card className=\"h-full border-2 border-transparent hover:border-green/30 transition-all\">\n                  <CardHeader className=\"text-center pb-4\">\n                    <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <UserPlus className=\"w-8 h-8 text-blue-600\" />\n                    </div>\n                    <CardTitle className=\"text-2xl text-black-soft\">\n                      New Artisan\n                    </CardTitle>\n                    <p className=\"text-gray-600\">\n                      Create your artisan profile and start getting customers\n                    </p>\n                  </CardHeader>\n                  \n                  <CardContent className=\"pt-2\">\n                    <div className=\"space-y-4 mb-6\">\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>Free profile creation</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>Verification process included</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-sm text-gray-600\">\n                        <CheckCircle className=\"w-4 h-4 text-green\" />\n                        <span>Connect with local customers</span>\n                      </div>\n                    </div>\n                    \n                    <Link href=\"/register-artisan\">\n                      <Button variant=\"outline\" className=\"w-full border-blue-600 text-blue-600 hover:bg-blue-50 font-semibold py-3\">\n                        Create Profile\n                      </Button>\n                    </Link>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            </div>\n\n            {/* Benefits Section */}\n            <FadeInSection>\n              <div className=\"bg-gradient-to-r from-gold/10 to-blue-50 rounded-2xl p-8\">\n                <h2 className=\"text-3xl font-bold text-center text-black-soft mb-8\">\n                  Why Choose Skills Connect?\n                </h2>\n                \n                <div className=\"grid md:grid-cols-3 gap-8\">\n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-gold rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <Star className=\"w-8 h-8 text-black\" />\n                    </div>\n                    <h3 className=\"text-xl font-semibold text-black-soft mb-2\">Verified Listings</h3>\n                    <p className=\"text-gray-600\">\n                      Get verified status to appear in premium search results and attract quality customers\n                    </p>\n                  </div>\n                  \n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <Shield className=\"w-8 h-8 text-white\" />\n                    </div>\n                    <h3 className=\"text-xl font-semibold text-black-soft mb-2\">Trusted Platform</h3>\n                    <p className=\"text-gray-600\">\n                      Join South Africa's most trusted marketplace for skilled artisans and tradespeople\n                    </p>\n                  </div>\n                  \n                  <div className=\"text-center\">\n                    <div className=\"w-16 h-16 bg-green rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <CheckCircle className=\"w-8 h-8 text-white\" />\n                    </div>\n                    <h3 className=\"text-xl font-semibold text-black-soft mb-2\">Easy Management</h3>\n                    <p className=\"text-gray-600\">\n                      Simple dashboard to manage your profile, view inquiries, and grow your business\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </FadeInSection>\n          </FadeInSection>\n        </div>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","path":null,"size_bytes":8143,"size_tokens":null},"client/src/components/ui/pagination.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { ButtonProps, buttonVariants } from \"@/components/ui/button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n","path":null,"size_bytes":2751,"size_tokens":null},"client/src/components/ui/input.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/tabs.tsx":{"content":"import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","path":null,"size_bytes":1883,"size_tokens":null},"client/src/components/ui/dropdown-menu.tsx":{"content":"import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n","path":null,"size_bytes":7609,"size_tokens":null},"client/src/components/CosmicBackground.tsx":{"content":"import { useEffect, useState } from \"react\";\n\ninterface Particle {\n  id: number;\n  x: number;\n  y: number;\n  size: number;\n  opacity: number;\n  duration: number;\n  delay: number;\n}\n\nexport default function CosmicBackground() {\n  const [particles, setParticles] = useState<Particle[]>([]);\n\n  useEffect(() => {\n    const generateParticles = () => {\n      const newParticles: Particle[] = [];\n      const particleCount = 50;\n\n      for (let i = 0; i < particleCount; i++) {\n        newParticles.push({\n          id: i,\n          x: Math.random() * 100,\n          y: Math.random() * 100,\n          size: Math.random() * 3 + 1,\n          opacity: Math.random() * 0.6 + 0.2,\n          duration: Math.random() * 20 + 10,\n          delay: Math.random() * 10,\n        });\n      }\n      setParticles(newParticles);\n    };\n\n    generateParticles();\n  }, []);\n\n  return (\n    <div className=\"fixed inset-0 pointer-events-none z-0 overflow-hidden\">\n      {/* Royal cosmic gradient overlay */}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-transparent via-amber-600/10 to-transparent opacity-50\" />\n      \n      {/* Royal gold particle field */}\n      {particles.map((particle) => (\n        <div\n          key={particle.id}\n          className=\"absolute rounded-full bg-gradient-to-r from-amber-600 via-yellow-600 to-amber-700 animate-pulse\"\n          style={{\n            left: `${particle.x}%`,\n            top: `${particle.y}%`,\n            width: `${particle.size}px`,\n            height: `${particle.size}px`,\n            opacity: particle.opacity * 1.2,\n            animation: `cosmicFloat ${particle.duration}s infinite ease-in-out ${particle.delay}s`,\n            boxShadow: `0 0 ${particle.size * 2}px rgba(218, 165, 32, 0.6)`,\n          }}\n        />\n      ))}\n      \n      {/* Additional royal cosmic elements */}\n      <div className=\"absolute top-1/4 left-1/6 w-2 h-2 bg-amber-600 rounded-full animate-ping opacity-60\" />\n      <div className=\"absolute top-3/4 right-1/4 w-1.5 h-1.5 bg-yellow-600 rounded-full animate-pulse opacity-70\" />\n      <div className=\"absolute top-1/2 left-3/4 w-1 h-1 bg-amber-700 rounded-full animate-bounce opacity-50\" />\n      <div className=\"absolute bottom-1/4 left-1/2 w-2.5 h-2.5 bg-amber-600/70 rounded-full animate-pulse opacity-45\" />\n      <div className=\"absolute top-1/6 right-1/3 w-1.2 h-1.2 bg-yellow-500 rounded-full animate-ping opacity-55\" />\n      <div className=\"absolute bottom-1/3 right-1/6 w-1.8 h-1.8 bg-amber-500 rounded-full animate-pulse opacity-40\" />\n    </div>\n  );\n}","path":null,"size_bytes":2540,"size_tokens":null},"client/src/components/ui/checkbox.tsx":{"content":"import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n","path":null,"size_bytes":1056,"size_tokens":null},"client/src/components/ui/toggle.tsx":{"content":"import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3 min-w-10\",\n        sm: \"h-9 px-2.5 min-w-9\",\n        lg: \"h-11 px-5 min-w-11\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n","path":null,"size_bytes":1527,"size_tokens":null},"server/vite.ts":{"content":"import express, { type Express } from \"express\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { createServer as createViteServer, createLogger } from \"vite\";\nimport { type Server } from \"http\";\nimport viteConfig from \"../vite.config\";\nimport { nanoid } from \"nanoid\";\n\nconst viteLogger = createLogger();\n\nexport function log(message: string, source = \"express\") {\n  const formattedTime = new Date().toLocaleTimeString(\"en-US\", {\n    hour: \"numeric\",\n    minute: \"2-digit\",\n    second: \"2-digit\",\n    hour12: true,\n  });\n\n  console.log(`${formattedTime} [${source}] ${message}`);\n}\n\nexport async function setupVite(app: Express, server: Server) {\n  const serverOptions = {\n    middlewareMode: true,\n    hmr: { server },\n    allowedHosts: true,\n  };\n\n  const vite = await createViteServer({\n    ...viteConfig,\n    configFile: false,\n    customLogger: {\n      ...viteLogger,\n      error: (msg, options) => {\n        viteLogger.error(msg, options);\n        process.exit(1);\n      },\n    },\n    server: serverOptions,\n    appType: \"custom\",\n  });\n\n  app.use(vite.middlewares);\n  app.use(\"*\", async (req, res, next) => {\n    const url = req.originalUrl;\n\n    try {\n      const clientTemplate = path.resolve(\n        import.meta.dirname,\n        \"..\",\n        \"client\",\n        \"index.html\",\n      );\n\n      // always reload the index.html file from disk incase it changes\n      let template = await fs.promises.readFile(clientTemplate, \"utf-8\");\n      template = template.replace(\n        `src=\"/src/main.tsx\"`,\n        `src=\"/src/main.tsx?v=${nanoid()}\"`,\n      );\n      const page = await vite.transformIndexHtml(url, template);\n      res.status(200).set({ \"Content-Type\": \"text/html\" }).end(page);\n    } catch (e) {\n      vite.ssrFixStacktrace(e as Error);\n      next(e);\n    }\n  });\n}\n\nexport function serveStatic(app: Express) {\n  const distPath = path.resolve(import.meta.dirname, \"public\");\n\n  if (!fs.existsSync(distPath)) {\n    throw new Error(\n      `Could not find the build directory: ${distPath}, make sure to build the client first`,\n    );\n  }\n\n  app.use(express.static(distPath));\n\n  // fall through to index.html if the file doesn't exist\n  app.use(\"*\", (_req, res) => {\n    res.sendFile(path.resolve(distPath, \"index.html\"));\n  });\n}\n","path":null,"size_bytes":2254,"size_tokens":null},"server/index.ts":{"content":"import express, { type Request, Response, NextFunction } from \"express\";\nimport { registerRoutes } from \"./routes\";\nimport { setupVite, serveStatic, log } from \"./vite\";\nimport { initializeStorageBucket } from \"./supabaseStorage\";\n\nconst app = express();\napp.use(express.json());\napp.use(express.urlencoded({ extended: false }));\n\napp.use((req, res, next) => {\n  const start = Date.now();\n  const path = req.path;\n  let capturedJsonResponse: Record<string, any> | undefined = undefined;\n\n  const originalResJson = res.json;\n  res.json = function (bodyJson, ...args) {\n    capturedJsonResponse = bodyJson;\n    return originalResJson.apply(res, [bodyJson, ...args]);\n  };\n\n  res.on(\"finish\", () => {\n    const duration = Date.now() - start;\n    if (path.startsWith(\"/api\")) {\n      let logLine = `${req.method} ${path} ${res.statusCode} in ${duration}ms`;\n      if (capturedJsonResponse) {\n        logLine += ` :: ${JSON.stringify(capturedJsonResponse)}`;\n      }\n\n      if (logLine.length > 80) {\n        logLine = logLine.slice(0, 79) + \"â€¦\";\n      }\n\n      log(logLine);\n    }\n  });\n\n  next();\n});\n\n(async () => {\n  // Initialize Supabase Storage bucket for profile pictures\n  try {\n    await initializeStorageBucket();\n  } catch (error) {\n    log('Warning: Could not initialize Supabase Storage bucket. Profile picture uploads may not work.');\n    console.error(error);\n  }\n\n  const server = await registerRoutes(app);\n\n  app.use((err: any, _req: Request, res: Response, _next: NextFunction) => {\n    const status = err.status || err.statusCode || 500;\n    const message = err.message || \"Internal Server Error\";\n\n    res.status(status).json({ message });\n    throw err;\n  });\n\n  // importantly only setup vite in development and after\n  // setting up all the other routes so the catch-all route\n  // doesn't interfere with the other routes\n  if (app.get(\"env\") === \"development\") {\n    await setupVite(app, server);\n  } else {\n    serveStatic(app);\n  }\n\n  // ALWAYS serve the app on port 5000\n  // this serves both the API and the client.\n  // It is the only port that is not firewalled.\n  const port = 5000;\n  server.listen({\n    port,\n    host: \"0.0.0.0\",\n    reusePort: true,\n  }, () => {\n    log(`serving on port ${port}`);\n  });\n})();\n","path":null,"size_bytes":2244,"size_tokens":null},"client/src/components/ui/menubar.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction MenubarMenu({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Menu>) {\n  return <MenubarPrimitive.Menu {...props} />\n}\n\nfunction MenubarGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Group>) {\n  return <MenubarPrimitive.Group {...props} />\n}\n\nfunction MenubarPortal({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Portal>) {\n  return <MenubarPrimitive.Portal {...props} />\n}\n\nfunction MenubarRadioGroup({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.RadioGroup>) {\n  return <MenubarPrimitive.RadioGroup {...props} />\n}\n\nfunction MenubarSub({\n  ...props\n}: React.ComponentProps<typeof MenubarPrimitive.Sub>) {\n  return <MenubarPrimitive.Sub data-slot=\"menubar-sub\" {...props} />\n}\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border bg-background p-1\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n","path":null,"size_bytes":8605,"size_tokens":null},"index.js":{"content":"const express = require(\"express\");\nconst bodyParser = require(\"body-parser\");\nconst multer = require(\"multer\");\nconst path = require(\"path\");\nconst sqlite3 = require(\"sqlite3\").verbose();\nconst fs = require(\"fs\");\n\nconst app = express();\nconst PORT = process.env.PORT || 3000;\n\n// ===== Middleware =====\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(express.static(\"public\"));\napp.set(\"view engine\", \"ejs\");\n\n// ===== File Upload Config =====\nconst storage = multer.diskStorage({\n  destination: (req, file, cb) => {\n    cb(null, \"uploads/\");\n  },\n  filename: (req, file, cb) => {\n    cb(null, Date.now() + path.extname(file.originalname));\n  },\n});\nconst upload = multer({ storage });\n\n// ===== Database Setup =====\nif (!fs.existsSync(\"./db\")) fs.mkdirSync(\"./db\");\nconst db = new sqlite3.Database(\"./db/database.sqlite\");\n\n// Create tables if not exist\ndb.serialize(() => {\n  db.run(`CREATE TABLE IF NOT EXISTS artisans (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT,\n    contact TEXT,\n    city TEXT,\n    skills TEXT,\n    bio TEXT,\n    photo TEXT,\n    tier TEXT DEFAULT 'unverified',\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n  )`);\n\n  db.run(`CREATE TABLE IF NOT EXISTS applications (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT,\n    contact TEXT,\n    city TEXT,\n    skills TEXT,\n    bio TEXT,\n    experience TEXT,\n    documents TEXT,\n    status TEXT DEFAULT 'pending',\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n  )`);\n});\n\n// ===== Routes =====\napp.get(\"/\", (req, res) => {\n  res.redirect(\"/join\");\n});\n\napp.get(\"/join\", (req, res) => {\n  res.render(\"join\");\n});\n\n// Handle unverified artisan signup\napp.post(\"/api/join/unverified\", upload.single(\"photo\"), (req, res) => {\n  const { name, contact, city, skills, bio } = req.body;\n  const photo = req.file ? req.file.filename : null;\n\n  db.run(\n    `INSERT INTO artisans (name, contact, city, skills, bio, photo, tier) VALUES (?, ?, ?, ?, ?, ?, ?)`,\n    [name, contact, city, skills, bio, photo, \"unverified\"],\n    function (err) {\n      if (err) {\n        console.error(err);\n        return res.status(500).send(\"Error saving artisan.\");\n      }\n      res.send(\n        \"<h2>âœ… Youâ€™re listed as Unverified. Upgrade anytime!</h2><a href='/join'>Back</a>\",\n      );\n    },\n  );\n});\n\n// Handle verified artisan application\napp.post(\"/api/join/verified\", upload.array(\"documents\", 3), (req, res) => {\n  const { name, contact, city, skills, bio, experience } = req.body;\n  const documents = req.files.map((f) => f.filename).join(\",\");\n\n  db.run(\n    `INSERT INTO applications (name, contact, city, skills, bio, experience, documents, status) VALUES (?, ?, ?, ?, ?, ?, ?, ?)`,\n    [name, contact, city, skills, bio, experience, documents, \"pending\"],\n    function (err) {\n      if (err) {\n        console.error(err);\n        return res.status(500).send(\"Error saving application.\");\n      }\n      res.send(\n        \"<h2>âœ… Application submitted. Weâ€™ll review and contact you with payment instructions.</h2><a href='/join'>Back</a>\",\n      );\n    },\n  );\n});\n\n// ===== Start Server =====\napp.listen(PORT, () => {\n  console.log(`Server running on http://localhost:${PORT}`);\n  // Import the createClient function\n  import { createClient } from \"@supabase/supabase-js\";\n\n  // Access your environment variables\n  const supabaseUrl = process.env.SUPABASE_URL;\n  const supabaseKey = process.env.SUPABASE_ANON_KEY;\n\n  // Create the Supabase client\n  export const supabase = createClient(supabaseUrl, supabaseKey);\n\n  // --- You are now connected! ---\n\n  // Example: How to fetch data from a table named 'profiles'\n  async function getArtisans() {\n    try {\n      let { data, error } = await supabase.from(\"profiles\").select(\"*\");\n\n      if (error) {\n        console.error(\"Error fetching data:\", error);\n      } else {\n        console.log(\"Data fetched successfully:\", data);\n      }\n    } catch (err) {\n      console.error(\"An unexpected error occurred:\", err);\n    }\n  }\n\n  // Run the example function\n  getProfiles();\n});\n","path":null,"size_bytes":4027,"size_tokens":null},"client/src/pages/ArtisanProfile.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useRoute, Link } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { getInitials } from \"@/lib/utils\";\nimport { \n  MapPin, \n  Phone, \n  Mail, \n  ArrowLeft, \n  Clock,\n  Shield,\n  Award,\n  User\n} from \"lucide-react\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function ArtisanProfile() {\n  const [match, params] = useRoute(\"/artisan/:id\");\n  const artisanId = params?.id;\n\n  const { data: artisan, isLoading, error } = useQuery<Artisan>({\n    queryKey: [`/api/artisans/${artisanId}`],\n    enabled: !!artisanId,\n  });\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <Skeleton className=\"h-8 w-24 mb-6\" />\n          <div className=\"grid lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2 space-y-6\">\n              <Card>\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start space-x-6\">\n                    <Skeleton className=\"w-24 h-24 rounded-full\" />\n                    <div className=\"flex-1 space-y-3\">\n                      <Skeleton className=\"h-6 w-1/2\" />\n                      <Skeleton className=\"h-4 w-1/3\" />\n                      <Skeleton className=\"h-4 w-2/3\" />\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            </div>\n            <div className=\"space-y-6\">\n              <Card>\n                <CardContent className=\"p-6\">\n                  <Skeleton className=\"h-10 w-full mb-4\" />\n                  <Skeleton className=\"h-10 w-full\" />\n                </CardContent>\n              </Card>\n            </div>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error || !artisan) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <Card className=\"border border-green/30 bg-black max-w-2xl mx-auto\">\n            <CardContent className=\"p-8 text-center\">\n              <User className=\"w-16 h-16 mx-auto mb-4 text-gold/50\" />\n              <h1 className=\"text-2xl font-bold text-white mb-4\">Artisan Not Found</h1>\n              <p className=\"text-white mb-6\">The artisan profile you're looking for doesn't exist.</p>\n              <Link href=\"/\">\n                <Button className=\"bg-green hover:bg-green-dark text-white\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Back Button */}\n        <Link href=\"/profiles\">\n          <Button variant=\"outline\" className=\"mb-6 border-green/30 text-gold hover:bg-gold/10\">\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\n            Back to Artisans\n          </Button>\n        </Link>\n\n        <div className=\"grid lg:grid-cols-3 gap-8\">\n          {/* Main Content */}\n          <div className=\"lg:col-span-2 space-y-6\">\n            {/* Profile Header */}\n            <Card className=\"border border-green/30 bg-black\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start space-x-6\">\n                  <div className=\"w-24 h-24 bg-gradient-to-br from-gold to-gold-dark rounded-full flex items-center justify-center text-white font-bold text-2xl flex-shrink-0 overflow-hidden\">\n                    {artisan.profileImage ? (\n                      <img \n                        src={artisan.profileImage} \n                        alt={`${artisan.firstName} ${artisan.lastName}`}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      getInitials(artisan.firstName, artisan.lastName)\n                    )}\n                  </div>\n                  \n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-start flex-wrap gap-3 mb-3\">\n                      <h1 className=\"text-2xl font-bold text-white\">\n                        {artisan.firstName} {artisan.lastName}\n                      </h1>\n                      \n                      {/* Tier Badges */}\n                      {artisan.subscriptionTier === 'unverified' && (\n                        <Badge variant=\"outline\" className=\"text-white/80 border-green/30 bg-zinc-800/50\">\n                          <User className=\"w-3 h-3 mr-1\" />\n                          Unverified\n                        </Badge>\n                      )}\n                      \n                      {(artisan.subscriptionTier === 'verified' || artisan.subscriptionTier === 'premium') && (\n                        <Badge variant=\"outline\" className=\"text-gold border-green/30 bg-gold/20\">\n                          <Shield className=\"w-3 h-3 mr-1\" />\n                          Verified\n                        </Badge>\n                      )}\n                      \n                      {artisan.subscriptionTier === 'premium' && (\n                        <Badge variant=\"outline\" className=\"text-gold border-green/30 bg-gold/20\">\n                          <Award className=\"w-3 h-3 mr-1\" />\n                          Premium Marketing\n                        </Badge>\n                      )}\n                    </div>\n                    \n                    <p className=\"text-lg text-gold font-medium mb-4\">\n                      {artisan.services.map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(\", \")}\n                    </p>\n                    \n                    <div className=\"flex flex-wrap items-center gap-4 mb-4\">\n                      <div className=\"flex items-center space-x-1 text-white/80\">\n                        <MapPin className=\"w-4 h-4 text-gold\" />\n                        <span>{artisan.location}</span>\n                      </div>\n                      \n                      <div className=\"flex items-center space-x-1 text-white/80\">\n                        <Clock className=\"w-4 h-4 text-gold\" />\n                        <span>{artisan.yearsExperience}+ years experience</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* About */}\n            <Card className=\"border border-green/30 bg-black\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-white\">\n                  <User className=\"w-5 h-5 text-gold\" />\n                  <span>About</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-white/90 leading-relaxed\">{artisan.description}</p>\n              </CardContent>\n            </Card>\n\n            {/* Services */}\n            <Card className=\"border border-green/30 bg-black\">\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2 text-white\">\n                  <Award className=\"w-5 h-5 text-gold\" />\n                  <span>Services Offered</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"flex flex-wrap gap-2\">\n                  {artisan.services.map((service) => (\n                    <Badge key={service} className=\"px-3 py-1 bg-gold/20 text-gold border-green/30\">\n                      {service.charAt(0).toUpperCase() + service.slice(1)}\n                    </Badge>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Portfolio - Proof of Work */}\n            {artisan.portfolio && artisan.portfolio.length > 0 && (\n              <Card className=\"border border-green/30 bg-black\">\n                <CardHeader>\n                  <CardTitle className=\"flex items-center space-x-2 text-white\">\n                    <Award className=\"w-5 h-5 text-gold\" />\n                    <span>Portfolio - Proof of Work</span>\n                  </CardTitle>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4\">\n                    {artisan.portfolio.map((imageUrl, index) => (\n                      <div key={index} className=\"group relative overflow-hidden rounded-lg border border-gold/30\">\n                        <img\n                          src={imageUrl}\n                          alt={`Portfolio ${index + 1}`}\n                          className=\"w-full h-40 object-cover hover:scale-110 transition-transform duration-300\"\n                        />\n                      </div>\n                    ))}\n                  </div>\n                </CardContent>\n              </Card>\n            )}\n\n          </div>\n\n          {/* Sidebar */}\n          <div className=\"space-y-6\">\n            {/* Contact Card */}\n            <Card className=\"border border-green/30 bg-black\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Contact {artisan.firstName}</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <Button className=\"w-full bg-green hover:bg-green-dark text-white\" size=\"lg\">\n                  <Phone className=\"w-4 h-4 mr-2\" />\n                  Call Now\n                </Button>\n                \n                <Button variant=\"outline\" className=\"w-full border-2 border-gold text-gold hover:bg-gold/20 hover:border-gold-dark\" size=\"lg\">\n                  <Mail className=\"w-4 h-4 mr-2\" />\n                  Send Message\n                </Button>\n                \n                <Separator className=\"bg-gold/20\" />\n                \n                <div className=\"space-y-2 text-sm text-white/80\">\n                  <div className=\"flex justify-between\">\n                    <span>Phone:</span>\n                    <span className=\"font-medium text-white\">{artisan.phone}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Email:</span>\n                    <span className=\"font-medium text-white break-all\">{artisan.email}</span>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Quick Stats */}\n            <Card className=\"border border-green/30 bg-black\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Quick Stats</CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/80\">Experience</span>\n                  <span className=\"font-semibold text-white\">{artisan.yearsExperience}+ years</span>\n                </div>\n                \n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/80\">Verified</span>\n                  <Badge variant={artisan.verified ? \"default\" : \"secondary\"} className={artisan.verified ? \"bg-green\" : \"bg-gray-700\"}>\n                    {artisan.verified ? \"Yes\" : \"No\"}\n                  </Badge>\n                </div>\n                \n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-white/80\">Subscription</span>\n                  <Badge className=\"bg-gold/20 text-gold border-green/30\">\n                    {artisan.subscriptionTier === 'unverified' && 'Free'}\n                    {artisan.subscriptionTier === 'verified' && 'Verified'}\n                    {artisan.subscriptionTier === 'premium' && 'Premium'}\n                  </Badge>\n                </div>\n              </CardContent>\n            </Card>\n          </div>\n        </div>\n      </div>\n      \n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":12437,"size_tokens":null},"client/src/components/ui/tooltip.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n","path":null,"size_bytes":1209,"size_tokens":null},"styles.css":{"content":"","path":null,"size_bytes":0,"size_tokens":null},"server/emailService.ts":{"content":"import { MailService } from '@sendgrid/mail';\n\nexport class EmailService {\n  private mailService: MailService;\n\n  constructor() {\n    this.mailService = new MailService();\n    if (process.env.SENDGRID_API_KEY) {\n      this.mailService.setApiKey(process.env.SENDGRID_API_KEY);\n    }\n  }\n\n  async sendArtisanRegistrationNotification(artisan: {\n    firstName: string;\n    lastName: string;\n    email: string;\n    phone: string;\n    location: string;\n    services: string[];\n    description: string;\n    yearsExperience: number;\n  }): Promise<boolean> {\n    if (!process.env.SENDGRID_API_KEY) {\n      console.log('SendGrid API key not configured - skipping email notification');\n      return false;\n    }\n\n    try {\n      const emailContent = `\nNew Artisan Registration - Skills Connect\n\nA new artisan has registered on the Skills Connect platform:\n\nName: ${artisan.firstName} ${artisan.lastName}\nEmail: ${artisan.email}\nPhone: ${artisan.phone}\nLocation: ${artisan.location}\nServices: ${artisan.services.join(', ')}\nYears of Experience: ${artisan.yearsExperience}\nDescription: ${artisan.description}\n\nThis artisan is now pending verification. Please review their profile in the admin panel.\n\n---\nSkills Connect Admin Team\n`;\n\n      await this.mailService.send({\n        to: 'kgnoisy@gmail.com',\n        from: 'noreply@skillsconnect.co.za', // You may need to verify this domain in SendGrid\n        subject: 'New Artisan Registration - Skills Connect',\n        text: emailContent,\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h2 style=\"color: #B8860B;\">New Artisan Registration - Skills Connect</h2>\n            \n            <p>A new artisan has registered on the Skills Connect platform:</p>\n            \n            <table style=\"width: 100%; border-collapse: collapse; margin: 20px 0;\">\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Name:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.firstName} ${artisan.lastName}</td>\n              </tr>\n              <tr>\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Email:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.email}</td>\n              </tr>\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Phone:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.phone}</td>\n              </tr>\n              <tr>\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Location:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.location}</td>\n              </tr>\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Services:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.services.join(', ')}</td>\n              </tr>\n              <tr>\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Experience:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.yearsExperience} years</td>\n              </tr>\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Description:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${artisan.description}</td>\n              </tr>\n            </table>\n            \n            <p style=\"margin-top: 30px;\">This artisan is now pending verification. Please review their profile in the admin panel.</p>\n            \n            <hr style=\"margin: 30px 0; border: none; border-top: 1px solid #ddd;\">\n            <p style=\"color: #666; font-size: 12px;\">Skills Connect Admin Team</p>\n          </div>\n        `,\n      });\n\n      console.log(`Email notification sent successfully for artisan: ${artisan.firstName} ${artisan.lastName}`);\n      return true;\n    } catch (error) {\n      console.error('Error sending email notification:', error);\n      return false;\n    }\n  }\n\n  // Send email verification to artisan\n  async sendArtisanEmailVerification(data: {\n    email: string;\n    firstName: string;\n    verificationUrl: string;\n  }): Promise<boolean> {\n    if (!process.env.SENDGRID_API_KEY) {\n      console.log(`Email service not configured - would send verification email to ${data.email}`);\n      return false;\n    }\n\n    try {\n      const subject = \"Verify Your Skills Connect Account\";\n      const html = `\n        <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px; background-color: #f8f9fa;\">\n          <div style=\"background: linear-gradient(135deg, #DAA520 0%, #B8860B 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0;\">\n            <h1 style=\"margin: 0; font-size: 28px;\">Skills Connect</h1>\n            <p style=\"margin: 10px 0 0; font-size: 16px;\">Artisan Marketplace</p>\n          </div>\n          \n          <div style=\"background: white; padding: 30px; border-radius: 0 0 10px 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">\n            <h2 style=\"color: #333; margin-bottom: 20px;\">Welcome ${data.firstName}!</h2>\n            \n            <p style=\"color: #666; line-height: 1.6; margin-bottom: 20px;\">\n              Thank you for joining Skills Connect as an artisan! To complete your registration and start receiving customer inquiries, please verify your email address.\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${data.verificationUrl}\" \n                 style=\"background: #DAA520; color: white; padding: 15px 30px; text-decoration: none; border-radius: 5px; font-weight: bold; display: inline-block;\">\n                Verify Email Address\n              </a>\n            </div>\n            \n            <p style=\"color: #666; line-height: 1.6; font-size: 14px;\">\n              This verification link will expire in 24 hours. If you didn't create this account, please ignore this email.\n            </p>\n            \n            <hr style=\"border: none; border-top: 1px solid #eee; margin: 30px 0;\">\n            \n            <p style=\"color: #999; font-size: 12px; text-align: center;\">\n              Skills Connect - Connecting you with trusted local artisans<br>\n              South Africa's Premier Artisan Marketplace\n            </p>\n          </div>\n        </div>\n      `;\n\n      await this.mailService.send({\n        to: data.email,\n        from: 'noreply@skillsconnect.co.za',\n        subject: subject,\n        html: html\n      });\n\n      console.log(`Verification email sent successfully to: ${data.email}`);\n      return true;\n    } catch (error) {\n      console.error('Error sending verification email:', error);\n      return false;\n    }\n  }\n\n  // Send contact form notification to admin\n  async sendContactFormNotification(data: {\n    name: string;\n    email: string;\n    phone: string;\n    subject: string;\n    message: string;\n  }): Promise<boolean> {\n    if (!process.env.SENDGRID_API_KEY) {\n      console.log('SendGrid API key not configured - skipping contact form notification');\n      return false;\n    }\n\n    try {\n      const emailContent = `\nNew Contact Form Submission - Skills Connect\n\nSomeone has contacted you through the Skills Connect website:\n\nName: ${data.name}\nEmail: ${data.email}\nPhone: ${data.phone}\nSubject: ${data.subject}\n\nMessage:\n${data.message}\n\n---\nSkills Connect Contact System\n`;\n\n      await this.mailService.send({\n        to: 'admin@skillsconnect.co.za',\n        from: 'noreply@skillsconnect.co.za',\n        replyTo: data.email,\n        subject: `Contact Form: ${data.subject}`,\n        text: emailContent,\n        html: `\n          <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;\">\n            <h2 style=\"color: #B8860B;\">New Contact Form Submission</h2>\n            \n            <p>Someone has contacted you through the Skills Connect website:</p>\n            \n            <table style=\"width: 100%; border-collapse: collapse; margin: 20px 0;\">\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Name:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${data.name}</td>\n              </tr>\n              <tr>\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Email:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\"><a href=\"mailto:${data.email}\">${data.email}</a></td>\n              </tr>\n              <tr style=\"background-color: #f5f5f5;\">\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Phone:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\"><a href=\"tel:${data.phone}\">${data.phone}</a></td>\n              </tr>\n              <tr>\n                <td style=\"padding: 10px; border: 1px solid #ddd; font-weight: bold;\">Subject:</td>\n                <td style=\"padding: 10px; border: 1px solid #ddd;\">${data.subject}</td>\n              </tr>\n            </table>\n            \n            <div style=\"background-color: #f9f9f9; border-left: 4px solid #B8860B; padding: 15px; margin: 20px 0;\">\n              <h3 style=\"margin-top: 0;\">Message:</h3>\n              <p style=\"white-space: pre-wrap; line-height: 1.6;\">${data.message}</p>\n            </div>\n            \n            <hr style=\"margin: 30px 0; border: none; border-top: 1px solid #ddd;\">\n            <p style=\"color: #666; font-size: 12px;\">Skills Connect Contact System</p>\n          </div>\n        `,\n      });\n\n      console.log(`Contact form notification sent successfully from: ${data.name} (${data.email})`);\n      return true;\n    } catch (error) {\n      console.error('Error sending contact form notification:', error);\n      return false;\n    }\n  }\n}\n\nexport const emailService = new EmailService();","path":null,"size_bytes":10176,"size_tokens":null},"client/src/lib/authUtils.ts":{"content":"export function isUnauthorizedError(error: Error): boolean {\n  return /^401: .*Unauthorized/.test(error.message);\n}\n\nexport function getAdminToken(): string | null {\n  return localStorage.getItem(\"adminToken\");\n}\n\nexport function setAdminToken(token: string): void {\n  localStorage.setItem(\"adminToken\", token);\n}\n\nexport function removeAdminToken(): void {\n  localStorage.removeItem(\"adminToken\");\n}\n\nexport function redirectToAdminLogin(): void {\n  window.location.href = \"/admin/login\";\n}","path":null,"size_bytes":491,"size_tokens":null},"client/src/components/PricingTiers.tsx":{"content":"import { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Check } from \"lucide-react\";\nimport { useLocation } from \"wouter\";\n\nconst tiers = [\n  {\n    name: \"Unverified\",\n    price: \"FREE\",\n    description: \"Start building your online presence\",\n    features: [\n      \"Instant profile creation\",\n      \"Basic contact information\",\n      \"Listed in search results\",\n      \"Self-reported skills\",\n      \"Free forever - no hidden costs\"\n    ],\n    buttonText: \"Get Started Free\",\n    buttonVariant: \"outline\" as const,\n    popular: false,\n    registrationPath: \"/artisan#unverified\"\n  },\n  {\n    name: \"Verified\",\n    price: \"R100\",\n    period: \"per month\",\n    description: \"Build trust with verified credentials\",\n    features: [\n      \"Admin-verified credentials\",\n      \"ID & qualification verification\",\n      \"Green verified badge\",\n      \"Priority in search results\",\n      \"Customer review system\",\n      \"Photo gallery showcase\"\n    ],\n    buttonText: \"Get Verified\",\n    buttonVariant: \"default\" as const,\n    popular: true,\n    registrationPath: \"/artisan#verified\"\n  },\n  {\n    name: \"Verified + Marketing\",\n    price: \"R299\",\n    period: \"per month\",\n    description: \"Maximize your visibility & growth\",\n    features: [\n      \"All Verified tier benefits\",\n      \"Highest priority placement\",\n      \"Premium Marketing badge\",\n      \"Featured in top results\",\n      \"Enhanced profile visibility\",\n      \"Exclusive marketing support\"\n    ],\n    buttonText: \"Go Premium\",\n    buttonVariant: \"outline\" as const,\n    popular: false,\n    registrationPath: \"/artisan#premium\"\n  }\n];\n\nexport default function PricingTiers() {\n  const [, setLocation] = useLocation();\n\n  const handleSelectTier = (path: string) => {\n    setLocation(path);\n  };\n\n  return (\n    <section id=\"pricing\" className=\"py-16 lg:py-24 bg-black\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-16\">\n          <h3 className=\"text-3xl md:text-4xl font-bold text-white mb-4\">Join Skills Connect</h3>\n          <p className=\"text-xl text-white/80 max-w-2xl mx-auto\">\n            Choose the plan that helps you grow your artisan business and connect with more customers.\n          </p>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto\">\n          {tiers.map((tier) => (\n            <div \n              key={tier.name}\n              className={`rounded-2xl p-8 transition-all duration-300 ${\n                tier.popular \n                  ? \"bg-gradient-to-br from-gold to-gold-dark text-white relative overflow-hidden shadow-[0_0_30px_rgba(218,165,32,0.5)]\" \n                  : \"bg-gray-900 border-2 border-green/30 hover:border-green shadow-[0_0_20px_rgba(218,165,32,0.3)] hover:shadow-[0_0_30px_rgba(218,165,32,0.5)]\"\n              }`}\n              data-testid={`tier-card-${tier.name.toLowerCase()}`}\n            >\n              {tier.popular && (\n                <div className=\"absolute top-4 right-4 bg-white/20 text-white text-sm font-semibold px-3 py-1 rounded-full\">\n                  MOST POPULAR\n                </div>\n              )}\n              \n              <div className=\"text-center mb-8\">\n                <h4 className={`text-2xl font-bold mb-2 ${tier.popular ? \"text-white\" : \"text-gold\"}`}>\n                  {tier.name}\n                </h4>\n                <div className={`text-4xl font-bold mb-1 ${tier.popular ? \"text-white\" : \"text-white\"}`}>\n                  {tier.price}\n                </div>\n                {tier.period && (\n                  <div className={`mb-4 ${tier.popular ? \"text-white/80\" : \"text-white/70\"}`}>\n                    {tier.period}\n                  </div>\n                )}\n                <p className={tier.popular ? \"text-white/90\" : \"text-white/80\"}>\n                  {tier.description}\n                </p>\n              </div>\n              \n              <ul className=\"space-y-4 mb-8\">\n                {tier.features.map((feature, index) => (\n                  <li key={index} className=\"flex items-start\">\n                    <Check className={`w-5 h-5 mr-3 mt-0.5 flex-shrink-0 ${tier.popular ? \"text-white\" : \"text-green\"}`} />\n                    <span className={tier.popular ? \"text-white\" : \"text-gray-200\"}>\n                      {feature}\n                    </span>\n                  </li>\n                ))}\n              </ul>\n\n              <Button \n                onClick={() => handleSelectTier(tier.registrationPath)}\n                variant={tier.popular ? \"secondary\" : tier.buttonVariant}\n                className={`w-full ${\n                  tier.popular \n                    ? \"bg-white text-gold-dark hover:bg-gray-100 cosmic-selection\" \n                    : \"border-2 border-green text-green hover:bg-green hover:text-white cosmic-selection\"\n                }`}\n                data-testid={`button-${tier.name.toLowerCase()}`}\n              >\n                {tier.buttonText}\n              </Button>\n            </div>\n          ))}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":5089,"size_tokens":null},"views/public/style.css":{"content":"/* Simple utility styles (minimal Tailwind-like) */\n\nbody {\n  font-family: sans-serif;\n  margin: 0;\n}\n\ninput, textarea, button {\n  display: block;\n  width: 100%;\n  margin-bottom: 1rem;\n  padding: 0.5rem;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n}\n\nbutton {\n  background-color: #2563eb;\n  color: white;\n  font-weight: bold;\n  border: none;\n  cursor: pointer;\n  padding: 0.75rem;\n}\n\nbutton:hover {\n  background-color: #1d4ed8;\n}\n\nlabel {\n  font-weight: bold;\n  margin-top: 0.5rem;\n  display: block;\n}\n","path":null,"size_bytes":506,"size_tokens":null},"client/src/components/ui/resizable.tsx":{"content":"\"use client\"\n\nimport { GripVertical } from \"lucide-react\"\nimport * as ResizablePrimitive from \"react-resizable-panels\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ResizablePanelGroup = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (\n  <ResizablePrimitive.PanelGroup\n    className={cn(\n      \"flex h-full w-full data-[panel-group-direction=vertical]:flex-col\",\n      className\n    )}\n    {...props}\n  />\n)\n\nconst ResizablePanel = ResizablePrimitive.Panel\n\nconst ResizableHandle = ({\n  withHandle,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {\n  withHandle?: boolean\n}) => (\n  <ResizablePrimitive.PanelResizeHandle\n    className={cn(\n      \"relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90\",\n      className\n    )}\n    {...props}\n  >\n    {withHandle && (\n      <div className=\"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border\">\n        <GripVertical className=\"h-2.5 w-2.5\" />\n      </div>\n    )}\n  </ResizablePrimitive.PanelResizeHandle>\n)\n\nexport { ResizablePanelGroup, ResizablePanel, ResizableHandle }\n","path":null,"size_bytes":1723,"size_tokens":null},"client/src/pages/ServiceLanding.tsx":{"content":"import { useLocation, Link } from \"wouter\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { MapPin, Search, Users, Shield, Star, ArrowLeft, Building2 } from \"lucide-react\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\n\nconst serviceInfo = {\n  builders: {\n    title: \"Builders\",\n    description: \"Connect with professional builders and construction experts in your area\",\n    icon: \"ðŸ—ï¸\",\n    services: [\"New Construction\", \"Home Renovation\", \"Extensions\", \"Roofing\", \"Foundations\", \"General Building\"]\n  },\n  plumbers: {\n    title: \"Plumbers\",\n    description: \"Find trusted plumbing professionals for all your water and drainage needs\",\n    icon: \"ðŸ”§\",\n    services: [\"Emergency Repairs\", \"Pipe Installation\", \"Drain Cleaning\", \"Water Heater Services\", \"Bathroom Renovation\", \"Kitchen Plumbing\"]\n  },\n  electricians: {\n    title: \"Electricians\",\n    description: \"Reliable electrical contractors for safe and professional installations\",\n    icon: \"âš¡\",\n    services: [\"Electrical Installation\", \"Wiring\", \"Lighting\", \"Power Points\", \"Safety Inspections\", \"Emergency Repairs\"]\n  },\n  painters: {\n    title: \"Painters\",\n    description: \"Professional painting services for interior and exterior projects\",\n    icon: \"ðŸŽ¨\",\n    services: [\"Interior Painting\", \"Exterior Painting\", \"Wallpaper Installation\", \"Spray Painting\", \"Decorative Finishes\", \"Surface Preparation\"]\n  },\n  carpenters: {\n    title: \"Carpenters\",\n    description: \"Skilled carpenters for custom woodwork and furniture projects\",\n    icon: \"ðŸªµ\",\n    services: [\"Custom Furniture\", \"Kitchen Cabinets\", \"Built-in Wardrobes\", \"Decking\", \"Wooden Flooring\", \"Door Installation\"]\n  },\n  tilers: {\n    title: \"Tilers\",\n    description: \"Professional tiling specialists for floors, walls, and bathrooms\",\n    icon: \"ðŸ \",\n    services: [\"Floor Tiling\", \"Wall Tiling\", \"Bathroom Tiling\", \"Kitchen Backsplash\", \"Outdoor Tiling\", \"Tile Repairs\"]\n  },\n  cleaners: {\n    title: \"Cleaners\", \n    description: \"Trusted cleaning services for homes and offices\",\n    icon: \"ðŸ§½\",\n    services: [\"House Cleaning\", \"Office Cleaning\", \"Deep Cleaning\", \"Move-in/Move-out\", \"Carpet Cleaning\", \"Window Cleaning\"]\n  },\n  landscapers: {\n    title: \"Landscapers\",\n    description: \"Expert landscaping and garden maintenance services\",\n    icon: \"ðŸŒ¿\",\n    services: [\"Garden Design\", \"Lawn Maintenance\", \"Tree Services\", \"Irrigation\", \"Landscaping\", \"Garden Cleanup\"]\n  },\n  mechanics: {\n    title: \"Mechanics\",\n    description: \"Professional vehicle repair and maintenance specialists\",\n    icon: \"ðŸ”§\",\n    services: [\"Engine Repair\", \"Brake Service\", \"Oil Changes\", \"Transmission Service\", \"Diagnostics\", \"General Maintenance\"]\n  }\n};\n\nconst tiers = [\n  {\n    id: \"basic\",\n    name: \"Basic\",\n    price: \"Free\",\n    description: \"Up to 3 artisan contacts\",\n    features: [\"Basic contact information\", \"Limited profiles\", \"Standard support\"]\n  },\n  {\n    id: \"premium\", \n    name: \"Premium\",\n    price: \"R99\",\n    description: \"Up to 5 verified artisans\",\n    features: [\"Full verified profiles\", \"Direct contact details\", \"Priority support\", \"Quality guarantee\"]\n  },\n  {\n    id: \"enterprise\",\n    name: \"Enterprise\", \n    price: \"R299/month\",\n    description: \"Unlimited access\",\n    features: [\"Unlimited contacts\", \"Premium artisans only\", \"Dedicated support\", \"Project management tools\"]\n  }\n];\n\nconst locations = [\n  \"Brakpan, Ekurhuleni\", \"Benoni, Ekurhuleni\", \"Springs, Ekurhuleni\", \"Nigel, Ekurhuleni\", \n  \"Daveyton, Ekurhuleni\", \"Kwa Thema, Ekurhuleni\", \"Tsakane, Ekurhuleni\",\n  \"Alberton, Ekurhuleni\", \"Germiston, Ekurhuleni\", \"Boksburg, Ekurhuleni\", \"Kempton Park, Ekurhuleni\", \n  \"Edenvale, Ekurhuleni\", \"Tembisa, Ekurhuleni\", \"Duduza, Ekurhuleni\", \"Thokoza, Ekurhuleni\", \n  \"Katlehong, Ekurhuleni\", \"Vosloorus, Ekurhuleni\"\n];\n\nexport default function ServiceLanding() {\n  const [, setLocation] = useLocation();\n  const [searchLocation, setSearchLocation] = useState(\"\");\n  const [selectedTier, setSelectedTier] = useState(\"basic\");\n  const [selectedServices, setSelectedServices] = useState<string[]>([]);\n  const [locationSuggestions, setLocationSuggestions] = useState<string[]>([]);\n  const [showLocationSuggestions, setShowLocationSuggestions] = useState(false);\n  const locationInputRef = useRef<HTMLInputElement>(null);\n  const getStartedRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to Get Started section on page load\n  useEffect(() => {\n    if (getStartedRef.current) {\n      getStartedRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\n    }\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (locationInputRef.current && !locationInputRef.current.contains(event.target as Node)) {\n        setShowLocationSuggestions(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Extract service type from current URL\n  const currentPath = window.location.pathname;\n  const serviceType = currentPath.split('/').pop() || 'builders';\n  const service = serviceInfo[serviceType as keyof typeof serviceInfo] || serviceInfo.builders;\n\n  const handleServiceToggle = (serviceName: string) => {\n    setSelectedServices(prev => \n      prev.includes(serviceName) \n        ? prev.filter(s => s !== serviceName)\n        : [...prev, serviceName]\n    );\n  };\n\n  const handleLocationChange = (value: string) => {\n    setSearchLocation(value);\n    if (value.length > 0) {\n      const filtered = locations.filter(l => \n        l.toLowerCase().includes(value.toLowerCase())\n      );\n      setLocationSuggestions(filtered);\n      setShowLocationSuggestions(true);\n    } else {\n      setShowLocationSuggestions(false);\n    }\n  };\n\n  const selectLocation = (selectedLocation: string) => {\n    setSearchLocation(selectedLocation);\n    setShowLocationSuggestions(false);\n  };\n\n  const handleSearch = () => {\n    if (!searchLocation.trim()) {\n      alert(\"Please enter a location to search for artisans.\");\n      return;\n    }\n\n    const searchParams = new URLSearchParams({\n      service: serviceType,\n      location: searchLocation,\n      tier: selectedTier,\n      ...(selectedServices.length > 0 && { services: selectedServices.join(',') })\n    });\n\n    setLocation(`/search?${searchParams.toString()}`);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main>\n        {/* Direct Landing on Get Started Form */}\n        <section className=\"pt-2 pb-4 min-h-screen bg-black\">\n          <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <FadeInSection>\n              <Link href=\"/\">\n                <Button variant=\"outline\" className=\"mb-4 border-green/30 text-gold hover:bg-gold/10\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n              {/* Get Started Form - Primary Focus */}\n              <div ref={getStartedRef} className=\"max-w-4xl mx-auto\">\n                <Card className=\"shadow-2xl border border-green/30 bg-black\">\n                  <CardHeader className=\"pb-3 bg-black text-white rounded-t-lg\">\n                    <div className=\"text-center\">\n                      <Building2 className=\"w-16 h-16 mb-3 mx-auto text-gold\" />\n                      <CardTitle className=\"text-3xl font-bold mb-3 text-white\">\n                        Get Started - Find Verified {service.title}\n                      </CardTitle>\n                      <p className=\"text-base text-white mb-4 max-w-2xl mx-auto\">\n                        {service.description}\n                      </p>\n                      <div className=\"flex flex-wrap justify-center items-center gap-4 text-gold\">\n                        <div className=\"flex items-center gap-2\">\n                          <Shield className=\"w-5 h-5\" />\n                          <span className=\"font-semibold text-sm\">Verified Professionals</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Star className=\"w-5 h-5\" />\n                          <span className=\"font-semibold text-sm\">Rated & Reviewed</span>\n                        </div>\n                        <div className=\"flex items-center gap-2\">\n                          <Users className=\"w-5 h-5\" />\n                          <span className=\"font-semibold text-sm\">Trusted Service</span>\n                        </div>\n                      </div>\n                    </div>\n                  </CardHeader>\n                <CardContent className=\"space-y-4 p-6 bg-black\">\n                  {/* Location Input */}\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"location\" className=\"text-base font-semibold text-white\">\n                      Where do you need the service?\n                    </Label>\n                    <div className=\"relative\" ref={locationInputRef}>\n                      <MapPin className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gold w-4 h-4 z-10\" />\n                      <Input\n                        id=\"location\"\n                        value={searchLocation}\n                        onChange={(e) => handleLocationChange(e.target.value)}\n                        onFocus={() => setShowLocationSuggestions(searchLocation.length > 0)}\n                        placeholder=\"Enter your location\"\n                        className=\"pl-9 py-2 text-sm bg-zinc-800 border border-green/30 text-white placeholder:text-white/60 focus:border-gold rounded-lg\"\n                        data-testid=\"input-location\"\n                      />\n                      {showLocationSuggestions && locationSuggestions.length > 0 && (\n                        <div className=\"absolute top-full left-0 right-0 bg-zinc-800 border border-green/30 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto mt-1\">\n                          {locationSuggestions.map((suggestion, index) => (\n                            <button\n                              key={index}\n                              className=\"w-full text-left px-4 py-3 text-white hover:bg-gold/20 transition-colors first:rounded-t-lg last:rounded-b-lg\"\n                              onClick={() => selectLocation(suggestion)}\n                            >\n                              {suggestion}\n                            </button>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Services Selection - Ultra Compact */}\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-base font-semibold text-white\">\n                      Select Services You Need\n                    </Label>\n                    <div className=\"grid gap-1 grid-cols-2 md:grid-cols-4 max-h-32 overflow-y-auto\">\n                      {service.services.map((serviceItem, index) => (\n                        <div key={index} className=\"flex items-center space-x-2 p-2 bg-zinc-800 rounded hover:bg-zinc-700 transition-colors\">\n                          <input\n                            type=\"checkbox\"\n                            id={`service-${index}`}\n                            checked={selectedServices.includes(serviceItem)}\n                            onChange={() => handleServiceToggle(serviceItem)}\n                            className=\"w-3 h-3 text-gold bg-zinc-700 border-green/30 rounded focus:ring-gold focus:ring-1\"\n                          />\n                          <label \n                            htmlFor={`service-${index}`} \n                            className=\"text-white font-medium cursor-pointer flex-1 text-xs leading-tight\"\n                          >\n                            {serviceItem}\n                          </label>\n                        </div>\n                      ))}\n                    </div>\n                    {selectedServices.length > 0 && (\n                      <p className=\"text-xs text-white/80\">\n                        {selectedServices.length} service{selectedServices.length > 1 ? 's' : ''} selected\n                      </p>\n                    )}\n                  </div>\n\n                  {/* Search Button */}\n                  <div className=\"pt-2\">\n                    <Button \n                      onClick={handleSearch}\n                      className=\"w-full bg-gold hover:bg-gold/90 text-black font-bold py-3 text-base rounded-lg shadow-lg hover:shadow-xl transition-all\"\n                      size=\"lg\"\n                    >\n                      <Search className=\"w-4 h-4 mr-2\" />\n                      Find Verified {serviceType.charAt(0).toUpperCase() + serviceType.slice(1)}\n                    </Button>\n                    \n                    {searchLocation && (\n                      <p className=\"mt-2 text-xs text-white/80 text-center\">\n                        Searching in {searchLocation}\n                        {selectedServices.length > 0 && ` for ${selectedServices.slice(0, 2).join(', ')}${selectedServices.length > 2 ? '...' : ''}`}\n                      </p>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n              </div>\n            </FadeInSection>\n          </div>\n        </section>\n      </main>\n      \n      <Footer />\n    </div>\n  );\n}","path":null,"size_bytes":13766,"size_tokens":null},"client/src/components/ui/sidebar.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { VariantProps, cva } from \"class-variance-authority\"\nimport { PanelLeft } from \"lucide-react\"\n\nimport { useIsMobile } from \"@/hooks/use-mobile\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Separator } from \"@/components/ui/separator\"\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\"\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\"\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7\nconst SIDEBAR_WIDTH = \"16rem\"\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\"\nconst SIDEBAR_WIDTH_ICON = \"3rem\"\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\"\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\"\n  open: boolean\n  setOpen: (open: boolean) => void\n  openMobile: boolean\n  setOpenMobile: (open: boolean) => void\n  isMobile: boolean\n  toggleSidebar: () => void\n}\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null)\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext)\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\")\n  }\n\n  return context\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean\n    open?: boolean\n    onOpenChange?: (open: boolean) => void\n  }\n>(\n  (\n    {\n      defaultOpen = true,\n      open: openProp,\n      onOpenChange: setOpenProp,\n      className,\n      style,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const isMobile = useIsMobile()\n    const [openMobile, setOpenMobile] = React.useState(false)\n\n    // This is the internal state of the sidebar.\n    // We use openProp and setOpenProp for control from outside the component.\n    const [_open, _setOpen] = React.useState(defaultOpen)\n    const open = openProp ?? _open\n    const setOpen = React.useCallback(\n      (value: boolean | ((value: boolean) => boolean)) => {\n        const openState = typeof value === \"function\" ? value(open) : value\n        if (setOpenProp) {\n          setOpenProp(openState)\n        } else {\n          _setOpen(openState)\n        }\n\n        // This sets the cookie to keep the sidebar state.\n        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`\n      },\n      [setOpenProp, open]\n    )\n\n    // Helper to toggle the sidebar.\n    const toggleSidebar = React.useCallback(() => {\n      return isMobile\n        ? setOpenMobile((open) => !open)\n        : setOpen((open) => !open)\n    }, [isMobile, setOpen, setOpenMobile])\n\n    // Adds a keyboard shortcut to toggle the sidebar.\n    React.useEffect(() => {\n      const handleKeyDown = (event: KeyboardEvent) => {\n        if (\n          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n          (event.metaKey || event.ctrlKey)\n        ) {\n          event.preventDefault()\n          toggleSidebar()\n        }\n      }\n\n      window.addEventListener(\"keydown\", handleKeyDown)\n      return () => window.removeEventListener(\"keydown\", handleKeyDown)\n    }, [toggleSidebar])\n\n    // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n    // This makes it easier to style the sidebar with Tailwind classes.\n    const state = open ? \"expanded\" : \"collapsed\"\n\n    const contextValue = React.useMemo<SidebarContextProps>(\n      () => ({\n        state,\n        open,\n        setOpen,\n        isMobile,\n        openMobile,\n        setOpenMobile,\n        toggleSidebar,\n      }),\n      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\n    )\n\n    return (\n      <SidebarContext.Provider value={contextValue}>\n        <TooltipProvider delayDuration={0}>\n          <div\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH,\n                \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n                ...style,\n              } as React.CSSProperties\n            }\n            className={cn(\n              \"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\",\n              className\n            )}\n            ref={ref}\n            {...props}\n          >\n            {children}\n          </div>\n        </TooltipProvider>\n      </SidebarContext.Provider>\n    )\n  }\n)\nSidebarProvider.displayName = \"SidebarProvider\"\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\"\n    variant?: \"sidebar\" | \"floating\" | \"inset\"\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\"\n  }\n>(\n  (\n    {\n      side = \"left\",\n      variant = \"sidebar\",\n      collapsible = \"offcanvas\",\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()\n\n    if (collapsible === \"none\") {\n      return (\n        <div\n          className={cn(\n            \"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\",\n            className\n          )}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      )\n    }\n\n    if (isMobile) {\n      return (\n        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n          <SheetContent\n            data-sidebar=\"sidebar\"\n            data-mobile=\"true\"\n            className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n            style={\n              {\n                \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n              } as React.CSSProperties\n            }\n            side={side}\n          >\n            <SheetHeader className=\"sr-only\">\n              <SheetTitle>Sidebar</SheetTitle>\n              <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n            </SheetHeader>\n            <div className=\"flex h-full w-full flex-col\">{children}</div>\n          </SheetContent>\n        </Sheet>\n      )\n    }\n\n    return (\n      <div\n        ref={ref}\n        className=\"group peer hidden text-sidebar-foreground md:block\"\n        data-state={state}\n        data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n        data-variant={variant}\n        data-side={side}\n      >\n        {/* This is what handles the sidebar gap on desktop */}\n        <div\n          className={cn(\n            \"relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n            \"group-data-[collapsible=offcanvas]:w-0\",\n            \"group-data-[side=right]:rotate-180\",\n            variant === \"floating\" || variant === \"inset\"\n              ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\"\n          )}\n        />\n        <div\n          className={cn(\n            \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n            side === \"left\"\n              ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n              : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n            // Adjust the padding for floating and inset variants.\n            variant === \"floating\" || variant === \"inset\"\n              ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n              : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n            className\n          )}\n          {...props}\n        >\n          <div\n            data-sidebar=\"sidebar\"\n            className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n  }\n)\nSidebar.displayName = \"Sidebar\"\n\nconst SidebarTrigger = React.forwardRef<\n  React.ElementRef<typeof Button>,\n  React.ComponentProps<typeof Button>\n>(({ className, onClick, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <Button\n      ref={ref}\n      data-sidebar=\"trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"h-7 w-7\", className)}\n      onClick={(event) => {\n        onClick?.(event)\n        toggleSidebar()\n      }}\n      {...props}\n    >\n      <PanelLeft />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  )\n})\nSidebarTrigger.displayName = \"SidebarTrigger\"\n\nconst SidebarRail = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\">\n>(({ className, ...props }, ref) => {\n  const { toggleSidebar } = useSidebar()\n\n  return (\n    <button\n      ref={ref}\n      data-sidebar=\"rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarRail.displayName = \"SidebarRail\"\n\nconst SidebarInset = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"main\">\n>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInset.displayName = \"SidebarInset\"\n\nconst SidebarInput = React.forwardRef<\n  React.ElementRef<typeof Input>,\n  React.ComponentProps<typeof Input>\n>(({ className, ...props }, ref) => {\n  return (\n    <Input\n      ref={ref}\n      data-sidebar=\"input\"\n      className={cn(\n        \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarInput.displayName = \"SidebarInput\"\n\nconst SidebarHeader = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarHeader.displayName = \"SidebarHeader\"\n\nconst SidebarFooter = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarFooter.displayName = \"SidebarFooter\"\n\nconst SidebarSeparator = React.forwardRef<\n  React.ElementRef<typeof Separator>,\n  React.ComponentProps<typeof Separator>\n>(({ className, ...props }, ref) => {\n  return (\n    <Separator\n      ref={ref}\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  )\n})\nSidebarSeparator.displayName = \"SidebarSeparator\"\n\nconst SidebarContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarContent.displayName = \"SidebarContent\"\n\nconst SidebarGroup = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  )\n})\nSidebarGroup.displayName = \"SidebarGroup\"\n\nconst SidebarGroupLabel = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"div\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\"\n\nconst SidebarGroupAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & { asChild?: boolean }\n>(({ className, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarGroupAction.displayName = \"SidebarGroupAction\"\n\nconst SidebarGroupContent = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"group-content\"\n    className={cn(\"w-full text-sm\", className)}\n    {...props}\n  />\n))\nSidebarGroupContent.displayName = \"SidebarGroupContent\"\n\nconst SidebarMenu = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu\"\n    className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n    {...props}\n  />\n))\nSidebarMenu.displayName = \"SidebarMenu\"\n\nconst SidebarMenuItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    data-sidebar=\"menu-item\"\n    className={cn(\"group/menu-item relative\", className)}\n    {...props}\n  />\n))\nSidebarMenuItem.displayName = \"SidebarMenuItem\"\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    isActive?: boolean\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(\n  (\n    {\n      asChild = false,\n      isActive = false,\n      variant = \"default\",\n      size = \"default\",\n      tooltip,\n      className,\n      ...props\n    },\n    ref\n  ) => {\n    const Comp = asChild ? Slot : \"button\"\n    const { isMobile, state } = useSidebar()\n\n    const button = (\n      <Comp\n        ref={ref}\n        data-sidebar=\"menu-button\"\n        data-size={size}\n        data-active={isActive}\n        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n        {...props}\n      />\n    )\n\n    if (!tooltip) {\n      return button\n    }\n\n    if (typeof tooltip === \"string\") {\n      tooltip = {\n        children: tooltip,\n      }\n    }\n\n    return (\n      <Tooltip>\n        <TooltipTrigger asChild>{button}</TooltipTrigger>\n        <TooltipContent\n          side=\"right\"\n          align=\"center\"\n          hidden={state !== \"collapsed\" || isMobile}\n          {...tooltip}\n        />\n      </Tooltip>\n    )\n  }\n)\nSidebarMenuButton.displayName = \"SidebarMenuButton\"\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean\n    showOnHover?: boolean\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuAction.displayName = \"SidebarMenuAction\"\n\nconst SidebarMenuBadge = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\">\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    data-sidebar=\"menu-badge\"\n    className={cn(\n      \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n      \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n      \"peer-data-[size=sm]/menu-button:top-1\",\n      \"peer-data-[size=default]/menu-button:top-1.5\",\n      \"peer-data-[size=lg]/menu-button:top-2.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\"\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`\n  }, [])\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  )\n})\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\"\n\nconst SidebarMenuSub = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    data-sidebar=\"menu-sub\"\n    className={cn(\n      \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n      \"group-data-[collapsible=icon]:hidden\",\n      className\n    )}\n    {...props}\n  />\n))\nSidebarMenuSub.displayName = \"SidebarMenuSub\"\n\nconst SidebarMenuSubItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ ...props }, ref) => <li ref={ref} {...props} />)\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\"\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean\n    size?: \"sm\" | \"md\"\n    isActive?: boolean\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\"\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n}\n","path":null,"size_bytes":23567,"size_tokens":null},"client/src/components/ui/radio-group.tsx":{"content":"import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n","path":null,"size_bytes":1467,"size_tokens":null},"client/src/components/ui/dialog.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n","path":null,"size_bytes":3848,"size_tokens":null},"server/objectStorage.ts":{"content":"import { Storage, File } from \"@google-cloud/storage\";\nimport { Response } from \"express\";\nimport { randomUUID } from \"crypto\";\n\nconst REPLIT_SIDECAR_ENDPOINT = \"http://127.0.0.1:1106\";\n\n// The object storage client is used to interact with the object storage service.\nexport const objectStorageClient = new Storage({\n  credentials: {\n    audience: \"replit\",\n    subject_token_type: \"access_token\",\n    token_url: `${REPLIT_SIDECAR_ENDPOINT}/token`,\n    type: \"external_account\",\n    credential_source: {\n      url: `${REPLIT_SIDECAR_ENDPOINT}/credential`,\n      format: {\n        type: \"json\",\n        subject_token_field_name: \"access_token\",\n      },\n    },\n    universe_domain: \"googleapis.com\",\n  },\n  projectId: \"\",\n});\n\nexport class ObjectNotFoundError extends Error {\n  constructor() {\n    super(\"Object not found\");\n    this.name = \"ObjectNotFoundError\";\n    Object.setPrototypeOf(this, ObjectNotFoundError.prototype);\n  }\n}\n\n// The object storage service is used to interact with the object storage service.\nexport class ObjectStorageService {\n  constructor() {}\n\n  // Gets the private object directory.\n  getPrivateObjectDir(): string {\n    const dir = process.env.PRIVATE_OBJECT_DIR || \"\";\n    if (!dir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n    return dir;\n  }\n\n  // Downloads an object to the response.\n  async downloadObject(file: File, res: Response, cacheTtlSec: number = 3600) {\n    try {\n      // Get file metadata\n      const [metadata] = await file.getMetadata();\n      \n      // Set appropriate headers\n      res.set({\n        \"Content-Type\": metadata.contentType || \"application/octet-stream\",\n        \"Content-Length\": metadata.size,\n        \"Cache-Control\": `private, max-age=${cacheTtlSec}`,\n      });\n\n      // Stream the file to the response\n      const stream = file.createReadStream();\n\n      stream.on(\"error\", (err) => {\n        console.error(\"Stream error:\", err);\n        if (!res.headersSent) {\n          res.status(500).json({ error: \"Error streaming file\" });\n        }\n      });\n\n      stream.pipe(res);\n    } catch (error) {\n      console.error(\"Error downloading file:\", error);\n      if (!res.headersSent) {\n        res.status(500).json({ error: \"Error downloading file\" });\n      }\n    }\n  }\n\n  // Gets the upload URL for a document.\n  async getDocumentUploadURL(documentType: string): Promise<string> {\n    const privateObjectDir = this.getPrivateObjectDir();\n    if (!privateObjectDir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n\n    const documentId = randomUUID();\n    const timestamp = new Date().toISOString().split('T')[0]; // YYYY-MM-DD\n    const fullPath = `${privateObjectDir}/documents/${documentType}/${timestamp}/${documentId}`;\n\n    const { bucketName, objectName } = parseObjectPath(fullPath);\n\n    // Sign URL for PUT method with TTL\n    return signObjectURL({\n      bucketName,\n      objectName,\n      method: \"PUT\",\n      ttlSec: 900, // 15 minutes\n    });\n  }\n\n  // Gets the document file from the object path.\n  async getDocumentFile(objectPath: string): Promise<File> {\n    if (!objectPath.startsWith(\"/documents/\")) {\n      throw new ObjectNotFoundError();\n    }\n\n    const parts = objectPath.slice(1).split(\"/\");\n    if (parts.length < 4) {\n      throw new ObjectNotFoundError();\n    }\n\n    let privateDir = this.getPrivateObjectDir();\n    if (!privateDir.endsWith(\"/\")) {\n      privateDir = `${privateDir}/`;\n    }\n    \n    const documentPath = `${privateDir}${objectPath.slice(1)}`;\n    const { bucketName, objectName } = parseObjectPath(documentPath);\n    const bucket = objectStorageClient.bucket(bucketName);\n    const documentFile = bucket.file(objectName);\n    \n    const [exists] = await documentFile.exists();\n    if (!exists) {\n      throw new ObjectNotFoundError();\n    }\n    \n    return documentFile;\n  }\n\n  // Normalizes the document path from upload URL\n  normalizeDocumentPath(rawPath: string): string {\n    if (!rawPath.startsWith(\"https://storage.googleapis.com/\")) {\n      return rawPath;\n    }\n\n    // Extract the path from the URL by removing query parameters and domain\n    const url = new URL(rawPath);\n    const rawObjectPath = url.pathname;\n\n    let privateDir = this.getPrivateObjectDir();\n    if (!privateDir.endsWith(\"/\")) {\n      privateDir = `${privateDir}/`;\n    }\n\n    if (!rawObjectPath.startsWith(privateDir)) {\n      return rawObjectPath;\n    }\n\n    // Extract the document path\n    const documentPath = rawObjectPath.slice(privateDir.length);\n    return `/${documentPath}`;\n  }\n\n  // Gets the upload URL for an entity asset (e.g., profile image).\n  async getEntityAssetUploadURL(entityType: string, entityId: number, assetType: string): Promise<{\n    uploadURL: string;\n    objectPath: string;\n  }> {\n    const privateObjectDir = this.getPrivateObjectDir();\n    if (!privateObjectDir) {\n      throw new Error(\n        \"PRIVATE_OBJECT_DIR not set. Create a bucket in 'Object Storage' \" +\n          \"tool and set PRIVATE_OBJECT_DIR env var.\"\n      );\n    }\n\n    const assetId = randomUUID();\n    const fullPath = `${privateObjectDir}/entities/${entityType}/${entityId}/${assetType}/${assetId}`;\n    const objectPath = `/entities/${entityType}/${entityId}/${assetType}/${assetId}`;\n\n    const { bucketName, objectName } = parseObjectPath(fullPath);\n\n    // Sign URL for PUT method with TTL\n    const uploadURL = await signObjectURL({\n      bucketName,\n      objectName,\n      method: \"PUT\",\n      ttlSec: 900, // 15 minutes\n    });\n\n    console.log(\"Generated presigned URL for upload:\", { \n      entityType, \n      entityId, \n      assetType,\n      objectPath,\n      urlPreview: uploadURL.substring(0, 100) + \"...\"\n    });\n\n    return { uploadURL, objectPath };\n  }\n\n  // Normalizes entity asset path from signed URL or full path to storage path.\n  normalizeEntityAssetPath(rawPath: string): string {\n    if (rawPath.startsWith(\"/entities/\")) {\n      return rawPath;\n    }\n\n    if (rawPath.startsWith(\"https://storage.googleapis.com/\")) {\n      const url = new URL(rawPath);\n      const pathname = url.pathname;\n      \n      let privateDir = this.getPrivateObjectDir();\n      if (!privateDir.endsWith(\"/\")) {\n        privateDir = `${privateDir}/`;\n      }\n\n      if (pathname.includes(\"/entities/\")) {\n        const entitiesIndex = pathname.indexOf(\"/entities/\");\n        return pathname.substring(entitiesIndex);\n      }\n    }\n\n    return rawPath;\n  }\n\n  // Gets the entity asset file from the object path.\n  async getEntityAssetFile(objectPath: string): Promise<File> {\n    if (!objectPath.startsWith(\"/entities/\")) {\n      throw new ObjectNotFoundError();\n    }\n\n    let privateDir = this.getPrivateObjectDir();\n    if (!privateDir.endsWith(\"/\")) {\n      privateDir = `${privateDir}/`;\n    }\n    \n    const assetPath = `${privateDir}${objectPath.slice(1)}`;\n    const { bucketName, objectName } = parseObjectPath(assetPath);\n    const bucket = objectStorageClient.bucket(bucketName);\n    const assetFile = bucket.file(objectName);\n    const [exists] = await assetFile.exists();\n    if (!exists) {\n      throw new ObjectNotFoundError();\n    }\n    return assetFile;\n  }\n}\n\nfunction parseObjectPath(path: string): {\n  bucketName: string;\n  objectName: string;\n} {\n  if (!path.startsWith(\"/\")) {\n    path = `/${path}`;\n  }\n  const pathParts = path.split(\"/\");\n  if (pathParts.length < 3) {\n    throw new Error(\"Invalid path: must contain at least a bucket name\");\n  }\n\n  const bucketName = pathParts[1];\n  const objectName = pathParts.slice(2).join(\"/\");\n\n  return {\n    bucketName,\n    objectName,\n  };\n}\n\nasync function signObjectURL({\n  bucketName,\n  objectName,\n  method,\n  ttlSec,\n}: {\n  bucketName: string;\n  objectName: string;\n  method: \"GET\" | \"PUT\" | \"DELETE\" | \"HEAD\";\n  ttlSec: number;\n}): Promise<string> {\n  const request = {\n    bucket_name: bucketName,\n    object_name: objectName,\n    method,\n    expires_at: new Date(Date.now() + ttlSec * 1000).toISOString(),\n  };\n  \n  console.log(\"Signing object URL with request:\", { bucketName, objectName, method });\n  \n  try {\n    const response = await fetch(\n      `${REPLIT_SIDECAR_ENDPOINT}/object-storage/signed-object-url`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(request),\n      }\n    );\n    \n    console.log(\"Sidecar response status:\", response.status);\n    \n    if (!response.ok) {\n      const errorText = await response.text();\n      console.error(\"Sidecar error response:\", errorText);\n      throw new Error(\n        `Failed to sign object URL, errorcode: ${response.status}, error: ${errorText}`\n      );\n    }\n\n    const responseData = await response.json();\n    console.log(\"Successfully signed URL\");\n    const { signed_url: signedURL } = responseData;\n    return signedURL;\n  } catch (error: any) {\n    console.error(\"Error in signObjectURL:\", error);\n    console.error(\"Error details:\", { \n      message: error?.message, \n      cause: error?.cause,\n      stack: error?.stack \n    });\n    throw new Error(`Failed to generate signed URL: ${error?.message || 'Unknown error'}`);\n  }\n}","path":null,"size_bytes":9308,"size_tokens":null},"client/src/components/ui/badge.tsx":{"content":"import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n","path":null,"size_bytes":1128,"size_tokens":null},"client/src/components/ui/popover.tsx":{"content":"import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n","path":null,"size_bytes":1280,"size_tokens":null},"client/src/components/ui/scroll-area.tsx":{"content":"import * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","path":null,"size_bytes":1642,"size_tokens":null},"client/src/pages/ArtisanDashboard.tsx":{"content":"import { useLocation } from \"wouter\";\nimport { useEffect, useState, useRef } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport { User, Mail, Phone, MapPin, Briefcase, LogOut, Shield, Clock, CheckCircle, AlertCircle, Star, Calendar, Image, Trash2, Plus } from \"lucide-react\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function ArtisanDashboard() {\n  const [, setLocation] = useLocation();\n  const [portfolioImages, setPortfolioImages] = useState<string[]>([]);\n  const [isUploadingPortfolio, setIsUploadingPortfolio] = useState(false);\n\n  // Check authentication\n  useEffect(() => {\n    const token = localStorage.getItem('artisan_token');\n    if (!token) {\n      setLocation('/artisan/login');\n      return;\n    }\n  }, [setLocation]);\n\n  // Fetch artisan profile data\n  const { data: artisanData, isLoading, error, refetch } = useQuery<Artisan>({\n    queryKey: ['/api/artisan/profile'],\n    queryFn: async () => {\n      const token = localStorage.getItem('artisan_token');\n      if (!token) {\n        throw new Error('No authentication token');\n      }\n      \n      const response = await fetch('/api/artisan/profile', {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n      });\n      \n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      return response.json();\n    },\n    retry: false,\n    refetchOnWindowFocus: false,\n  });\n\n  // Update portfolio images when artisan data loads\n  useEffect(() => {\n    if (artisanData?.portfolio) {\n      setPortfolioImages(artisanData.portfolio);\n    }\n  }, [artisanData?.portfolio]);\n\n  const handleLogout = () => {\n    localStorage.removeItem('artisan_token');\n    localStorage.removeItem('artisan_user');\n    setLocation('/');\n  };\n\n  const handlePortfolioUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    setIsUploadingPortfolio(true);\n    try {\n      const formData = new FormData();\n      formData.append('image', file);\n\n      const token = localStorage.getItem('artisan_token');\n      const response = await fetch('/api/artisan/portfolio', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        },\n        body: formData,\n      });\n\n      if (!response.ok) throw new Error('Upload failed');\n      \n      const { url } = await response.json();\n      setPortfolioImages([...portfolioImages, url]);\n      refetch();\n    } catch (error) {\n      console.error('Portfolio upload error:', error);\n    } finally {\n      setIsUploadingPortfolio(false);\n    }\n  };\n\n  const handleRemovePortfolioImage = async (imageUrl: string) => {\n    try {\n      const token = localStorage.getItem('artisan_token');\n      await fetch('/api/artisan/portfolio', {\n        method: 'DELETE',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ imageUrl }),\n      });\n      \n      setPortfolioImages(portfolioImages.filter(img => img !== imageUrl));\n      refetch();\n    } catch (error) {\n      console.error('Portfolio delete error:', error);\n    }\n  };\n\n  // Handle authentication error\n  useEffect(() => {\n    if (error) {\n      console.error('Profile fetch error:', error);\n      // If authentication fails, redirect to login\n      if (error.message.includes('401') || error.message.includes('Authentication')) {\n        localStorage.removeItem('artisan_token');\n        localStorage.removeItem('artisan_user');\n        setLocation('/artisan/login');\n      }\n    }\n  }, [error, setLocation]);\n\n  // Loading state\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <main className=\"py-12\">\n          <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"space-y-6\">\n              <Skeleton className=\"h-8 w-1/3\" />\n              <div className=\"grid lg:grid-cols-3 gap-8\">\n                <div className=\"lg:col-span-2 space-y-6\">\n                  <Card>\n                    <CardContent className=\"p-6\">\n                      <Skeleton className=\"h-32 w-full\" />\n                    </CardContent>\n                  </Card>\n                </div>\n                <div className=\"space-y-6\">\n                  <Card>\n                    <CardContent className=\"p-6\">\n                      <Skeleton className=\"h-24 w-full\" />\n                    </CardContent>\n                  </Card>\n                </div>\n              </div>\n            </div>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error || !artisanData) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <main className=\"py-12\">\n          <div className=\"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"text-center\">\n              <AlertCircle className=\"w-12 h-12 text-red-500 mx-auto mb-4\" />\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Unable to Load Profile</h2>\n              <p className=\"text-gray-600 mb-6\">\n                There was an error loading your profile. Please try logging in again.\n              </p>\n              <Button onClick={() => setLocation('/artisan/login')}>\n                Back to Login\n              </Button>\n            </div>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  // Helper function to get status color and icon\n  const getStatusInfo = (status: string) => {\n    switch (status) {\n      case 'approved':\n        return { color: 'bg-green/10 text-green-dark', icon: CheckCircle, text: 'Approved' };\n      case 'pending':\n        return { color: 'bg-yellow-100 text-yellow-800', icon: Clock, text: 'Pending Review' };\n      case 'rejected':\n        return { color: 'bg-red-100 text-red-800', icon: AlertCircle, text: 'Rejected' };\n      default:\n        return { color: 'bg-gray-100 text-gray-800', icon: Clock, text: 'Unknown' };\n    }\n  };\n\n  const approvalInfo = getStatusInfo(artisanData.approvalStatus || 'pending');\n  const ApprovalIcon = approvalInfo.icon;\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main className=\"py-8\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {/* Header Section */}\n          <div className=\"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-black-soft mb-2\">\n                Welcome, {artisanData.firstName} {artisanData.lastName}!\n              </h1>\n              <p className=\"text-lg text-gray-600\">\n                Manage your artisan profile and grow your business\n              </p>\n            </div>\n            <Button \n              variant=\"outline\" \n              onClick={handleLogout}\n              className=\"text-red-600 border-red-600 hover:bg-red-50\"\n            >\n              <LogOut className=\"w-4 h-4 mr-2\" />\n              Logout\n              </Button>\n            </div>\n\n            {/* Profile Cards Grid */}\n            <div className=\"grid gap-6 lg:grid-cols-3\">\n              {/* Profile Information Card */}\n              <div className=\"lg:col-span-2\">\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center text-black-soft\">\n                      <User className=\"w-5 h-5 mr-2 text-gold\" />\n                      Profile Information\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"grid gap-4\">\n                      <div className=\"flex items-center\">\n                        <Mail className=\"w-4 h-4 text-white/70 mr-3\" />\n                        <span className=\"text-gray-700\">{artisanData.email}</span>\n                      </div>\n                      {artisanData.phone && (\n                        <div className=\"flex items-center\">\n                          <Phone className=\"w-4 h-4 text-white/70 mr-3\" />\n                          <span className=\"text-gray-700\">{artisanData.phone}</span>\n                        </div>\n                      )}\n                      {artisanData.location && (\n                        <div className=\"flex items-center\">\n                          <MapPin className=\"w-4 h-4 text-white/70 mr-3\" />\n                          <span className=\"text-gray-700\">{artisanData.location}</span>\n                        </div>\n                      )}\n                      {artisanData.yearsExperience && (\n                        <div className=\"flex items-center\">\n                          <Star className=\"w-4 h-4 text-white/70 mr-3\" />\n                          <span className=\"text-gray-700\">{artisanData.yearsExperience} years experience</span>\n                        </div>\n                      )}\n                    </div>\n                    \n                    {artisanData.services && artisanData.services.length > 0 && (\n                      <div>\n                        <Separator className=\"my-4\" />\n                        <div className=\"space-y-2\">\n                          <h4 className=\"font-medium text-black-soft\">Services Offered:</h4>\n                          <div className=\"flex flex-wrap gap-2\">\n                            {artisanData.services.map((service: string, index: number) => (\n                              <Badge key={index} variant=\"secondary\" className=\"bg-gold/20 text-black\">\n                                {service}\n                              </Badge>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    {artisanData.description && (\n                      <div>\n                        <Separator className=\"my-4\" />\n                        <div className=\"space-y-2\">\n                          <h4 className=\"font-medium text-black-soft\">About:</h4>\n                          <p className=\"text-gray-600 leading-relaxed\">{artisanData.description}</p>\n                        </div>\n                      </div>\n                    )}\n                  </CardContent>\n                </Card>\n              </div>\n\n              {/* Status and Actions Sidebar */}\n              <div className=\"space-y-6\">\n                {/* Account Status Card */}\n                <Card>\n                  <CardHeader>\n                    <CardTitle className=\"flex items-center text-black-soft\">\n                      <Shield className=\"w-5 h-5 mr-2 text-gold\" />\n                      Account Status\n                    </CardTitle>\n                  </CardHeader>\n                  <CardContent className=\"space-y-4\">\n                    <div className=\"space-y-3\">\n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-sm text-gray-600\">Verification:</span>\n                        <Badge className={approvalInfo.color}>\n                          <ApprovalIcon className=\"w-3 h-3 mr-1\" />\n                          {artisanData.verified ? 'Verified' : 'Pending'}\n                        </Badge>\n                      </div>\n                      \n                      <div className=\"flex justify-between items-center\">\n                        <span className=\"text-sm text-gray-600\">Approval:</span>\n                        <Badge className={approvalInfo.color}>\n                          <ApprovalIcon className=\"w-3 h-3 mr-1\" />\n                          {approvalInfo.text}\n                        </Badge>\n                      </div>\n\n                      {artisanData.rating && (\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-sm text-gray-600\">Rating:</span>\n                          <div className=\"flex items-center\">\n                            <Star className=\"w-4 h-4 text-yellow-400 mr-1\" />\n                            <span className=\"text-sm font-medium\">{parseFloat(artisanData.rating).toFixed(1)}</span>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n\n                {/* Next Steps Card */}\n                {artisanData.approvalStatus !== 'approved' && (\n                  <Card>\n                    <CardHeader>\n                      <CardTitle className=\"flex items-center text-black-soft\">\n                        <Clock className=\"w-5 h-5 mr-2 text-gold\" />\n                        Next Steps\n                      </CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-3 text-sm text-gray-600\">\n                        {artisanData.approvalStatus === 'pending' && (\n                          <>\n                            <p>Your profile is currently under review by our admin team.</p>\n                            <p>You'll receive an email notification once the review is complete.</p>\n                            <p className=\"font-medium text-gold\">Average review time: 2-3 business days</p>\n                          </>\n                        )}\n                        {artisanData.approvalStatus === 'rejected' && (\n                          <>\n                            <p className=\"text-red-600\">Your profile was not approved.</p>\n                            <p>Please contact support for more information about resubmitting your application.</p>\n                          </>\n                        )}\n                      </div>\n                    </CardContent>\n                  </Card>\n                )}\n              </div>\n            </div>\n\n            {/* Portfolio Section */}\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center text-black-soft\">\n                  <Image className=\"w-5 h-5 mr-2 text-gold\" />\n                  Portfolio - Proof of Work\n                </CardTitle>\n              </CardHeader>\n              <CardContent className=\"space-y-6\">\n                {/* Upload New Image */}\n                <div className=\"border-2 border-dashed border-gold/30 rounded-lg p-6 text-center\">\n                  <label className=\"cursor-pointer block\">\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handlePortfolioUpload}\n                      disabled={isUploadingPortfolio}\n                      className=\"hidden\"\n                    />\n                    <div className=\"space-y-2\">\n                      <Plus className=\"w-8 h-8 text-gold mx-auto\" />\n                      <p className=\"text-gray-700 font-medium\">\n                        {isUploadingPortfolio ? 'Uploading...' : 'Click to upload portfolio image'}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">PNG, JPG, WebP up to 5MB</p>\n                    </div>\n                  </label>\n                </div>\n\n                {/* Portfolio Gallery */}\n                {portfolioImages.length > 0 ? (\n                  <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n                    {portfolioImages.map((image, index) => (\n                      <div key={index} className=\"relative group\">\n                        <img\n                          src={image}\n                          alt={`Portfolio ${index + 1}`}\n                          className=\"w-full h-32 object-cover rounded-lg border border-gold/30\"\n                        />\n                        <button\n                          onClick={() => handleRemovePortfolioImage(image)}\n                          className=\"absolute top-1 right-1 bg-red-600 hover:bg-red-700 text-white p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity\"\n                          title=\"Remove image\"\n                        >\n                          <Trash2 className=\"w-4 h-4\" />\n                        </button>\n                      </div>\n                    ))}\n                  </div>\n                ) : (\n                  <p className=\"text-center text-gray-500 py-8\">No portfolio images yet. Upload your first proof of work!</p>\n                )}\n              </CardContent>\n            </Card>\n          </div>\n        </main>\n        \n        <Footer />\n      </div>\n    );\n  }","path":null,"size_bytes":16967,"size_tokens":null},"server/routes.ts":{"content":"import type { Express } from \"express\";\nimport { createServer, type Server } from \"http\";\nimport { storage } from \"./storage\";\nimport { insertArtisanSchema, insertSearchRequestSchema, insertContactMessageSchema } from \"@shared/schema\";\nimport { ObjectStorageService, ObjectNotFoundError } from \"./objectStorage\";\nimport { emailService } from \"./emailService\";\nimport { artisanAuthService } from \"./artisanAuth\";\nimport { verifyAdminToken } from \"./adminAuth\";\nimport multer from \"multer\";\nimport { uploadProfilePicture, deleteProfilePicture } from \"./supabaseStorage\";\nimport { fileTypeFromBuffer } from \"file-type\";\n\n// Configure multer for profile image uploads (memory storage)\nconst profileImageUpload = multer({\n  storage: multer.memoryStorage(),\n  limits: {\n    fileSize: 5 * 1024 * 1024, // 5MB max file size\n  },\n  fileFilter: (req, file, cb) => {\n    // Accept only image files\n    if (file.mimetype.startsWith('image/')) {\n      cb(null, true);\n    } else {\n      cb(new Error('Only image files are allowed'));\n    }\n  },\n});\n\nexport async function registerRoutes(app: Express): Promise<Server> {\n  // Artisan routes\n  app.get(\"/api/artisans\", async (req, res) => {\n    try {\n      const artisans = await storage.getAllArtisans();\n      res.json(artisans);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch artisans\" });\n    }\n  });\n\n  // Handle the login route specifically to avoid collision with :id route\n  app.get(\"/api/artisans/login\", (req, res) => {\n    res.status(404).json({ message: \"Login endpoint should use POST method\" });\n  });\n\n  // Featured artisans route - must come before :id route\n  app.get(\"/api/artisans/featured\", async (req, res) => {\n    try {\n      const featuredArtisans = await storage.getFeaturedArtisans();\n      res.json(featuredArtisans);\n    } catch (error) {\n      console.error(\"Error fetching featured artisans:\", error);\n      res.status(500).json({ message: \"Failed to fetch featured artisans\" });\n    }\n  });\n\n  app.get(\"/api/artisans/:id\", async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      \n      // Prevent non-numeric IDs from being processed\n      if (isNaN(id)) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n      \n      const artisan = await storage.getArtisan(id);\n      if (!artisan) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n      res.json(artisan);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch artisan\" });\n    }\n  });\n\n  app.post(\"/api/artisans\", async (req, res) => {\n    try {\n      // First validate the input data\n      const validatedData = insertArtisanSchema.parse(req.body);\n      \n      // Check for existing artisan with same email\n      const existingArtisan = await storage.getArtisanByEmail(validatedData.email);\n      if (existingArtisan) {\n        return res.status(409).json({ \n          message: \"Profile already exists\", \n          error: \"An artisan profile with this email address already exists. Please use a different email or contact support if you believe this is an error.\" \n        });\n      }\n\n      // Check for existing artisan with same phone number\n      const existingPhone = await storage.getArtisanByPhone(validatedData.phone);\n      if (existingPhone) {\n        return res.status(409).json({ \n          message: \"Phone number already registered\", \n          error: \"An artisan profile with this phone number already exists. Please use a different phone number or contact support if you believe this is an error.\" \n        });\n      }\n      \n      // Normalize document paths if they are URLs\n      const objectStorageService = new ObjectStorageService();\n      if (validatedData.idDocument) {\n        validatedData.idDocument = objectStorageService.normalizeDocumentPath(validatedData.idDocument);\n      }\n      if (validatedData.qualificationDocuments && validatedData.qualificationDocuments.length > 0) {\n        validatedData.qualificationDocuments = validatedData.qualificationDocuments.map(doc => \n          objectStorageService.normalizeDocumentPath(doc)\n        );\n      }\n      \n      const artisan = await storage.createArtisan(validatedData);\n      \n      // Send email notification\n      await emailService.sendArtisanRegistrationNotification({\n        firstName: artisan.firstName,\n        lastName: artisan.lastName,\n        email: artisan.email,\n        phone: artisan.phone,\n        location: artisan.location,\n        services: artisan.services,\n        description: artisan.description,\n        yearsExperience: artisan.yearsExperience,\n      });\n      \n      res.status(201).json(artisan);\n    } catch (error: any) {\n      console.error(\"Artisan registration error:\", error);\n      \n      // Handle Zod validation errors\n      if (error.name === 'ZodError') {\n        const firstError = error.errors[0];\n        let errorMessage = \"Invalid information provided\";\n        \n        if (firstError.path.includes('email')) {\n          errorMessage = \"Please provide a valid email address\";\n        } else if (firstError.path.includes('phone')) {\n          errorMessage = \"Please provide a valid phone number\";\n        } else if (firstError.path.includes('firstName')) {\n          errorMessage = \"First name is required and must be at least 2 characters\";\n        } else if (firstError.path.includes('lastName')) {\n          errorMessage = \"Last name is required and must be at least 2 characters\";\n        } else if (firstError.path.includes('location')) {\n          errorMessage = \"Please provide your location\";\n        } else if (firstError.path.includes('services')) {\n          errorMessage = \"Please select at least one service you offer\";\n        } else if (firstError.path.includes('description')) {\n          errorMessage = \"Please provide a description of your services (at least 20 characters)\";\n        } else if (firstError.path.includes('yearsExperience')) {\n          errorMessage = \"Please provide your years of experience (must be between 1 and 50)\";\n        }\n        \n        return res.status(400).json({ \n          message: \"Validation failed\", \n          error: errorMessage,\n          details: firstError.message\n        });\n      }\n      \n      // Handle database constraint errors\n      if (error.code === '23505') { // PostgreSQL unique constraint violation\n        if (error.constraint?.includes('email')) {\n          return res.status(409).json({ \n            message: \"Email already registered\", \n            error: \"This email address is already registered. Please use a different email or contact support.\" \n          });\n        }\n        if (error.constraint?.includes('phone')) {\n          return res.status(409).json({ \n            message: \"Phone number already registered\", \n            error: \"This phone number is already registered. Please use a different phone number or contact support.\" \n          });\n        }\n        return res.status(409).json({ \n          message: \"Duplicate information\", \n          error: \"Some of the information you provided is already registered in our system. Please check your details and try again.\" \n        });\n      }\n      \n      // Generic error\n      res.status(500).json({ \n        message: \"Registration failed\", \n        error: \"An unexpected error occurred while creating your profile. Please try again or contact support if the problem persists.\" \n      });\n    }\n  });\n\n  // Artisan Authentication Routes\n  // Removed duplicate endpoint - using /api/artisan/login instead\n\n  app.post(\"/api/artisans/register\", async (req, res) => {\n    try {\n      const { password, ...artisanData } = req.body;\n      \n      if (!password) {\n        return res.status(400).json({ \n          message: \"Password is required\" \n        });\n      }\n\n      // Validate the artisan data\n      const validatedData = insertArtisanSchema.parse(artisanData);\n      \n      const result = await artisanAuthService.registerArtisan(validatedData, password);\n      \n      if (!result.success) {\n        return res.status(400).json({ \n          message: result.message || \"Registration failed\" \n        });\n      }\n\n      res.status(201).json({\n        message: \"Registration successful. Please check your email to verify your account.\",\n        artisan: result.artisan\n      });\n    } catch (error) {\n      console.error(\"Registration error:\", error);\n      res.status(500).json({ message: \"Registration failed\" });\n    }\n  });\n\n  // Unverified Artisan Registration (Free, Instant)\n  app.post(\"/api/artisans/unverified\", async (req, res) => {\n    try {\n      const artisanData = insertArtisanSchema.parse({\n        ...req.body,\n        verified: false,\n        subscriptionTier: \"unverified\",\n        approvalStatus: \"approved\", // Auto-approved for unverified\n        profileImage: null,\n        portfolio: [],\n        password: null,\n        googleId: null,\n        idDocument: null,\n        qualificationDocuments: [],\n      });\n\n      // Check for existing email\n      const existingEmail = await storage.getArtisanByEmail(artisanData.email);\n      if (existingEmail) {\n        return res.status(409).json({\n          message: \"Email already registered\",\n          error: \"This email is already in use. Please use a different email.\"\n        });\n      }\n\n      // Check for existing phone\n      const existingPhone = await storage.getArtisanByPhone(artisanData.phone);\n      if (existingPhone) {\n        return res.status(409).json({\n          message: \"Phone already registered\", \n          error: \"This phone number is already in use. Please use a different phone number.\"\n        });\n      }\n\n      const newArtisan = await storage.createArtisan(artisanData);\n      \n      res.status(201).json({\n        message: \"Unverified profile created successfully!\",\n        artisan: newArtisan\n      });\n    } catch (error: any) {\n      console.error(\"Unverified registration error:\", error);\n      \n      if (error.name === 'ZodError') {\n        return res.status(400).json({\n          message: \"Validation failed\",\n          error: error.errors[0]?.message || \"Invalid data provided\"\n        });\n      }\n      \n      res.status(500).json({\n        message: \"Registration failed\",\n        error: \"An error occurred while creating your profile. Please try again.\"\n      });\n    }\n  });\n\n  // Verified Artisan Application (Requires Admin Approval)\n  app.post(\"/api/artisans/verified\", async (req, res) => {\n    try {\n      const artisanData = insertArtisanSchema.parse({\n        ...req.body,\n        verified: false, // Will be set to true upon approval\n        approvalStatus: \"pending\",\n        verificationStatus: \"pending\",\n        profileImage: null,\n        portfolio: [],\n        password: null,\n        googleId: null,\n      });\n\n      // Check for existing email\n      const existingEmail = await storage.getArtisanByEmail(artisanData.email);\n      if (existingEmail) {\n        return res.status(409).json({\n          message: \"Email already registered\",\n          error: \"This email is already in use. Please use a different email.\"\n        });\n      }\n\n      // Check for existing phone\n      const existingPhone = await storage.getArtisanByPhone(artisanData.phone);\n      if (existingPhone) {\n        return res.status(409).json({\n          message: \"Phone already registered\",\n          error: \"This phone number is already in use. Please use a different phone number.\"\n        });\n      }\n\n      const newArtisan = await storage.createArtisan(artisanData);\n      \n      // TODO: Send email notification to admin about new application\n      \n      res.status(201).json({\n        message: \"Application submitted successfully! We'll review it within 2-3 business days.\",\n        artisan: newArtisan\n      });\n    } catch (error: any) {\n      console.error(\"Verified application error:\", error);\n      \n      if (error.name === 'ZodError') {\n        return res.status(400).json({\n          message: \"Validation failed\",\n          error: error.errors[0]?.message || \"Invalid data provided\"\n        });\n      }\n      \n      res.status(500).json({\n        message: \"Application failed\",\n        error: \"An error occurred while submitting your application. Please try again.\"\n      });\n    }\n  });\n\n  app.get(\"/api/artisans/verify/:token\", async (req, res) => {\n    try {\n      const { token } = req.params;\n      const result = await artisanAuthService.verifyEmail(token);\n      \n      if (!result.success) {\n        return res.status(400).json({ \n          message: result.message || \"Email verification failed\" \n        });\n      }\n\n      res.json({\n        message: \"Email verified successfully. You can now log in.\",\n        artisan: result.artisan\n      });\n    } catch (error) {\n      console.error(\"Email verification error:\", error);\n      res.status(500).json({ message: \"Email verification failed\" });\n    }\n  });\n\n  // Google OAuth Routes\n  app.get(\"/api/auth/google\", (req, res) => {\n    // Use Replit domain for redirect URI\n    const redirectUri = process.env.REPLIT_DOMAINS \n      ? `https://${process.env.REPLIT_DOMAINS}/api/auth/google/callback`\n      : process.env.GOOGLE_REDIRECT_URI || `http://localhost:5000/api/auth/google/callback`;\n    \n    const googleAuthUrl = `https://accounts.google.com/o/oauth2/v2/auth?` +\n      `client_id=${process.env.GOOGLE_CLIENT_ID}&` +\n      `redirect_uri=${encodeURIComponent(redirectUri)}&` +\n      `response_type=code&` +\n      `scope=openid email profile&` +\n      `state=artisan`;\n    \n    console.log('Google OAuth redirect URI:', redirectUri);\n    res.redirect(googleAuthUrl);\n  });\n\n  app.get(\"/api/auth/google/callback\", async (req, res) => {\n    try {\n      const { code, state } = req.query;\n      \n      if (!code || state !== 'artisan') {\n        return res.status(400).json({ message: \"Invalid OAuth callback\" });\n      }\n\n      const result = await artisanAuthService.handleGoogleOAuth(code as string);\n      \n      if (!result.success) {\n        return res.status(400).json({ \n          message: result.message || \"Google authentication failed\" \n        });\n      }\n\n      // Redirect to frontend with token - but let's redirect to a success page instead\n      res.redirect(`/artisan/login?token=${result.token}`);\n    } catch (error) {\n      console.error(\"Google OAuth error:\", error);\n      res.status(500).json({ message: \"Google authentication failed\" });\n    }\n  });\n\n  // Search routes\n  app.get(\"/api/search\", async (req, res) => {\n    try {\n      const { service, location, tier = \"basic\" } = req.query;\n      \n      if (!service || !location) {\n        return res.status(400).json({ message: \"Service and location are required\" });\n      }\n\n      // Determine limit based on tier\n      let limit = 3; // basic\n      if (tier === \"premium\") limit = 5;\n      if (tier === \"enterprise\") limit = 10;\n\n      const results = await storage.searchArtisans(\n        service as string,\n        location as string,\n        limit,\n        tier as string\n      );\n\n      // Log the search request\n      await storage.createSearchRequest({\n        service: service as string,\n        location: location as string,\n        tier: tier as string,\n      });\n\n      res.json({\n        artisans: results,\n        tier,\n        limit,\n        count: results.length\n      });\n    } catch (error) {\n      res.status(500).json({ message: \"Search failed\", error });\n    }\n  });\n\n  app.get(\"/api/services\", async (req, res) => {\n    try {\n      const services = [\n        { id: \"builders\", name: \"Builders\", icon: \"fas fa-hammer\" },\n        { id: \"plumbers\", name: \"Plumbers\", icon: \"fas fa-wrench\" },\n        { id: \"electricians\", name: \"Electricians\", icon: \"fas fa-bolt\" },\n        { id: \"carpenters\", name: \"Carpenters\", icon: \"fas fa-saw-blade\" },\n        { id: \"tilers\", name: \"Tilers\", icon: \"fas fa-th-large\" },\n        { id: \"cleaners\", name: \"Cleaners\", icon: \"fas fa-broom\" },\n        { id: \"landscapers\", name: \"Landscapers\", icon: \"fas fa-seedling\" },\n      ];\n      res.json(services);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch services\" });\n    }\n  });\n\n  // Admin routes for artisan approval\n  app.get(\"/api/admin/pending-artisans\", verifyAdminToken, async (req, res) => {\n    try {\n      const pendingArtisans = await storage.getPendingArtisans();\n      res.json(pendingArtisans);\n    } catch (error) {\n      console.error(\"Error fetching pending artisans:\", error);\n      res.status(500).json({ message: \"Failed to fetch pending artisans\" });\n    }\n  });\n\n  app.post(\"/api/admin/approve-artisan/:id\", verifyAdminToken, async (req, res) => {\n    try {\n      const artisanId = parseInt(req.params.id);\n      const { approvedBy } = req.body;\n\n      if (!approvedBy) {\n        return res.status(400).json({ message: \"Approved by field is required\" });\n      }\n\n      const approvedArtisan = await storage.approveArtisan(artisanId, approvedBy);\n      \n      if (!approvedArtisan) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n\n      res.json({ message: \"Artisan approved successfully\", artisan: approvedArtisan });\n    } catch (error) {\n      console.error(\"Error approving artisan:\", error);\n      res.status(500).json({ message: \"Failed to approve artisan\" });\n    }\n  });\n\n  app.post(\"/api/admin/reject-artisan/:id\", verifyAdminToken, async (req, res) => {\n    try {\n      const artisanId = parseInt(req.params.id);\n      const { rejectionReason, rejectedBy } = req.body;\n\n      if (!rejectionReason || !rejectedBy) {\n        return res.status(400).json({ message: \"Rejection reason and rejected by fields are required\" });\n      }\n\n      const rejectedArtisan = await storage.rejectArtisan(artisanId, rejectionReason, rejectedBy);\n      \n      if (!rejectedArtisan) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n\n      res.json({ message: \"Artisan rejected successfully\", artisan: rejectedArtisan });\n    } catch (error) {\n      console.error(\"Error rejecting artisan:\", error);\n      res.status(500).json({ message: \"Failed to reject artisan\" });\n    }\n  });\n\n  // Admin artisan management routes\n  app.get(\"/api/admin/artisans\", verifyAdminToken, async (req, res) => {\n    try {\n      const artisans = await storage.getAllArtisans();\n      res.json(artisans);\n    } catch (error) {\n      console.error(\"Error fetching all artisans:\", error);\n      res.status(500).json({ message: \"Failed to fetch artisans\" });\n    }\n  });\n\n  app.put(\"/api/admin/artisan/:id\", verifyAdminToken, async (req, res) => {\n    try {\n      const artisanId = parseInt(req.params.id);\n      const updates = req.body;\n\n      const updatedArtisan = await storage.updateArtisan(artisanId, updates);\n      \n      if (!updatedArtisan) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n\n      res.json({ message: \"Artisan updated successfully\", artisan: updatedArtisan });\n    } catch (error) {\n      console.error(\"Error updating artisan:\", error);\n      res.status(500).json({ message: \"Failed to update artisan\" });\n    }\n  });\n\n  app.post(\"/api/admin/artisan/:id/toggle-featured\", verifyAdminToken, async (req, res) => {\n    try {\n      const artisanId = parseInt(req.params.id);\n      console.log(`[Toggle Featured] Request for artisan ${artisanId}`);\n      \n      const updatedArtisan = await storage.toggleArtisanFeatured(artisanId);\n      \n      if (!updatedArtisan) {\n        console.log(`[Toggle Featured] Failed to toggle artisan ${artisanId}`);\n        return res.status(404).json({ message: \"Failed to toggle featured status\" });\n      }\n\n      console.log(`[Toggle Featured] Successfully updated artisan ${artisanId}, new status: ${updatedArtisan.isFeatured}`);\n      \n      res.json({ \n        message: `Artisan ${updatedArtisan.isFeatured ? 'featured' : 'unfeatured'} successfully`, \n        artisan: updatedArtisan \n      });\n    } catch (error) {\n      console.error(\"[Toggle Featured] Error:\", error);\n      res.status(500).json({ message: \"Failed to toggle featured status\" });\n    }\n  });\n\n  app.post(\"/api/admin/artisan/:id/profile-image\", verifyAdminToken, profileImageUpload.single('image'), async (req, res) => {\n    try {\n      const artisanId = parseInt(req.params.id);\n      \n      if (!req.file) {\n        return res.status(400).json({ message: \"No image file provided\" });\n      }\n\n      console.log(`Uploading profile image for artisan ${artisanId}, size: ${req.file.size} bytes`);\n      \n      // Validate file type by checking buffer (more secure than trusting MIME type)\n      const fileType = await fileTypeFromBuffer(req.file.buffer);\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];\n      \n      if (!fileType || !allowedTypes.includes(fileType.mime)) {\n        return res.status(400).json({ \n          message: \"Invalid file type. Only JPEG, PNG, WebP, and GIF images are allowed.\" \n        });\n      }\n\n      // Get current artisan to check for existing profile image\n      const artisan = await storage.getArtisan(artisanId);\n      if (!artisan) {\n        return res.status(404).json({ message: \"Artisan not found\" });\n      }\n\n      // Upload new profile image to Supabase Storage\n      const publicUrl = await uploadProfilePicture(\n        artisanId,\n        req.file.buffer,\n        fileType.mime // Use validated MIME type\n      );\n\n      // Update artisan record with new profile image URL\n      await storage.updateArtisan(artisanId, {\n        profileImage: publicUrl\n      });\n\n      // Delete old profile image if it exists and is from Supabase\n      if (artisan.profileImage && artisan.profileImage.includes('supabase')) {\n        try {\n          await deleteProfilePicture(artisan.profileImage);\n        } catch (error) {\n          console.warn('Failed to delete old profile image:', error);\n          // Non-critical error, continue\n        }\n      }\n\n      console.log(`Successfully uploaded profile image for artisan ${artisanId}: ${publicUrl}`);\n      \n      res.json({\n        message: \"Profile image uploaded successfully\",\n        url: publicUrl\n      });\n    } catch (error: any) {\n      console.error(\"Error uploading profile image:\", error);\n      res.status(500).json({ message: error?.message || \"Failed to upload profile image\" });\n    }\n  });\n\n  // Serve entity assets (like profile images)\n  app.get(\"/entities/:entityType/:entityId/:assetType/:assetId\", async (req, res) => {\n    try {\n      const { ObjectStorageService, ObjectNotFoundError } = await import(\"./objectStorage\");\n      const objectStorageService = new ObjectStorageService();\n      const objectPath = `/entities/${req.params.entityType}/${req.params.entityId}/${req.params.assetType}/${req.params.assetId}`;\n      \n      const file = await objectStorageService.getEntityAssetFile(objectPath);\n      await objectStorageService.downloadObject(file, res);\n    } catch (error: any) {\n      if (error.name === \"ObjectNotFoundError\") {\n        return res.status(404).json({ message: \"Asset not found\" });\n      }\n      console.error(\"Error serving entity asset:\", error);\n      res.status(500).json({ message: \"Failed to serve asset\" });\n    }\n  });\n\n  // Artisan subscription routes\n  app.post(\"/api/artisan-subscription\", async (req, res) => {\n    try {\n      const subscriptionData = req.body;\n      const subscription = await storage.createArtisanSubscription(subscriptionData);\n      res.status(201).json(subscription);\n    } catch (error) {\n      console.error(\"Error creating artisan subscription:\", error);\n      res.status(500).json({ message: \"Failed to create subscription\" });\n    }\n  });\n\n  app.post(\"/api/objects/upload\", async (req, res) => {\n    try {\n      // Simple implementation - in production, you'd use proper cloud storage\n      const uploadURL = `${req.protocol}://${req.hostname}/uploads/${Date.now()}-${Math.random().toString(36).substring(7)}`;\n      res.json({ uploadURL });\n    } catch (error) {\n      console.error(\"Error generating upload URL:\", error);\n      res.status(500).json({ message: \"Failed to generate upload URL\" });\n    }\n  });\n\n  // Admin authentication routes\n  app.post(\"/api/admin/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n      const { adminAuthService } = await import(\"./adminAuth\");\n      \n      const result = await adminAuthService.verifyEmail(email, password);\n      res.json(result);\n    } catch (error: any) {\n      console.error(\"Admin login error:\", error);\n      res.status(401).json({ message: error.message || \"Login failed\" });\n    }\n  });\n\n  app.post(\"/api/admin/resend-verification\", async (req, res) => {\n    try {\n      const { email } = req.body;\n      const { adminAuthService } = await import(\"./adminAuth\");\n      \n      const verificationToken = adminAuthService.generateVerificationToken();\n      await adminAuthService.sendVerificationEmail(email, verificationToken);\n      \n      res.json({ message: \"Verification email sent\" });\n    } catch (error: any) {\n      console.error(\"Resend verification error:\", error);\n      res.status(500).json({ message: \"Failed to send verification email\" });\n    }\n  });\n\n  app.get(\"/api/admin/verify-email\", async (req, res) => {\n    try {\n      const { token } = req.query;\n      const { adminAuthService } = await import(\"./adminAuth\");\n      \n      const admin = await adminAuthService.verifyEmailToken(token as string);\n      \n      if (!admin) {\n        return res.status(400).send(`\n          <html>\n            <head><title>Verification Failed</title></head>\n            <body style=\"font-family: Arial, sans-serif; text-align: center; padding: 50px;\">\n              <h1 style=\"color: #e74c3c;\">Verification Failed</h1>\n              <p>The verification link is invalid or has expired.</p>\n              <a href=\"/admin/login\" style=\"color: #DAA520; text-decoration: none;\">Return to Login</a>\n            </body>\n          </html>\n        `);\n      }\n\n      res.send(`\n        <html>\n          <head><title>Email Verified</title></head>\n          <body style=\"font-family: Arial, sans-serif; text-align: center; padding: 50px;\">\n            <h1 style=\"color: #27ae60;\">Email Verified Successfully!</h1>\n            <p>Your admin account has been verified. You can now log in.</p>\n            <a href=\"/admin/login\" style=\"background: #DAA520; color: black; padding: 10px 20px; text-decoration: none; border-radius: 5px;\">Go to Login</a>\n          </body>\n        </html>\n      `);\n    } catch (error) {\n      console.error(\"Email verification error:\", error);\n      res.status(500).send(\"Verification failed\");\n    }\n  });\n\n  app.get(\"/api/admin/verify-token\", async (req, res) => {\n    try {\n      const { requireAdminAuth } = await import(\"./adminAuth\");\n      await new Promise((resolve, reject) => {\n        requireAdminAuth(req, res, (err) => err ? reject(err) : resolve(null));\n      });\n      res.json({ valid: true, admin: (req as any).admin });\n    } catch (error) {\n      res.status(401).json({ valid: false });\n    }\n  });\n\n  // Artisan authentication routes\n  app.post(\"/api/artisan/register\", async (req, res) => {\n    try {\n      const { password, ...artisanData } = req.body;\n      \n      if (!password) {\n        return res.status(400).json({ message: \"Password is required\" });\n      }\n\n      // Validate the artisan data (excluding password)\n      const validatedData = insertArtisanSchema.parse(artisanData);\n      \n      // Check for existing artisan with same email\n      const existingArtisan = await storage.getArtisanByEmail(validatedData.email);\n      if (existingArtisan) {\n        return res.status(409).json({ \n          message: \"Profile already exists\", \n          error: \"An artisan profile with this email address already exists. Please use a different email or try logging in instead.\" \n        });\n      }\n\n      // Check for existing artisan with same phone number\n      const existingPhone = await storage.getArtisanByPhone(validatedData.phone);\n      if (existingPhone) {\n        return res.status(409).json({ \n          message: \"Phone number already registered\", \n          error: \"An artisan profile with this phone number already exists. Please use a different phone number or contact support if you believe this is an error.\" \n        });\n      }\n\n      const { artisanAuthService } = await import(\"./artisanAuth\");\n      const result = await artisanAuthService.registerArtisan(validatedData, password);\n      \n      if (result.success) {\n        res.json({ message: result.message });\n      } else {\n        res.status(400).json({ message: result.message });\n      }\n    } catch (error: any) {\n      console.error(\"Artisan registration error:\", error);\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          message: \"Validation failed\", \n          error: \"Please check all required fields are completed correctly.\",\n          details: error.errors \n        });\n      }\n      res.status(500).json({ message: \"Registration failed\" });\n    }\n  });\n\n  app.post(\"/api/artisan/login\", async (req, res) => {\n    try {\n      const { email, password } = req.body;\n      \n      if (!email || !password) {\n        return res.status(400).json({ message: \"Email and password are required\" });\n      }\n\n      const { artisanAuthService } = await import(\"./artisanAuth\");\n      const result = await artisanAuthService.loginArtisan(email, password);\n      \n      if (result.success) {\n        res.json(result);\n      } else {\n        res.status(401).json({ message: result.message });\n      }\n    } catch (error: any) {\n      console.error(\"Artisan login error:\", error);\n      res.status(500).json({ message: \"Login failed\" });\n    }\n  });\n\n  app.get(\"/api/artisan/verify-email\", async (req, res) => {\n    try {\n      const { token } = req.query;\n      \n      if (!token) {\n        return res.status(400).send(`\n          <html>\n            <head><title>Verification Failed</title></head>\n            <body style=\"font-family: Arial, sans-serif; text-align: center; padding: 50px;\">\n              <h1 style=\"color: #e74c3c;\">Verification Failed</h1>\n              <p>No verification token provided.</p>\n              <a href=\"/register-artisan\" style=\"color: #DAA520; text-decoration: none;\">Return to Registration</a>\n            </body>\n          </html>\n        `);\n      }\n\n      const { artisanAuthService } = await import(\"./artisanAuth\");\n      const artisan = await artisanAuthService.verifyEmailToken(token as string);\n      \n      if (!artisan) {\n        return res.status(400).send(`\n          <html>\n            <head><title>Verification Failed</title></head>\n            <body style=\"font-family: Arial, sans-serif; text-align: center; padding: 50px;\">\n              <h1 style=\"color: #e74c3c;\">Verification Failed</h1>\n              <p>The verification link is invalid or has expired.</p>\n              <a href=\"/register-artisan\" style=\"color: #DAA520; text-decoration: none;\">Return to Registration</a>\n            </body>\n          </html>\n        `);\n      }\n\n      res.send(`\n        <html>\n          <head><title>Email Verified</title></head>\n          <body style=\"font-family: Arial, sans-serif; text-align: center; padding: 50px;\">\n            <h1 style=\"color: #27ae60;\">Email Verified Successfully!</h1>\n            <p>Welcome to Skills Connect, ${artisan.firstName}! Your email has been verified and you can now log in to manage your artisan profile.</p>\n            <a href=\"/artisan/login\" style=\"background: #DAA520; color: black; padding: 10px 20px; text-decoration: none; border-radius: 5px;\">Go to Login</a>\n          </body>\n        </html>\n      `);\n    } catch (error) {\n      console.error(\"Email verification error:\", error);\n      res.status(500).send(\"Verification failed\");\n    }\n  });\n\n  app.get(\"/api/artisan/profile\", async (req, res) => {\n    try {\n      const { requireArtisanAuth } = await import(\"./artisanAuth\");\n      await new Promise((resolve, reject) => {\n        requireArtisanAuth(req, res, (err) => err ? reject(err) : resolve(null));\n      });\n      \n      const artisan = (req as any).artisan;\n      res.json({\n        id: artisan.id,\n        firstName: artisan.firstName,\n        lastName: artisan.lastName,\n        email: artisan.email,\n        phone: artisan.phone,\n        location: artisan.location,\n        services: artisan.services,\n        description: artisan.description,\n        yearsExperience: artisan.yearsExperience,\n        verified: artisan.verified,\n        approvalStatus: artisan.approvalStatus,\n        profileImage: artisan.profileImage\n      });\n    } catch (error) {\n      console.error(\"Get artisan profile error:\", error);\n      res.status(401).json({ message: \"Authentication required\" });\n    }\n  });\n\n  // Document upload routes\n  app.post(\"/api/documents/upload\", async (req, res) => {\n    try {\n      const { documentType } = req.body;\n      \n      if (!documentType || !['id', 'qualification'].includes(documentType)) {\n        return res.status(400).json({ error: \"Invalid document type. Must be 'id' or 'qualification'\" });\n      }\n      \n      const objectStorageService = new ObjectStorageService();\n      const uploadURL = await objectStorageService.getDocumentUploadURL(documentType);\n      res.json({ uploadURL });\n    } catch (error) {\n      console.error(\"Error getting upload URL:\", error);\n      res.status(500).json({ error: \"Failed to get upload URL\" });\n    }\n  });\n\n  // Document download route\n  app.get(\"/documents/:documentType/:date/:documentId\", async (req, res) => {\n    try {\n      const { documentType, date, documentId } = req.params;\n      const documentPath = `/documents/${documentType}/${date}/${documentId}`;\n      \n      const objectStorageService = new ObjectStorageService();\n      const documentFile = await objectStorageService.getDocumentFile(documentPath);\n      \n      await objectStorageService.downloadObject(documentFile, res);\n    } catch (error) {\n      console.error(\"Error downloading document:\", error);\n      if (error instanceof ObjectNotFoundError) {\n        return res.sendStatus(404);\n      }\n      return res.sendStatus(500);\n    }\n  });\n\n  // Advertisement routes\n  app.get(\"/api/advertisements\", async (req, res) => {\n    try {\n      const ads = await storage.getActiveAdvertisements();\n      res.json(ads);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch advertisements\" });\n    }\n  });\n\n  app.get(\"/api/admin/advertisements\", verifyAdminToken, async (req, res) => {\n    try {\n      const ads = await storage.getAllAdvertisements();\n      res.json(ads);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch advertisements\" });\n    }\n  });\n\n  app.post(\"/api/admin/advertisements\", verifyAdminToken, async (req, res) => {\n    try {\n      const { insertAdvertisementSchema } = await import(\"@shared/schema\");\n      const validatedData = insertAdvertisementSchema.parse(req.body);\n      const ad = await storage.createAdvertisement(validatedData);\n      res.status(201).json(ad);\n    } catch (error: any) {\n      res.status(400).json({ message: error.message || \"Failed to create advertisement\" });\n    }\n  });\n\n  app.put(\"/api/admin/advertisements/:id\", verifyAdminToken, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const ad = await storage.updateAdvertisement(id, req.body);\n      if (!ad) {\n        return res.status(404).json({ message: \"Advertisement not found\" });\n      }\n      res.json(ad);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to update advertisement\" });\n    }\n  });\n\n  app.delete(\"/api/admin/advertisements/:id\", verifyAdminToken, async (req, res) => {\n    try {\n      const id = parseInt(req.params.id);\n      const success = await storage.deleteAdvertisement(id);\n      if (!success) {\n        return res.status(404).json({ message: \"Advertisement not found\" });\n      }\n      res.json({ message: \"Advertisement deleted successfully\" });\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to delete advertisement\" });\n    }\n  });\n\n  app.post(\"/api/admin/advertisement/:id/image\", verifyAdminToken, profileImageUpload.single('image'), async (req, res) => {\n    try {\n      const adId = parseInt(req.params.id);\n      \n      if (!req.file) {\n        return res.status(400).json({ message: \"No image file provided\" });\n      }\n\n      const fileType = await fileTypeFromBuffer(req.file.buffer);\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png', 'image/webp', 'image/gif'];\n      \n      if (!fileType || !allowedTypes.includes(fileType.mime)) {\n        return res.status(400).json({ \n          message: \"Invalid file type. Only JPEG, PNG, WebP, and GIF images are allowed.\" \n        });\n      }\n\n      const publicUrl = await uploadProfilePicture(\n        adId,\n        req.file.buffer,\n        fileType.mime\n      );\n\n      res.json({\n        message: \"Advertisement image uploaded successfully\",\n        url: publicUrl\n      });\n    } catch (error: any) {\n      console.error(\"Error uploading advertisement image:\", error);\n      res.status(500).json({ message: error?.message || \"Failed to upload image\" });\n    }\n  });\n\n  // Contact Message routes\n  app.post(\"/api/contact\", async (req, res) => {\n    try {\n      const validatedData = insertContactMessageSchema.parse(req.body);\n      const message = await storage.createContactMessage(validatedData);\n      \n      // Send email notification to admin\n      try {\n        await emailService.sendContactFormNotification({\n          name: validatedData.name,\n          email: validatedData.email,\n          phone: validatedData.phone,\n          subject: validatedData.subject,\n          message: validatedData.message,\n        });\n      } catch (emailError) {\n        console.error(\"Error sending contact notification email:\", emailError);\n        // Don't fail the response if email fails\n      }\n      \n      res.status(201).json(message);\n    } catch (error: any) {\n      console.error(\"Contact form error:\", error);\n      res.status(400).json({ message: error.message || \"Failed to send message\" });\n    }\n  });\n\n  app.get(\"/api/admin/contact-messages\", verifyAdminToken, async (req, res) => {\n    try {\n      const messages = await storage.getContactMessages();\n      res.json(messages);\n    } catch (error) {\n      res.status(500).json({ message: \"Failed to fetch contact messages\" });\n    }\n  });\n\n  const httpServer = createServer(app);\n  return httpServer;\n}\n","path":null,"size_bytes":38424,"size_tokens":null},"client/src/components/ui/calendar.tsx":{"content":"import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"@/lib/utils\"\nimport { buttonVariants } from \"@/components/ui/button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n","path":null,"size_bytes":2695,"size_tokens":null},"client/src/components/ui/sheet.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      {children}\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n","path":null,"size_bytes":4281,"size_tokens":null},"client/src/components/ui/switch.tsx":{"content":"import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n","path":null,"size_bytes":1139,"size_tokens":null},"client/src/hooks/use-mobile.tsx":{"content":"import * as React from \"react\"\n\nconst MOBILE_BREAKPOINT = 768\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    }\n    mql.addEventListener(\"change\", onChange)\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)\n    return () => mql.removeEventListener(\"change\", onChange)\n  }, [])\n\n  return !!isMobile\n}\n","path":null,"size_bytes":565,"size_tokens":null},"client/src/components/PageTransition.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { ReactNode } from \"react\";\n\ninterface PageTransitionProps {\n  children: ReactNode;\n}\n\nconst pageVariants = {\n  initial: {\n    opacity: 0,\n    x: 100,\n    scale: 0.95\n  },\n  in: {\n    opacity: 1,\n    x: 0,\n    scale: 1\n  },\n  out: {\n    opacity: 0,\n    x: -100,\n    scale: 1.05\n  }\n};\n\nconst pageTransition = {\n  type: \"tween\",\n  ease: \"easeInOut\",\n  duration: 0.5\n};\n\nexport default function PageTransition({ children }: PageTransitionProps) {\n  return (\n    <motion.div\n      initial=\"initial\"\n      animate=\"in\"\n      exit=\"out\"\n      variants={pageVariants}\n      transition={pageTransition}\n      className=\"w-full\"\n    >\n      {children}\n    </motion.div>\n  );\n}","path":null,"size_bytes":715,"size_tokens":null},"client/src/pages/not-found.tsx":{"content":"import { Card, CardContent } from \"@/components/ui/card\";\nimport { AlertCircle } from \"lucide-react\";\n\nexport default function NotFound() {\n  return (\n    <div className=\"min-h-screen w-full flex items-center justify-center bg-black\">\n      <Card className=\"w-full max-w-md mx-4\">\n        <CardContent className=\"pt-6\">\n          <div className=\"flex mb-4 gap-2\">\n            <AlertCircle className=\"h-8 w-8 text-red-500\" />\n            <h1 className=\"text-2xl font-bold text-gray-900\">404 Page Not Found</h1>\n          </div>\n\n          <p className=\"mt-4 text-sm text-gray-600\">\n            Did you forget to add the page to the router?\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","path":null,"size_bytes":709,"size_tokens":null},"client/src/lib/utils.ts":{"content":"import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function getInitials(firstName: string, lastName: string): string {\n  return `${firstName.charAt(0)}${lastName.charAt(0)}`.toUpperCase();\n}\n\nexport function formatRating(rating: string | number): string {\n  const num = typeof rating === \"string\" ? parseFloat(rating) : rating;\n  return num.toFixed(1);\n}\n\nexport function getServiceIcon(service: string): string {\n  const icons: Record<string, string> = {\n    builders: \"fas fa-hammer\",\n    plumbers: \"fas fa-wrench\",\n    electricians: \"fas fa-bolt\",\n    carpenters: \"fas fa-saw-blade\",\n    tilers: \"fas fa-th-large\",\n    cleaners: \"fas fa-broom\",\n    landscapers: \"fas fa-seedling\",\n  };\n  return icons[service] || \"fas fa-tools\";\n}\n\nexport function calculateDistance(loc1: string, loc2: string): number {\n  // Simple mock distance calculation based on city matching\n  // In a real app, this would use proper geolocation APIs\n  const city1 = loc1.split(\",\")[0].toLowerCase().trim();\n  const city2 = loc2.split(\",\")[0].toLowerCase().trim();\n  \n  if (city1 === city2) return 0;\n  \n  // Mock distances for demo\n  const distances: Record<string, Record<string, number>> = {\n    \"johannesburg\": { \"pretoria\": 50, \"cape town\": 1400, \"durban\": 560 },\n    \"cape town\": { \"stellenbosch\": 50, \"johannesburg\": 1400, \"durban\": 1650 },\n    \"durban\": { \"johannesburg\": 560, \"cape town\": 1650, \"port elizabeth\": 600 },\n  };\n  \n  return distances[city1]?.[city2] || Math.floor(Math.random() * 500) + 50;\n}\n","path":null,"size_bytes":1617,"size_tokens":null},"client/src/pages/AdminLogin.tsx":{"content":"import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport PageTransition from \"@/components/PageTransition\";\nimport { Mail, Shield, Lock, Eye, EyeOff } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useMutation } from \"@tanstack/react-query\";\n\nconst loginSchema = z.object({\n  email: z.string().email(\"Please enter a valid email address\"),\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\n});\n\ntype LoginFormData = z.infer<typeof loginSchema>;\n\nexport default function AdminLogin() {\n  const [showPassword, setShowPassword] = useState(false);\n  const [isEmailSent, setIsEmailSent] = useState(false);\n  const { toast } = useToast();\n\n  const form = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    defaultValues: {\n      email: \"\",\n      password: \"\",\n    },\n  });\n\n  const loginMutation = useMutation({\n    mutationFn: async (data: LoginFormData) => {\n      const response = await apiRequest(\"POST\", \"/api/admin/login\", data);\n      return response.json();\n    },\n    onSuccess: (data) => {\n      if (data.requiresVerification) {\n        setIsEmailSent(true);\n        toast({\n          title: \"Verification Required\",\n          description: \"Please check your email for a verification link.\",\n        });\n      } else {\n        localStorage.setItem(\"adminToken\", data.token);\n        window.location.href = \"/admin/manage\";\n      }\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Login Failed\",\n        description: error.message || \"Invalid credentials\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const googleLoginMutation = useMutation({\n    mutationFn: async () => {\n      window.location.href = \"/api/admin/auth/google\";\n    },\n  });\n\n  const resendVerificationMutation = useMutation({\n    mutationFn: async () => {\n      const response = await apiRequest(\"POST\", \"/api/admin/resend-verification\", {\n        email: form.getValues(\"email\"),\n      });\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Verification Email Sent\",\n        description: \"Please check your email for the verification link.\",\n      });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to send verification email\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: LoginFormData) => {\n    loginMutation.mutate(data);\n  };\n\n  if (isEmailSent) {\n    return (\n      <PageTransition>\n        <div className=\"min-h-screen bg-black\">\n          <Header />\n          <div className=\"max-w-md mx-auto px-4 py-20\">\n            <Card className=\"border-2 border-green/30\">\n              <CardHeader className=\"text-center\">\n                <div className=\"mx-auto mb-4 w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center\">\n                  <Mail className=\"w-8 h-8 text-gold\" />\n                </div>\n                <CardTitle>Check Your Email</CardTitle>\n                <CardDescription>\n                  We've sent a verification link to {form.getValues(\"email\")}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"text-center\">\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  Click the link in your email to verify your account and complete the login process.\n                </p>\n                <Button\n                  onClick={() => resendVerificationMutation.mutate()}\n                  disabled={resendVerificationMutation.isPending}\n                  variant=\"outline\"\n                  className=\"w-full\"\n                >\n                  Resend Verification Email\n                </Button>\n              </CardContent>\n              <CardFooter>\n                <Button\n                  onClick={() => setIsEmailSent(false)}\n                  variant=\"ghost\"\n                  className=\"w-full\"\n                >\n                  Back to Login\n                </Button>\n              </CardFooter>\n            </Card>\n          </div>\n          <Footer />\n        </div>\n      </PageTransition>\n    );\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        \n        <div className=\"max-w-md mx-auto px-4 py-20\">\n          <Card className=\"border-2 border-green/30\">\n            <CardHeader className=\"text-center\">\n              <div className=\"mx-auto mb-4 w-16 h-16 bg-gold/10 rounded-full flex items-center justify-center\">\n                <Shield className=\"w-8 h-8 text-gold\" />\n              </div>\n              <CardTitle className=\"text-2xl\">Admin Login</CardTitle>\n              <CardDescription>\n                Access the administrative panel\n              </CardDescription>\n            </CardHeader>\n            \n            <CardContent>\n              <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n                <div>\n                  <Label htmlFor=\"email\">Email Address</Label>\n                  <Input\n                    id=\"email\"\n                    type=\"email\"\n                    placeholder=\"admin@kasiconnect.com\"\n                    {...form.register(\"email\")}\n                    className=\"mt-1\"\n                  />\n                  {form.formState.errors.email && (\n                    <p className=\"text-sm text-red-600 mt-1\">\n                      {form.formState.errors.email.message}\n                    </p>\n                  )}\n                </div>\n                \n                <div>\n                  <Label htmlFor=\"password\">Password</Label>\n                  <div className=\"relative mt-1\">\n                    <Input\n                      id=\"password\"\n                      type={showPassword ? \"text\" : \"password\"}\n                      placeholder=\"Enter your password\"\n                      {...form.register(\"password\")}\n                      className=\"pr-10\"\n                    />\n                    <button\n                      type=\"button\"\n                      onClick={() => setShowPassword(!showPassword)}\n                      className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/70 hover:text-gray-600\"\n                    >\n                      {showPassword ? (\n                        <EyeOff className=\"w-4 h-4\" />\n                      ) : (\n                        <Eye className=\"w-4 h-4\" />\n                      )}\n                    </button>\n                  </div>\n                  {form.formState.errors.password && (\n                    <p className=\"text-sm text-red-600 mt-1\">\n                      {form.formState.errors.password.message}\n                    </p>\n                  )}\n                </div>\n                \n                <Button\n                  type=\"submit\"\n                  disabled={loginMutation.isPending}\n                  className=\"w-full bg-green hover:bg-green-dark text-white font-semibold\"\n                >\n                  {loginMutation.isPending ? (\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-4 h-4 border-2 border-black border-t-transparent rounded-full animate-spin\" />\n                      Signing In...\n                    </div>\n                  ) : (\n                    <>\n                      <Lock className=\"w-4 h-4 mr-2\" />\n                      Sign In\n                    </>\n                  )}\n                </Button>\n              </form>\n              \n              <div className=\"mt-6\">\n                <div className=\"relative\">\n                  <div className=\"absolute inset-0 flex items-center\">\n                    <div className=\"w-full border-t border-gray-300\" />\n                  </div>\n                  <div className=\"relative flex justify-center text-sm\">\n                    <span className=\"bg-white px-2 text-white/60\">Or continue with</span>\n                  </div>\n                </div>\n                \n                <Button\n                  onClick={() => googleLoginMutation.mutate()}\n                  variant=\"outline\"\n                  className=\"w-full mt-4 border-gray-300 hover:bg-gray-50\"\n                >\n                  <svg className=\"w-4 h-4 mr-2\" viewBox=\"0 0 24 24\">\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"\n                    />\n                    <path\n                      fill=\"currentColor\"\n                      d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"\n                    />\n                  </svg>\n                  Sign in with Google\n                </Button>\n              </div>\n            </CardContent>\n            \n            <CardFooter className=\"text-center\">\n              <p className=\"text-sm text-gray-600\">\n                For security purposes, admin access requires email verification\n              </p>\n            </CardFooter>\n          </Card>\n        </div>\n        \n        <Footer />\n      </div>\n    </PageTransition>\n  );\n}","path":null,"size_bytes":10184,"size_tokens":null},"client/src/components/ui/skeleton.tsx":{"content":"import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","path":null,"size_bytes":261,"size_tokens":null},"client/src/components/ui/select.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n","path":null,"size_bytes":5742,"size_tokens":null},"client/src/components/Footer.tsx":{"content":"import { Link } from \"wouter\";\nimport { Facebook, Twitter, Instagram, Linkedin, Zap, Hammer, Wrench, Home, Sparkles, MapPin, Phone, Mail, Shield, ArrowRight } from \"lucide-react\";\n\nexport default function Footer() {\n  return (\n    <footer className=\"bg-black text-white border-t-2 border-green/50\">\n      {/* Main Footer Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 lg:py-20\">\n        <div className=\"grid md:grid-cols-5 gap-8 lg:gap-12 mb-12\">\n          {/* Brand Section */}\n          <div className=\"md:col-span-1\">\n            <div className=\"pb-6 border-b border-gold/30 md:border-b-0 md:pr-4\">\n              <div className=\"h-1 bg-gradient-to-r from-gold via-green to-gold rounded-full shimmer-line mb-4\"></div>\n              <h5 className=\"text-2xl lg:text-3xl font-bold text-gold mb-2\">\n                SKILLS CONNECT\n              </h5>\n              <p className=\"text-green text-sm font-semibold\">Far East Rand</p>\n            </div>\n            <p className=\"text-white/70 text-sm leading-relaxed mb-6 mt-6\">\n              Connecting you to reliable, vetted professionals across Far East Rand. Your safety and satisfaction are our priority.\n            </p>\n            <div className=\"flex items-center gap-3 bg-gradient-to-r from-gold/10 to-green/10 border-2 border-gold/30 rounded-lg px-3 py-2\">\n              <div className=\"w-1.5 h-1.5 rounded-full bg-green\"></div>\n              <span className=\"text-gold text-xs font-semibold\">Proudly South African</span>\n            </div>\n          </div>\n\n          {/* Services Section */}\n          <div className=\"border-b md:border-b-0 md:border-l md:border-l-gold/30 md:pl-4 pb-6 md:pb-0\">\n            <div className=\"flex items-center gap-2 mb-5\">\n              <div className=\"w-1 h-6 bg-gradient-to-b from-gold to-green rounded-full\"></div>\n              <h6 className=\"font-bold text-lg text-gold\">Services</h6>\n            </div>\n            <ul className=\"space-y-3\">\n              <li>\n                <Link href=\"/service/electricians\" className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-all duration-300 group\">\n                  <Zap className=\"w-4 h-4 text-gold group-hover:scale-110 transition-transform\" />\n                  <span>Electricians</span>\n                  <ArrowRight className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/service/builders\" className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-all duration-300 group\">\n                  <Hammer className=\"w-4 h-4 text-gold group-hover:scale-110 transition-transform\" />\n                  <span>Builders</span>\n                  <ArrowRight className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/service/plumbers\" className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-all duration-300 group\">\n                  <Wrench className=\"w-4 h-4 text-gold group-hover:scale-110 transition-transform\" />\n                  <span>Plumbers</span>\n                  <ArrowRight className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/service/tilers\" className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-all duration-300 group\">\n                  <Home className=\"w-4 h-4 text-gold group-hover:scale-110 transition-transform\" />\n                  <span>Tilers</span>\n                  <ArrowRight className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                </Link>\n              </li>\n              <li>\n                <Link href=\"/service/cleaners\" className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-all duration-300 group\">\n                  <Sparkles className=\"w-4 h-4 text-gold group-hover:scale-110 transition-transform\" />\n                  <span>Cleaners</span>\n                  <ArrowRight className=\"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity\" />\n                </Link>\n              </li>\n            </ul>\n          </div>\n\n          {/* Coverage Area Section */}\n          <div className=\"border-b md:border-b-0 md:border-l md:border-l-gold/30 md:pl-4 pb-6 md:pb-0\">\n            <div className=\"flex items-center gap-2 mb-5\">\n              <div className=\"w-1 h-6 bg-gradient-to-b from-gold to-green rounded-full\"></div>\n              <h6 className=\"font-bold text-lg text-gold\">Coverage Area</h6>\n            </div>\n            <ul className=\"space-y-3\">\n              {['Brakpan', 'Benoni', 'Springs', 'Nigel', 'Daveyton'].map((location) => (\n                <li key={location} className=\"flex items-center gap-2 text-white/70 hover:text-gold transition-colors group\">\n                  <MapPin className=\"w-4 h-4 text-green group-hover:text-gold transition-colors\" />\n                  <span className=\"text-sm\">{location}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Contact Section */}\n          <div className=\"border-b md:border-b-0 md:border-l md:border-l-gold/30 md:pl-4 pb-6 md:pb-0\">\n            <div className=\"flex items-center gap-2 mb-5\">\n              <div className=\"w-1 h-6 bg-gradient-to-b from-gold to-green rounded-full\"></div>\n              <h6 className=\"font-bold text-lg text-gold\">Get in Touch</h6>\n            </div>\n            <ul className=\"space-y-4\">\n              <li className=\"flex items-start gap-3 group\">\n                <Phone className=\"w-4 h-4 text-gold mt-0.5 group-hover:scale-110 transition-transform\" />\n                <div>\n                  <p className=\"text-white/50 text-xs font-semibold\">Call Us</p>\n                  <a href=\"tel:0697026088\" className=\"text-white/70 hover:text-gold transition-colors font-medium\">069 702 6088</a>\n                </div>\n              </li>\n              <li className=\"flex items-start gap-3 group\">\n                <Mail className=\"w-4 h-4 text-gold mt-0.5 group-hover:scale-110 transition-transform\" />\n                <div>\n                  <p className=\"text-white/50 text-xs font-semibold\">Email Us</p>\n                  <a href=\"mailto:admin@skillsconnect.co.za\" className=\"text-white/70 hover:text-gold transition-colors font-medium text-sm\">admin@skillsconnect.co.za</a>\n                </div>\n              </li>\n              <li className=\"flex items-center gap-2 pt-2\">\n                <Shield className=\"w-4 h-4 text-green\" />\n                <span className=\"text-white/70 text-sm\">Verified & Insured</span>\n              </li>\n            </ul>\n          </div>\n\n          {/* Social Media Section */}\n          <div className=\"border-b md:border-b-0 md:border-l md:border-l-gold/30 md:pl-4 pb-6 md:pb-0\">\n            <div className=\"flex items-center gap-2 mb-5\">\n              <div className=\"w-1 h-6 bg-gradient-to-b from-gold to-green rounded-full\"></div>\n              <h6 className=\"font-bold text-lg text-gold\">Connect</h6>\n            </div>\n            <div className=\"flex gap-3 flex-wrap\">\n              {[\n                { icon: Facebook, label: 'Facebook', href: '#' },\n                { icon: Twitter, label: 'Twitter', href: '#' },\n                { icon: Instagram, label: 'Instagram', href: '#' },\n                { icon: Linkedin, label: 'LinkedIn', href: '#' }\n              ].map(({ icon: Icon, label, href }) => (\n                <a\n                  key={label}\n                  href={href}\n                  aria-label={label}\n                  className=\"w-10 h-10 flex items-center justify-center rounded-lg bg-gradient-to-br from-gold/10 to-green/10 border border-gold/30 text-gold hover:bg-gold hover:text-black hover:scale-110 transition-all duration-300\"\n                  data-testid={`button-social-${label.toLowerCase()}`}\n                >\n                  <Icon className=\"w-5 h-5\" />\n                </a>\n              ))}\n            </div>\n          </div>\n        </div>\n\n        {/* Divider */}\n        <div className=\"h-1 bg-gradient-to-r from-transparent via-gold/50 to-transparent rounded-full shimmer-line my-8\"></div>\n\n        {/* Bottom Section */}\n        <div className=\"flex flex-col md:flex-row justify-between items-center gap-6\">\n          <p className=\"text-white/60 text-sm text-center md:text-left\">\n            Â© 2024 SKILLS CONNECT - Far East Rand. All rights reserved.\n          </p>\n          <div className=\"flex flex-wrap justify-center md:justify-end gap-6 text-sm\">\n            <a href=\"#\" className=\"text-white/60 hover:text-gold transition-colors\">Privacy Policy</a>\n            <span className=\"text-white/20\">â€¢</span>\n            <a href=\"#\" className=\"text-white/60 hover:text-gold transition-colors\">Terms of Service</a>\n            <span className=\"text-white/20\">â€¢</span>\n            <a href=\"#\" className=\"text-white/60 hover:text-gold transition-colors\">Cookie Policy</a>\n          </div>\n        </div>\n      </div>\n\n      {/* Bottom accent bar */}\n      <div className=\"h-1 bg-gradient-to-r from-transparent via-gold to-transparent\"></div>\n    </footer>\n  );\n}\n","path":null,"size_bytes":9277,"size_tokens":null},"client/src/pages/AdminReview.tsx":{"content":"import { useState, useEffect, useMemo } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport PageTransition from \"@/components/PageTransition\";\nimport { MapPin, Star, Phone, Mail, FileText, CheckCircle, XCircle, Clock, Users, Search } from \"lucide-react\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function AdminReview() {\n  const [selectedArtisan, setSelectedArtisan] = useState<Artisan | null>(null);\n  const [rejectionReason, setRejectionReason] = useState(\"\");\n  const [adminName, setAdminName] = useState(\"\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  // Check admin authentication\n  useEffect(() => {\n    const token = localStorage.getItem(\"adminToken\");\n    if (!token) {\n      window.location.href = \"/admin/login\";\n      return;\n    }\n    \n    // Verify token is valid\n    fetch(\"/api/admin/verify-token\", {\n      headers: { Authorization: `Bearer ${token}` },\n    }).then(response => {\n      if (!response.ok) {\n        localStorage.removeItem(\"adminToken\");\n        window.location.href = \"/admin/login\";\n      }\n    }).catch(() => {\n      localStorage.removeItem(\"adminToken\");\n      window.location.href = \"/admin/login\";\n    });\n  }, []);\n\n  const { data: allArtisans, isLoading } = useQuery<Artisan[]>({\n    queryKey: [\"/api/admin/artisans\"],\n    queryFn: async () => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(\"/api/admin/artisans\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch artisans\");\n      return response.json();\n    },\n  });\n\n  const approveMutation = useMutation({\n    mutationFn: async ({ id, approvedBy }: { id: number; approvedBy: string }) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/approve-artisan/${id}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ approvedBy }),\n      });\n      if (!response.ok) throw new Error(\"Failed to approve artisan\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Artisan approved successfully\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/artisans\"] });\n      setSelectedArtisan(null);\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to approve artisan\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const rejectMutation = useMutation({\n    mutationFn: async ({ id, rejectionReason, rejectedBy }: { id: number; rejectionReason: string; rejectedBy: string }) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/reject-artisan/${id}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify({ rejectionReason, rejectedBy }),\n      });\n      if (!response.ok) throw new Error(\"Failed to reject artisan\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Artisan rejected successfully\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/artisans\"] });\n      setSelectedArtisan(null);\n      setRejectionReason(\"\");\n    },\n    onError: (error) => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to reject artisan\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleApprove = (artisan: Artisan) => {\n    if (!adminName.trim()) {\n      toast({\n        title: \"Missing Admin Name\",\n        description: \"Please enter your name in the admin name field above before approving\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    approveMutation.mutate({ id: artisan.id, approvedBy: adminName });\n  };\n\n  const handleReject = (artisan: Artisan) => {\n    if (!adminName.trim()) {\n      toast({\n        title: \"Missing Admin Name\",\n        description: \"Please enter your name in the admin name field above before rejecting\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n    setSelectedArtisan(artisan);\n  };\n\n  const filteredArtisans = useMemo(() => {\n    if (!allArtisans) return [];\n    return allArtisans.filter((artisan) => {\n      const matchesSearch = \n        searchTerm === \"\" ||\n        `${artisan.firstName} ${artisan.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        artisan.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        artisan.location.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        artisan.services.some(s => s.toLowerCase().includes(searchTerm.toLowerCase()));\n      \n      return matchesSearch;\n    });\n  }, [allArtisans, searchTerm]);\n\n  if (isLoading) {\n    return (\n      <PageTransition>\n        <div className=\"min-h-screen bg-black\">\n          <Header />\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n            <div className=\"text-center\">\n              <div className=\"animate-spin rounded-full h-32 w-32 border-b-2 border-gold mx-auto\"></div>\n              <p className=\"mt-4 text-gray-600\">Loading pending artisans...</p>\n            </div>\n          </div>\n          <Footer />\n        </div>\n      </PageTransition>\n    );\n  }\n\n  return (\n    <PageTransition>\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        \n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"mb-8\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <div>\n                <h1 className=\"text-3xl font-bold text-gold\">Artisan Review & Management</h1>\n                <p className=\"text-white/80\">Review, approve, reject, and manage artisan applications and profiles</p>\n              </div>\n              <Link href=\"/admin/manage\">\n                <Button className=\"bg-gold hover:bg-gold-dark text-black\" data-testid=\"button-manage-artisans\">\n                  <Users className=\"w-4 h-4 mr-2\" />\n                  Go to Manage Artisans\n                </Button>\n              </Link>\n            </div>\n            \n            {/* Admin Name Input - REQUIRED for approvals */}\n            <Card className=\"bg-gradient-to-r from-gold/10 to-gold-dark/10 border-2 border-gold mb-8\">\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start gap-4\">\n                  <div className=\"bg-gold/20 rounded-full p-3\">\n                    <CheckCircle className=\"w-6 h-6 text-gold\" />\n                  </div>\n                  <div className=\"flex-1\">\n                    <Label htmlFor=\"adminName\" className=\"text-white font-bold text-base mb-2 block\">\n                      Your Admin Name\n                    </Label>\n                    <Input\n                      id=\"adminName\"\n                      type=\"text\"\n                      placeholder=\"Enter your name to enable approve/reject functions\"\n                      value={adminName}\n                      onChange={(e) => setAdminName(e.target.value)}\n                      className=\"bg-zinc-800 border-2 border-green/50 text-white placeholder:text-white/40\"\n                      data-testid=\"input-admin-name\"\n                    />\n                    {!adminName.trim() && (\n                      <p className=\"text-gold text-sm mt-3 font-semibold\">\n                        âš ï¸ Enter your name above to enable approval and rejection functions\n                      </p>\n                    )}\n                    {adminName.trim() && (\n                      <p className=\"text-green text-sm mt-3 font-semibold\">\n                        âœ“ You're all set! You can now approve or reject artisans.\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n\n            {/* Search Box */}\n            <div className=\"mb-6\">\n              <Label className=\"text-white font-bold mb-2 block\">Search Artisans</Label>\n              <div className=\"relative\">\n                <Search className=\"absolute left-4 top-1/2 transform -translate-y-1/2 text-gold w-5 h-5\" />\n                <Input\n                  placeholder=\"Search by name, email, location, or service...\"\n                  value={searchTerm}\n                  onChange={(e) => setSearchTerm(e.target.value)}\n                  className=\"pl-12 bg-zinc-800 border-2 border-green/50 text-white placeholder:text-white/40\"\n                  data-testid=\"input-search-artisans\"\n                />\n              </div>\n              {allArtisans && allArtisans.length > 0 && (\n                <p className=\"text-white/70 text-sm mt-3\">\n                  {searchTerm ? `Found ${filteredArtisans.length} of ${allArtisans.length} artisans` : `Total artisans: ${allArtisans.length}`}\n                </p>\n              )}\n            </div>\n          </div>\n\n          {!allArtisans || allArtisans.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <CheckCircle className=\"mx-auto h-16 w-16 text-green mb-4\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2\">No Pending Applications</h3>\n              <p className=\"text-white/60\">All artisan applications have been reviewed.</p>\n            </div>\n          ) : filteredArtisans.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <Search className=\"mx-auto h-16 w-16 text-white/40 mb-4\" />\n              <h3 className=\"text-xl font-semibold text-white mb-2\">No Results Found</h3>\n              <p className=\"text-white/60\">No artisans match your search \"{searchTerm}\"</p>\n            </div>\n          ) : (\n            <div className=\"grid gap-6\">\n              {filteredArtisans.map((artisan) => {\n                const isPending = artisan.approvalStatus === \"pending\";\n                const isApproved = artisan.approvalStatus === \"approved\";\n                const isRejected = artisan.approvalStatus === \"rejected\";\n                \n                return (\n                <Card key={artisan.id} className=\"bg-zinc-900 border-2 border-green/50 hover:border-gold transition-all duration-200 hover:shadow-lg\">\n                  <CardHeader>\n                    <div className=\"flex justify-between items-start\">\n                      <div>\n                        <CardTitle className=\"text-xl text-gold\">\n                          {artisan.firstName} {artisan.lastName}\n                        </CardTitle>\n                        <CardDescription className=\"text-white/70\">\n                          <div className=\"flex flex-wrap items-center gap-4 mt-2\">\n                            <span className=\"flex items-center gap-1\">\n                              <MapPin className=\"w-4 h-4 text-gold\" />\n                              {artisan.location}\n                            </span>\n                            <span className=\"flex items-center gap-1\">\n                              <Clock className=\"w-4 h-4 text-gold\" />\n                              {artisan.yearsExperience} years experience\n                            </span>\n                          </div>\n                        </CardDescription>\n                      </div>\n                      <div className=\"flex flex-col gap-2 items-end\">\n                        {isPending && <Badge className=\"bg-orange-500/20 text-orange-400 border border-orange-400\">Pending Review</Badge>}\n                        {isApproved && <Badge className=\"bg-green/20 text-green border border-green\">Approved</Badge>}\n                        {isRejected && <Badge className=\"bg-red-500/20 text-red-400 border border-red-400\">Rejected</Badge>}\n                        {artisan.subscriptionTier && (\n                          <Badge className=\"bg-gold/20 text-gold border border-gold/50\">{artisan.subscriptionTier}</Badge>\n                        )}\n                      </div>\n                    </div>\n                  </CardHeader>\n                  \n                  <CardContent>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <h4 className=\"font-semibold text-white mb-2\">Services</h4>\n                        <div className=\"flex flex-wrap gap-2\">\n                          {artisan.services.map((service, index) => (\n                            <Badge key={index} variant=\"secondary\" className=\"bg-gold/10 text-gold border-green/30\">\n                              {service}\n                            </Badge>\n                          ))}\n                        </div>\n                      </div>\n                      \n                      <div>\n                        <h4 className=\"font-semibold text-white mb-2\">Description</h4>\n                        <p className=\"text-white/70\">{artisan.description}</p>\n                      </div>\n                      \n                      <div className=\"grid md:grid-cols-2 gap-4\">\n                        <div>\n                          <h4 className=\"font-semibold text-white mb-2\">Contact Information</h4>\n                          <div className=\"space-y-1 text-sm text-white/60\">\n                            <div className=\"flex items-center gap-2\">\n                              <Mail className=\"w-4 h-4\" />\n                              {artisan.email}\n                            </div>\n                            <div className=\"flex items-center gap-2\">\n                              <Phone className=\"w-4 h-4\" />\n                              {artisan.phone}\n                            </div>\n                          </div>\n                        </div>\n                        \n                        <div>\n                          <h4 className=\"font-semibold text-white mb-2\">Documents</h4>\n                          <div className=\"space-y-1 text-sm text-white/60\">\n                            {artisan.idDocument && (\n                              <div className=\"flex items-center gap-2\">\n                                <FileText className=\"w-4 h-4\" />\n                                ID Document: {artisan.idDocument}\n                              </div>\n                            )}\n                            {artisan.qualificationDocuments && artisan.qualificationDocuments.length > 0 && (\n                              <div className=\"flex items-center gap-2\">\n                                <FileText className=\"w-4 h-4\" />\n                                Qualifications: {artisan.qualificationDocuments.length} files\n                              </div>\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </CardContent>\n                  \n                  <CardFooter className=\"flex gap-3 border-t border-green/30 pt-4\">\n                    <Button\n                      onClick={() => handleApprove(artisan)}\n                      disabled={approveMutation.isPending}\n                      className=\"flex-1 flex items-center justify-center gap-2 font-bold bg-green hover:bg-green-dark text-white\"\n                      data-testid={`button-approve-${artisan.id}`}\n                    >\n                      <CheckCircle className=\"w-4 h-4\" />\n                      {approveMutation.isPending ? \"Approving...\" : \"Approve\"}\n                    </Button>\n                    \n                    <Button\n                      onClick={() => setSelectedArtisan(artisan)}\n                      disabled={rejectMutation.isPending}\n                      className=\"flex-1 flex items-center justify-center gap-2 font-bold bg-red-600 hover:bg-red-700 text-white\"\n                      data-testid={`button-reject-${artisan.id}`}\n                    >\n                      <XCircle className=\"w-4 h-4\" />\n                      {rejectMutation.isPending ? \"Rejecting...\" : \"Reject\"}\n                    </Button>\n                  </CardFooter>\n                </Card>\n              );\n              })}\n            </div>\n          )}\n        </div>\n\n        {/* Rejection Modal */}\n        {selectedArtisan && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <Card className=\"w-full max-w-md bg-zinc-900 border-2 border-green/30\">\n              <CardHeader>\n                <CardTitle className=\"text-white\">Reject Application</CardTitle>\n                <CardDescription className=\"text-white/60\">\n                  Provide a reason for rejecting {selectedArtisan.firstName} {selectedArtisan.lastName}'s application.\n                </CardDescription>\n              </CardHeader>\n              <CardContent>\n                <Label htmlFor=\"rejectionReason\" className=\"text-white\">Rejection Reason</Label>\n                <Textarea\n                  id=\"rejectionReason\"\n                  placeholder=\"Please provide a detailed reason for rejection...\"\n                  value={rejectionReason}\n                  onChange={(e) => setRejectionReason(e.target.value)}\n                  className=\"mt-1 bg-zinc-800 border-green/30 text-white\"\n                  rows={4}\n                />\n              </CardContent>\n              <CardFooter className=\"flex gap-2\">\n                <Button\n                  onClick={() => {\n                    setSelectedArtisan(null);\n                    setRejectionReason(\"\");\n                  }}\n                  variant=\"outline\"\n                  className=\"flex-1 border-green/30 text-white hover:bg-zinc-800\"\n                  data-testid=\"button-cancel-rejection\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={() => {\n                    if (!rejectionReason.trim()) {\n                      toast({\n                        title: \"Missing Rejection Reason\",\n                        description: \"Please provide a reason for rejecting this artisan\",\n                        variant: \"destructive\",\n                      });\n                      return;\n                    }\n                    if (!adminName.trim()) {\n                      toast({\n                        title: \"Missing Admin Name\",\n                        description: \"Please enter your name in the admin name field above\",\n                        variant: \"destructive\",\n                      });\n                      return;\n                    }\n                    rejectMutation.mutate({ \n                      id: selectedArtisan.id, \n                      rejectionReason: rejectionReason.trim(), \n                      rejectedBy: adminName \n                    });\n                  }}\n                  disabled={rejectMutation.isPending}\n                  className=\"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold\"\n                  data-testid=\"button-confirm-rejection\"\n                >\n                  {rejectMutation.isPending ? \"Rejecting...\" : \"Reject\"}\n                </Button>\n              </CardFooter>\n            </Card>\n          </div>\n        )}\n\n        <Footer />\n      </div>\n    </PageTransition>\n  );\n}","path":null,"size_bytes":19969,"size_tokens":null},"client/src/pages/SearchResults.tsx":{"content":"import { useQuery } from \"@tanstack/react-query\";\nimport { useLocation, Link } from \"wouter\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport { getInitials } from \"@/lib/utils\";\nimport { MapPin, Phone, Mail, ArrowLeft, Info, User } from \"lucide-react\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function SearchResults() {\n  const [location, navigate] = useLocation();\n  \n  // Use window.location.search to get the actual URL parameters\n  const searchParams = new URLSearchParams(window.location.search);\n  console.log(\"Full window location:\", window.location.href);\n  console.log(\"Window search:\", window.location.search);\n  console.log(\"All params:\", Array.from(searchParams.entries()));\n  \n  const service = searchParams.get(\"service\") || \"\";\n  const searchLocation = searchParams.get(\"location\") || \"\";\n  const tier = searchParams.get(\"tier\") || \"basic\";\n\n  // Debug logging\n  console.log(\"Search params:\", { service, searchLocation, tier });\n  console.log(\"Query enabled:\", !!(service && searchLocation));\n  console.log(\"Query key:\", [`/api/search?service=${service}&location=${searchLocation}&tier=${tier}`]);\n\n  const { data: searchResults, isLoading, error } = useQuery<{\n    artisans: Artisan[];\n    tier: string;\n    limit: number;\n    count: number;\n  }>({\n    queryKey: [`/api/search?service=${service}&location=${searchLocation}&tier=${tier}`],\n    enabled: !!(service && searchLocation),\n    retry: 3,\n    retryDelay: 1000,\n  });\n\n  // Debug search results\n  console.log(\"Search results:\", searchResults);\n  console.log(\"Is loading:\", isLoading);\n  console.log(\"Error:\", error);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"space-y-6\">\n            {[...Array(3)].map((_, i) => (\n              <Card key={i}>\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start space-x-4\">\n                    <Skeleton className=\"w-16 h-16 rounded-full\" />\n                    <div className=\"flex-1 space-y-2\">\n                      <Skeleton className=\"h-4 w-1/3\" />\n                      <Skeleton className=\"h-4 w-1/2\" />\n                      <Skeleton className=\"h-4 w-full\" />\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (error) {\n    console.error(\"Search error:\", error);\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <Card className=\"bg-gradient-to-r from-gold/10 to-gold-dark/10 border-green/30\">\n            <CardContent className=\"p-8 text-center\">\n              <h1 className=\"text-2xl font-bold text-white mb-4\">Search Error</h1>\n              <p className=\"text-white mb-4\">Unable to perform search. Please try again.</p>\n              <p className=\"text-sm text-red-400 mb-6\">Error: {error?.message || \"Unknown error\"}</p>\n              <Link href=\"/\">\n                <Button className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  if (!searchResults && !isLoading && !error) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <Card className=\"bg-gradient-to-r from-gold/10 to-gold-dark/10 border-green/30\">\n            <CardContent className=\"p-8 text-center\">\n              <h1 className=\"text-2xl font-bold text-white mb-4\">No Results</h1>\n              <p className=\"text-white mb-4\">No search results found for \"{service}\" in \"{searchLocation}\".</p>\n              <p className=\"text-sm text-white/80 mb-6\">Try adjusting your search terms or location.</p>\n              <Link href=\"/\">\n                <Button className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n            </CardContent>\n          </Card>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  const artisans = searchResults?.artisans || [];\n  const resultTier = searchResults?.tier || 'basic';\n  const count = searchResults?.count || 0;\n\n  // If we have search results but no artisans, show appropriate message\n  if (searchResults && artisans.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"text-center\">\n            <h1 className=\"text-2xl font-bold text-white mb-4\">No Artisans Found</h1>\n            <p className=\"text-white mb-4\">No {service} found in {searchLocation}.</p>\n            <p className=\"text-sm text-white/80 mb-6\">Try searching in nearby areas or different services.</p>\n            <Link href=\"/\">\n              <Button className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\">\n                <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                Back to Home\n              </Button>\n            </Link>\n          </div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 pb-24\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <Link href=\"/\">\n            <Button variant=\"ghost\" className=\"mb-4\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Search\n            </Button>\n          </Link>\n          \n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-3xl font-bold text-white mb-2\">\n                {service.charAt(0).toUpperCase() + service.slice(1)} in {searchLocation}\n              </h1>\n              <p className=\"text-white\">\n                Found {count} {count === 1 ? 'artisan' : 'artisans'} \n                <Badge variant={resultTier === 'basic' ? 'outline' : 'default'} className={`ml-2 ${resultTier === 'basic' ? 'border-green/30 text-white' : 'bg-gold text-black'}`}>\n                  {resultTier.toUpperCase()} TIER - {resultTier === 'basic' ? 'UNVERIFIED' : 'VERIFIED'} ARTISANS\n                </Badge>\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Results */}\n        {artisans.length === 0 ? (\n          <Card className=\"bg-gradient-to-r from-gold/10 to-gold-dark/10 border-green/30\">\n            <CardContent className=\"p-12 text-center\">\n              <h2 className=\"text-xl font-semibold text-white mb-4\">\n                No artisans found\n              </h2>\n              <p className=\"text-white mb-6\">\n                Try expanding your search area or selecting a different service.\n              </p>\n              <Link href=\"/\">\n                <Button className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\">\n                  Try New Search\n                </Button>\n              </Link>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-6\">\n            {artisans.map((artisan: Artisan) => (\n              <Card key={artisan.id} className=\"border border-green/30 hover:shadow-lg transition-all cosmic-glow-static\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"flex items-start space-x-4 flex-1\">\n                      {/* Avatar */}\n                      <div className=\"w-16 h-16 bg-gradient-to-br from-gold to-gold-dark rounded-full flex items-center justify-center text-white font-bold text-xl overflow-hidden\">\n                        {artisan.profileImage ? (\n                          <img \n                            src={artisan.profileImage} \n                            alt={`${artisan.firstName} ${artisan.lastName}`}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        ) : (\n                          getInitials(artisan.firstName, artisan.lastName)\n                        )}\n                      </div>\n                      \n                      {/* Main Info */}\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center space-x-2 mb-2\">\n                          <h3 className=\"text-xl font-semibold text-white\">\n                            {artisan.firstName} {artisan.lastName}\n                          </h3>\n                          {artisan.verified ? (\n                            <Badge variant=\"outline\" className=\"text-green border-green bg-green/10 text-sm px-3 py-1\">\n                              âœ“ Verified\n                            </Badge>\n                          ) : (\n                            <TooltipProvider>\n                              <Tooltip>\n                                <TooltipTrigger asChild>\n                                  <Badge variant=\"outline\" className=\"text-white border-green/30 bg-zinc-800/50 text-sm px-3 py-1 flex items-center gap-1\">\n                                    Unverified <Info className=\"w-3 h-3\" />\n                                  </Badge>\n                                </TooltipTrigger>\n                                <TooltipContent className=\"max-w-xs\">\n                                  <p>This artisan's profile is self-reported and has not been manually verified by Skills Connect.</p>\n                                </TooltipContent>\n                              </Tooltip>\n                            </TooltipProvider>\n                          )}\n                        </div>\n                        \n                        <p className=\"text-gold font-medium mb-2\">\n                          {artisan.services.map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(\", \")}\n                        </p>\n                        \n                        <div className=\"flex items-center space-x-4 mb-3\">\n                          <div className=\"flex items-center space-x-1 text-white/80\">\n                            <MapPin className=\"w-4 h-4 text-gold\" />\n                            <span>{artisan.location}</span>\n                          </div>\n                          \n                          <div className=\"text-white/80\">\n                            {artisan.yearsExperience}+ years experience\n                          </div>\n                        </div>\n                        \n                        <p className=\"text-white/80 mb-4 line-clamp-2 text-sm leading-relaxed\">{artisan.description}</p>\n                      </div>\n                    </div>\n                    \n                    {/* Actions */}\n                    <div className=\"flex flex-col space-y-2 ml-6\">\n                      <Link href={`/artisan/${artisan.id}`}>\n                        <Button className=\"bg-green hover:bg-green-dark text-white cosmic-glow-static\">\n                          View Profile\n                        </Button>\n                      </Link>\n                      \n                      <div className=\"flex space-x-2\">\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Phone className=\"w-4 h-4\" />\n                        </Button>\n                        <Button variant=\"outline\" size=\"sm\">\n                          <Mail className=\"w-4 h-4\" />\n                        </Button>\n                      </div>\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Tier selection for other tiers */}\n        {resultTier !== 'basic' && (\n          <Card className=\"mt-8 bg-black border border-green/30\">\n            <CardContent className=\"p-6 text-center\">\n              <h3 className=\"text-lg font-semibold text-black-soft mb-2\">\n                Try different search tiers\n              </h3>\n              <div className=\"flex gap-4 justify-center\">\n                <Button \n                  variant=\"outline\"\n                  onClick={() => navigate(`/search?service=${service}&location=${searchLocation}&tier=basic`)}\n                >\n                  Basic (Free)\n                </Button>\n                {resultTier !== 'premium' && (\n                  <Button \n                    className=\"bg-green hover:bg-green-dark text-white\"\n                    onClick={() => navigate(`/search?service=${service}&location=${searchLocation}&tier=premium`)}\n                  >\n                    Premium - R99\n                  </Button>\n                )}\n                {resultTier !== 'enterprise' && (\n                  <Button \n                    variant=\"outline\"\n                    className=\"border-gold text-gold hover:bg-gold hover:text-black\"\n                    onClick={() => navigate(`/search?service=${service}&location=${searchLocation}&tier=enterprise`)}\n                  >\n                    Enterprise - R299\n                  </Button>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n      \n      {/* Sticky CTA Banner for Artisans */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-gradient-to-r from-gold to-gold-dark shadow-lg border-t-2 border-gold-dark z-40\">\n        <div className=\"max-w-7xl mx-auto px-4 py-3\">\n          <div className=\"flex items-center justify-between flex-wrap gap-3\">\n            <div className=\"flex-1\">\n              <p className=\"text-black font-semibold text-sm sm:text-base\">\n                Are you a skilled artisan? Get listed for free!\n              </p>\n            </div>\n            <Link href=\"/artisan\">\n              <Button className=\"bg-black hover:bg-gray-800 text-gold font-bold shadow-md hover:shadow-lg transition-all\">\n                Join as Artisan\n              </Button>\n            </Link>\n          </div>\n        </div>\n      </div>\n      \n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":14750,"size_tokens":null},"client/src/components/ObjectUploader.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport type { ReactNode } from \"react\";\nimport Uppy from \"@uppy/core\";\nimport { DashboardModal } from \"@uppy/react\";\nimport AwsS3 from \"@uppy/aws-s3\";\nimport type { UploadResult } from \"@uppy/core\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/hooks/use-toast\";\n\ninterface ObjectUploaderProps {\n  maxNumberOfFiles?: number;\n  maxFileSize?: number;\n  allowedFileTypes?: string[];\n  onGetUploadParameters: () => Promise<{\n    method: \"PUT\";\n    url: string;\n  }>;\n  onComplete?: (\n    result: UploadResult<Record<string, unknown>, Record<string, unknown>>\n  ) => void;\n  buttonClassName?: string;\n  children: ReactNode;\n  disabled?: boolean;\n}\n\n/**\n * A file upload component that renders as a button and provides a modal interface for\n * file management.\n * \n * Features:\n * - Renders as a customizable button that opens a file upload modal\n * - Provides a modal interface for:\n *   - File selection\n *   - File preview\n *   - Upload progress tracking\n *   - Upload status display\n * \n * The component uses Uppy under the hood to handle all file upload functionality.\n * All file management features are automatically handled by the Uppy dashboard modal.\n * \n * @param props - Component props\n * @param props.maxNumberOfFiles - Maximum number of files allowed to be uploaded\n *   (default: 1)\n * @param props.maxFileSize - Maximum file size in bytes (default: 10MB)\n * @param props.allowedFileTypes - Array of allowed MIME types\n * @param props.onGetUploadParameters - Function to get upload parameters (method and URL).\n *   Typically used to fetch a presigned URL from the backend server for direct-to-S3\n *   uploads.\n * @param props.onComplete - Callback function called when upload is complete. Typically\n *   used to make post-upload API calls to update server state and set object ACL\n *   policies.\n * @param props.buttonClassName - Optional CSS class name for the button\n * @param props.children - Content to be rendered inside the button\n * @param props.disabled - Whether the upload button is disabled\n */\nexport function ObjectUploader({\n  maxNumberOfFiles = 1,\n  maxFileSize = 10485760, // 10MB default\n  allowedFileTypes,\n  onGetUploadParameters,\n  onComplete,\n  buttonClassName,\n  children,\n  disabled = false,\n}: ObjectUploaderProps) {\n  const [showModal, setShowModal] = useState(false);\n  const { toast } = useToast();\n  \n  const [uppy] = useState(() => {\n    const restrictions: any = {\n      maxNumberOfFiles,\n      maxFileSize,\n    };\n\n    if (allowedFileTypes && allowedFileTypes.length > 0) {\n      restrictions.allowedFileTypes = allowedFileTypes;\n    }\n\n    const uppyInstance = new Uppy({\n      restrictions,\n      autoProceed: false,\n      debug: true,\n      onBeforeFileAdded: (currentFile) => {\n        console.log(\"File added:\", currentFile.name, \"Size:\", currentFile.size, \"Type:\", currentFile.type);\n        return true;\n      },\n    })\n      .use(AwsS3, {\n        shouldUseMultipart: false,\n        getUploadParameters: async (file) => {\n          console.log(\"Getting upload params for file:\", file.name, file.type);\n          const params = await onGetUploadParameters();\n          console.log(\"Upload params received:\", { \n            method: params.method, \n            urlPreview: params.url?.substring(0, 100) + \"...\" \n          });\n          \n          // Return params with headers for the upload\n          return {\n            method: params.method,\n            url: params.url,\n            headers: {\n              \"Content-Type\": file.type || \"application/octet-stream\",\n            },\n          };\n        },\n      })\n      .on(\"file-added\", (file) => {\n        console.log(\"File queued for upload:\", file.name);\n      })\n      .on(\"upload\", (data) => {\n        console.log(\"Upload started:\", data);\n      })\n      .on(\"upload-success\", (file, response) => {\n        console.log(\"Upload success:\", file?.name, response);\n      })\n      .on(\"complete\", (result) => {\n        console.log(\"Upload complete:\", result);\n        if (result.successful && result.successful.length > 0) {\n          toast({\n            title: \"Upload Complete\",\n            description: `${result.successful.length} file(s) uploaded successfully.`,\n          });\n        }\n        onComplete?.(result);\n        setShowModal(false);\n      })\n      .on(\"restriction-failed\", (file, error) => {\n        console.error(\"Restriction failed:\", error);\n        toast({\n          variant: \"destructive\",\n          title: \"File Restriction Error\",\n          description: error.message || \"File does not meet requirements.\",\n        });\n      })\n      .on(\"upload-error\", (file, error) => {\n        console.error(\"Upload error:\", file?.name, error);\n        toast({\n          variant: \"destructive\",\n          title: \"Upload Failed\",\n          description: `Failed to upload ${file?.name || \"file\"}. ${error.message || \"Please try again.\"}`,\n        });\n      })\n      .on(\"error\", (error) => {\n        console.error(\"Uppy error:\", error);\n        toast({\n          variant: \"destructive\",\n          title: \"Upload Error\",\n          description: error.message || \"An error occurred during upload.\",\n        });\n      });\n    \n    return uppyInstance;\n  });\n  \n  useEffect(() => {\n    if (showModal) {\n      console.log(\"Modal opened, Uppy state:\", {\n        totalProgress: uppy.getState().totalProgress,\n        files: uppy.getFiles(),\n        capabilities: uppy.getState().capabilities,\n      });\n    }\n  }, [showModal, uppy]);\n\n  return (\n    <div>\n      <Button \n        onClick={() => {\n          console.log(\"Upload button clicked, opening modal...\");\n          setShowModal(true);\n        }} \n        className={buttonClassName}\n        disabled={disabled}\n        type=\"button\"\n      >\n        {children}\n      </Button>\n\n      <DashboardModal\n        uppy={uppy}\n        open={showModal}\n        onRequestClose={() => setShowModal(false)}\n        proudlyDisplayPoweredByUppy={false}\n        disabled={false}\n        note={allowedFileTypes ? `Allowed: ${allowedFileTypes.join(\", \")}. Max size: ${Math.round((maxFileSize || 5242880) / 1024 / 1024)}MB` : undefined}\n      />\n    </div>\n  );\n}","path":null,"size_bytes":6181,"size_tokens":null},"client/src/components/ui/navigation-menu.tsx":{"content":"import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto \",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n","path":null,"size_bytes":5128,"size_tokens":null},"client/src/components/AnimatedButton.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { Button } from \"@/components/ui/button\";\nimport { ReactNode } from \"react\";\n\ninterface AnimatedButtonProps {\n  children: ReactNode;\n  onClick?: () => void;\n  className?: string;\n  variant?: \"default\" | \"destructive\" | \"outline\" | \"secondary\" | \"ghost\" | \"link\";\n  size?: \"default\" | \"sm\" | \"lg\" | \"icon\";\n  type?: \"button\" | \"submit\" | \"reset\";\n  disabled?: boolean;\n}\n\nexport default function AnimatedButton({\n  children,\n  onClick,\n  className,\n  variant = \"default\",\n  size = \"default\",\n  type = \"button\",\n  disabled = false\n}: AnimatedButtonProps) {\n  return (\n    <motion.div\n      whileHover={{ scale: 1.02 }}\n      whileTap={{ scale: 0.98 }}\n      transition={{ type: \"spring\", stiffness: 400, damping: 25 }}\n    >\n      <Button\n        onClick={onClick}\n        className={className}\n        variant={variant}\n        size={size}\n        type={type}\n        disabled={disabled}\n      >\n        {children}\n      </Button>\n    </motion.div>\n  );\n}","path":null,"size_bytes":1001,"size_tokens":null},"client/src/components/ui/drawer.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n","path":null,"size_bytes":3021,"size_tokens":null},"client/src/components/ui/breadcrumb.tsx":{"content":"import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-foreground\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:w-3.5 [&>svg]:h-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n","path":null,"size_bytes":2712,"size_tokens":null},"client/src/components/ui/command.tsx":{"content":"import * as React from \"react\"\nimport { type DialogProps } from \"@radix-ui/react-dialog\"\nimport { Command as CommandPrimitive } from \"cmdk\"\nimport { Search } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\nCommand.displayName = CommandPrimitive.displayName\n\nconst CommandDialog = ({ children, ...props }: DialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  </div>\n))\n\nCommandInput.displayName = CommandPrimitive.Input.displayName\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n))\n\nCommandList.displayName = CommandPrimitive.List.displayName\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm\"\n    {...props}\n  />\n))\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 h-px bg-border\", className)}\n    {...props}\n  />\n))\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n      className\n    )}\n    {...props}\n  />\n))\n\nCommandItem.displayName = CommandPrimitive.Item.displayName\n\nconst CommandShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-muted-foreground\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nCommandShortcut.displayName = \"CommandShortcut\"\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n}\n","path":null,"size_bytes":4885,"size_tokens":null},"client/src/components/FeaturedArtisans.tsx":{"content":"import { motion } from \"framer-motion\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Link } from \"wouter\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { MapPin, Phone, Mail, User } from \"lucide-react\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function FeaturedArtisans() {\n  const { data: artisans, isLoading } = useQuery<Artisan[]>({\n    queryKey: [\"/api/artisans\"],\n  });\n\n  if (isLoading) {\n    return (\n      <section className=\"py-16 lg:py-24 bg-gray-soft\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"text-center mb-16\">\n            <h3 className=\"text-3xl md:text-4xl font-bold text-black-soft mb-4\">Featured Artisans</h3>\n            <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n              Premium professionals who have earned their place in our spotlight\n            </p>\n          </div>\n\n          <div className=\"grid md:grid-cols-3 gap-8\">\n            {[...Array(3)].map((_, i) => (\n              <Card key={i} className=\"shadow-sm\">\n                <CardContent className=\"p-6\">\n                  <div className=\"flex items-center mb-4\">\n                    <Skeleton className=\"w-16 h-16 rounded-full mr-4\" />\n                    <div className=\"space-y-2\">\n                      <Skeleton className=\"h-4 w-24\" />\n                      <Skeleton className=\"h-3 w-16\" />\n                    </div>\n                  </div>\n                  <Skeleton className=\"h-4 w-full mb-2\" />\n                  <Skeleton className=\"h-4 w-3/4 mb-4\" />\n                  <Skeleton className=\"h-10 w-full\" />\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        </div>\n      </section>\n    );\n  }\n\n  const featuredArtisans = artisans?.filter(artisan => artisan.isFeatured) || [];\n\n  const containerVariants = {\n    hidden: {},\n    visible: {\n      transition: {\n        staggerChildren: 0.2\n      }\n    }\n  };\n\n  const cardVariants = {\n    hidden: { \n      opacity: 0, \n      y: 50,\n      scale: 0.9\n    },\n    visible: { \n      opacity: 1, \n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.6,\n        ease: \"easeOut\"\n      }\n    }\n  };\n\n  return (\n    <section className=\"py-16 lg:py-24 bg-black\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <motion.div \n          className=\"text-center mb-16\"\n          initial={{ opacity: 0, y: 30 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n        >\n          <motion.h3 \n            className=\"text-3xl md:text-4xl font-bold text-gold mb-4\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            viewport={{ once: true }}\n          >\n            Featured Artisans\n          </motion.h3>\n          <motion.p \n            className=\"text-xl text-white/80 max-w-2xl mx-auto\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            viewport={{ once: true }}\n          >\n            Premium professionals who have earned their place in our spotlight\n          </motion.p>\n        </motion.div>\n\n        <motion.div \n          className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8 mb-12 overflow-hidden w-full\"\n          variants={containerVariants}\n          initial=\"hidden\"\n          whileInView=\"visible\"\n          viewport={{ once: true, amount: 0.2 }}\n        >\n          {featuredArtisans.map((artisan) => (\n            <motion.div\n              key={artisan.id}\n              variants={cardVariants}\n              whileHover={{\n                scale: 1.02,\n                y: -3,\n                transition: { duration: 0.2 }\n              }}\n            >\n              <Card className=\"bg-black shadow-xl border-2 border-gold/80 hover:border-gold transition-all duration-300 h-full rounded-xl\">\n              <CardContent className=\"p-6 flex flex-col h-full\">\n                {/* Profile Image with Featured Badge */}\n                <div className=\"flex items-start gap-3 mb-4\">\n                  <div className=\"relative flex-shrink-0\">\n                    <div className=\"w-24 h-24 rounded-full overflow-hidden bg-gradient-to-br from-gold to-gold-dark border-2 border-gold/50\">\n                      {artisan.profileImage ? (\n                        <img src={artisan.profileImage} alt={`${artisan.firstName} ${artisan.lastName}`} className=\"w-full h-full object-cover\" />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center\">\n                          <User className=\"w-12 h-12 text-black/80\" />\n                        </div>\n                      )}\n                    </div>\n                    {artisan.subscriptionTier === 'premium' && (\n                      <div className=\"absolute -top-1 -right-1 w-5 h-5 bg-gold rounded-full border-2 border-black flex items-center justify-center\">\n                        <span className=\"text-[10px] font-bold text-black\">P</span>\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center gap-2 mb-1\">\n                      <h4 className=\"font-bold text-lg text-gold truncate\">\n                        {artisan.firstName} {artisan.lastName}\n                      </h4>\n                      {(artisan.subscriptionTier === 'verified' || artisan.subscriptionTier === 'premium') && (\n                        <Badge className=\"bg-gold text-black font-semibold text-xs px-2 py-0.5 rounded-full\">\n                          Featured\n                        </Badge>\n                      )}\n                    </div>\n                    <p className=\"text-white/70 text-sm\">\n                      {artisan.services.map(s => {\n                        const serviceMap: Record<string, string> = {\n                          'builders': 'Builder',\n                          'plumbers': 'Plumber',\n                          'electricians': 'Electrician',\n                          'carpenters': 'Carpenter',\n                          'tilers': 'Tiler',\n                          'painters': 'Painter',\n                          'cleaners': 'Cleaner',\n                          'landscapers': 'Landscaper',\n                          'mechanics': 'Mechanic'\n                        };\n                        return serviceMap[s] || s.charAt(0).toUpperCase() + s.slice(1);\n                      }).join(', ')}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Location */}\n                <div className=\"flex items-center gap-1 text-white/70 mb-3\">\n                  <MapPin className=\"w-4 h-4 text-gold flex-shrink-0\" />\n                  <span className=\"text-sm\">{artisan.location}</span>\n                </div>\n\n                {/* Description */}\n                <p className=\"text-white/80 text-sm mb-4 line-clamp-3 flex-grow leading-relaxed\">\n                  {artisan.yearsExperience && `${artisan.yearsExperience}+ years experience in `}\n                  {artisan.description}\n                </p>\n\n                {/* Contact Information */}\n                <div className=\"space-y-2 mb-4 text-sm\">\n                  <div className=\"flex items-center gap-2 text-white/70\">\n                    <Phone className=\"w-4 h-4 text-gold flex-shrink-0\" />\n                    <span className=\"truncate\">{artisan.phone}</span>\n                  </div>\n                  <div className=\"flex items-center gap-2 text-white/70\">\n                    <Mail className=\"w-4 h-4 text-gold flex-shrink-0\" />\n                    <span className=\"truncate text-xs\">{artisan.email}</span>\n                  </div>\n                </div>\n\n                {/* Action Buttons */}\n                <div className=\"flex flex-col gap-2 mt-auto\">\n                  <a href={`tel:${artisan.phone}`} className=\"w-full\" data-testid={`button-call-${artisan.id}`}>\n                    <Button className=\"w-full bg-gold hover:bg-gold-dark text-black font-bold text-sm py-2.5 rounded-lg\">\n                      Call Now\n                    </Button>\n                  </a>\n                  <a href={`mailto:${artisan.email}`} className=\"w-full\" data-testid={`button-email-${artisan.id}`}>\n                    <Button variant=\"outline\" className=\"w-full border-gold/30 text-white hover:bg-gold/10 hover:border-gold font-semibold text-sm py-2.5 rounded-lg bg-black\">\n                      Email\n                    </Button>\n                  </a>\n                </div>\n              </CardContent>\n              </Card>\n            </motion.div>\n          ))}\n        </motion.div>\n\n        <motion.div \n          className=\"text-center\"\n          initial={{ opacity: 0 }}\n          whileInView={{ opacity: 1 }}\n          transition={{ duration: 0.6, delay: 0.8 }}\n          viewport={{ once: true }}\n        >\n          <Link href=\"/contact\">\n            <span className=\"text-gold hover:text-yellow-400 underline font-semibold transition-colors\">\n              Contact us to be featured here\n            </span>\n          </Link>\n        </motion.div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":9548,"size_tokens":null},"client/src/components/ui/progress.tsx":{"content":"\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n","path":null,"size_bytes":791,"size_tokens":null},"client/src/components/ui/slider.tsx":{"content":"import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n","path":null,"size_bytes":1077,"size_tokens":null},"client/src/hooks/use-toast.ts":{"content":"import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n","path":null,"size_bytes":3895,"size_tokens":null},"client/src/pages/BulkArtisanImport.tsx":{"content":"import { useState } from \"react\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Upload, Download, CheckCircle, AlertCircle } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport type { InsertArtisan } from \"@shared/schema\";\n\nexport default function BulkArtisanImport() {\n  const [csvData, setCsvData] = useState(\"\");\n  const [importResults, setImportResults] = useState<{ success: number; errors: string[] } | null>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const importMutation = useMutation({\n    mutationFn: async (artisans: InsertArtisan[]) => {\n      const results = { success: 0, errors: [] as string[] };\n      \n      for (let i = 0; i < artisans.length; i++) {\n        try {\n          await apiRequest(\"POST\", `/api/artisans`, artisans[i]);\n          results.success++;\n        } catch (error) {\n          results.errors.push(`Row ${i + 2}: ${error instanceof Error ? error.message : 'Unknown error'}`);\n        }\n      }\n      \n      return results;\n    },\n    onSuccess: (results) => {\n      setImportResults(results);\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n      \n      if (results.success > 0) {\n        toast({\n          title: \"Import completed\",\n          description: `Successfully imported ${results.success} artisan(s)`,\n        });\n      }\n      \n      if (results.errors.length > 0) {\n        toast({\n          title: \"Some imports failed\",\n          description: `${results.errors.length} artisan(s) failed to import`,\n          variant: \"destructive\",\n        });\n      }\n    },\n    onError: () => {\n      toast({\n        title: \"Import failed\",\n        description: \"There was an error processing the bulk import\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const parseCsvData = (csv: string): InsertArtisan[] => {\n    const lines = csv.trim().split('\\n');\n    const headers = lines[0].split(',').map(h => h.trim());\n    \n    return lines.slice(1).map(line => {\n      const values = line.split(',').map(v => v.trim().replace(/^\"|\"$/g, ''));\n      const artisan: any = {};\n      \n      headers.forEach((header, index) => {\n        const value = values[index] || '';\n        \n        switch (header.toLowerCase()) {\n          case 'firstname':\n          case 'first_name':\n            artisan.firstName = value;\n            break;\n          case 'lastname':\n          case 'last_name':\n            artisan.lastName = value;\n            break;\n          case 'email':\n            artisan.email = value;\n            break;\n          case 'phone':\n            artisan.phone = value;\n            break;\n          case 'location':\n            artisan.location = value;\n            break;\n          case 'services':\n            artisan.services = value.split(';').map(s => s.trim()).filter(Boolean);\n            break;\n          case 'description':\n            artisan.description = value;\n            break;\n          case 'yearsexperience':\n          case 'years_experience':\n            artisan.yearsExperience = parseInt(value) || 0;\n            break;\n          case 'profileimage':\n          case 'profile_image':\n            artisan.profileImage = value || null;\n            break;\n          case 'portfolio':\n            artisan.portfolio = value ? value.split(';').map(s => s.trim()).filter(Boolean) : [];\n            break;\n          case 'iddocument':\n          case 'id_document':\n            artisan.idDocument = value || null;\n            break;\n          case 'qualificationdocuments':\n          case 'qualification_documents':\n            artisan.qualificationDocuments = value ? value.split(';').map(s => s.trim()).filter(Boolean) : [];\n            break;\n        }\n      });\n      \n      return artisan as InsertArtisan;\n    });\n  };\n\n  const handleImport = () => {\n    if (!csvData.trim()) {\n      toast({\n        title: \"No data provided\",\n        description: \"Please paste CSV data before importing\",\n        variant: \"destructive\",\n      });\n      return;\n    }\n\n    try {\n      const artisans = parseCsvData(csvData);\n      if (artisans.length === 0) {\n        toast({\n          title: \"No valid data\",\n          description: \"No artisan records found in the CSV data\",\n          variant: \"destructive\",\n        });\n        return;\n      }\n\n      importMutation.mutate(artisans);\n    } catch (error) {\n      toast({\n        title: \"Invalid CSV format\",\n        description: \"Please check your CSV data format\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const downloadTemplate = () => {\n    const template = `firstName,lastName,email,phone,location,services,description,yearsExperience,profileImage,portfolio,idDocument,qualificationDocuments\nJohn,Doe,john.doe@email.com,+27 82 123 4567,\"Cape Town, Western Cape\",builders;carpenters,\"Experienced builder with 10+ years in residential construction\",10,JD,\"project1.jpg;project2.jpg\",id_001.pdf,\"cert1.pdf;cert2.pdf\"\nJane,Smith,jane.smith@email.com,+27 83 456 7890,\"Johannesburg, Gauteng\",electricians,\"Certified electrician specializing in smart home installations\",8,JS,portfolio1.jpg,id_002.pdf,electrical_cert.pdf`;\n    \n    const blob = new Blob([template], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'artisan_import_template.csv';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black py-12\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"text-center mb-12\">\n          <h1 className=\"text-4xl font-bold text-black-soft mb-4\">Bulk Artisan Import</h1>\n          <p className=\"text-xl text-gray-600 max-w-2xl mx-auto\">\n            Import multiple artisans at once using CSV data format.\n          </p>\n        </div>\n\n        <div className=\"space-y-8\">\n          {/* Instructions */}\n          <Card>\n            <CardHeader>\n              <CardTitle className=\"flex items-center space-x-2\">\n                <Upload className=\"w-5 h-5\" />\n                <span>Import Instructions</span>\n              </CardTitle>\n              <CardDescription>\n                Follow these steps to import artisan data successfully\n              </CardDescription>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid md:grid-cols-2 gap-6\">\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Required Fields:</h4>\n                  <ul className=\"text-sm text-gray-600 space-y-1\">\n                    <li>â€¢ firstName</li>\n                    <li>â€¢ lastName</li>\n                    <li>â€¢ email (must be unique)</li>\n                    <li>â€¢ phone</li>\n                    <li>â€¢ location</li>\n                    <li>â€¢ services (semicolon separated)</li>\n                    <li>â€¢ description</li>\n                    <li>â€¢ yearsExperience (number)</li>\n                  </ul>\n                </div>\n                <div>\n                  <h4 className=\"font-semibold mb-2\">Optional Fields:</h4>\n                  <ul className=\"text-sm text-gray-600 space-y-1\">\n                    <li>â€¢ profileImage</li>\n                    <li>â€¢ portfolio (semicolon separated)</li>\n                    <li>â€¢ idDocument</li>\n                    <li>â€¢ qualificationDocuments (semicolon separated)</li>\n                  </ul>\n                </div>\n              </div>\n              \n              <div className=\"flex space-x-4\">\n                <Button \n                  variant=\"outline\" \n                  onClick={downloadTemplate}\n                  className=\"flex items-center space-x-2\"\n                >\n                  <Download className=\"w-4 h-4\" />\n                  <span>Download Template</span>\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* CSV Input */}\n          <Card>\n            <CardHeader>\n              <CardTitle>CSV Data</CardTitle>\n              <CardDescription>\n                Paste your CSV data below (include headers in the first row)\n              </CardDescription>\n            </CardHeader>\n            <CardContent>\n              <Textarea\n                placeholder=\"firstName,lastName,email,phone,location,services,description,yearsExperience\nJohn,Doe,john.doe@email.com,+27 82 123 4567,Cape Town,builders,Experienced builder,10\"\n                value={csvData}\n                onChange={(e) => setCsvData(e.target.value)}\n                className=\"min-h-[200px] font-mono text-sm\"\n              />\n              \n              <div className=\"mt-4\">\n                <Button \n                  onClick={handleImport}\n                  disabled={importMutation.isPending || !csvData.trim()}\n                  className=\"bg-green hover:bg-green-dark text-white\"\n                >\n                  {importMutation.isPending ? \"Importing...\" : \"Import Artisans\"}\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Results */}\n          {importResults && (\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"flex items-center space-x-2\">\n                  {importResults.errors.length === 0 ? (\n                    <CheckCircle className=\"w-5 h-5 text-green\" />\n                  ) : (\n                    <AlertCircle className=\"w-5 h-5 text-yellow-600\" />\n                  )}\n                  <span>Import Results</span>\n                </CardTitle>\n              </CardHeader>\n              <CardContent>\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"bg-green/10 text-green-dark px-3 py-1 rounded-full text-sm\">\n                      âœ“ {importResults.success} successful\n                    </div>\n                    {importResults.errors.length > 0 && (\n                      <div className=\"bg-red-100 text-red-800 px-3 py-1 rounded-full text-sm\">\n                        âœ— {importResults.errors.length} failed\n                      </div>\n                    )}\n                  </div>\n                  \n                  {importResults.errors.length > 0 && (\n                    <div>\n                      <h4 className=\"font-semibold mb-2 text-red-800\">Errors:</h4>\n                      <ul className=\"text-sm text-red-600 space-y-1\">\n                        {importResults.errors.map((error, index) => (\n                          <li key={index}>â€¢ {error}</li>\n                        ))}\n                      </ul>\n                    </div>\n                  )}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}","path":null,"size_bytes":11149,"size_tokens":null},"client/src/App.tsx":{"content":"import { Switch, Route } from \"wouter\";\nimport { QueryClientProvider } from \"@tanstack/react-query\";\nimport { queryClient } from \"./lib/queryClient\";\nimport { Toaster } from \"@/components/ui/toaster\";\nimport { TooltipProvider } from \"@/components/ui/tooltip\";\nimport { AnimatePresence } from \"framer-motion\";\nimport CosmicBackground from \"@/components/CosmicBackground\";\nimport PageTransition from \"@/components/PageTransition\";\nimport Home from \"@/pages/Home\";\nimport SearchResults from \"@/pages/SearchResults\";\nimport ArtisanProfile from \"@/pages/ArtisanProfile\";\nimport JoinArtisan from \"@/pages/JoinArtisan\";\nimport ArtisanRegistration from \"@/pages/ArtisanRegistration\";\nimport ArtisanDashboard from \"@/pages/ArtisanDashboard\";\nimport ViewProfiles from \"@/pages/ViewProfiles\";\nimport ArtisanLogin from \"@/pages/ArtisanLogin\";\nimport ArtisanSubscription from \"@/pages/ArtisanSubscription\";\nimport ServiceLanding from \"@/pages/ServiceLanding\";\nimport ContactUs from \"@/pages/ContactUs\";\nimport AdminBulkImport from \"@/pages/AdminBulkImport\";\nimport AdminReview from \"@/pages/AdminReview\";\nimport AdminManagement from \"@/pages/AdminManagement\";\nimport AdminAds from \"@/pages/AdminAds\";\nimport AdminLogin from \"@/pages/AdminLogin\";\nimport NotFound from \"@/pages/not-found\";\n\nfunction Router() {\n  return (\n    <AnimatePresence mode=\"wait\">\n      <Switch>\n        <Route path=\"/\" component={() => <PageTransition><Home /></PageTransition>} />\n        <Route path=\"/search\" component={() => <PageTransition><SearchResults /></PageTransition>} />\n        <Route path=\"/artisan\" component={() => <PageTransition><JoinArtisan /></PageTransition>} />\n        <Route path=\"/register-artisan\" component={() => <PageTransition><ArtisanRegistration /></PageTransition>} />\n        <Route path=\"/artisan/login\" component={() => <PageTransition><ArtisanLogin /></PageTransition>} />\n        <Route path=\"/artisan/dashboard\" component={() => <PageTransition><ArtisanDashboard /></PageTransition>} />\n        <Route path=\"/artisan/:id\" component={() => <PageTransition><ArtisanProfile /></PageTransition>} />\n        <Route path=\"/service/builders\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/plumbers\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/electricians\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/carpenters\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/tilers\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/cleaners\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/landscapers\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/mechanics\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/service/painters\" component={() => <PageTransition><ServiceLanding /></PageTransition>} />\n        <Route path=\"/profiles\" component={() => <PageTransition><ViewProfiles /></PageTransition>} />\n        <Route path=\"/subscription\" component={() => <PageTransition><ArtisanSubscription /></PageTransition>} />\n        <Route path=\"/contact\" component={() => <PageTransition><ContactUs /></PageTransition>} />\n        <Route path=\"/admin/login\" component={() => <PageTransition><AdminLogin /></PageTransition>} />\n        <Route path=\"/admin/bulk-import\" component={() => <PageTransition><AdminBulkImport /></PageTransition>} />\n        <Route path=\"/admin/review\" component={() => <PageTransition><AdminReview /></PageTransition>} />\n        <Route path=\"/admin/manage\" component={() => <PageTransition><AdminManagement /></PageTransition>} />\n        <Route path=\"/admin/ads\" component={() => <PageTransition><AdminAds /></PageTransition>} />\n        <Route component={() => <PageTransition><NotFound /></PageTransition>} />\n      </Switch>\n    </AnimatePresence>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <TooltipProvider>\n        <CosmicBackground />\n        <div className=\"relative z-10 bg-black text-white min-h-screen\">\n          <Toaster />\n          <Router />\n        </div>\n      </TooltipProvider>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","path":null,"size_bytes":4440,"size_tokens":null},"client/src/components/ui/textarea.tsx":{"content":"import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }","path":null,"size_bytes":771,"size_tokens":null},"server/adminAuth.ts":{"content":"import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport crypto from \"crypto\";\nimport nodemailer from \"nodemailer\";\nimport { supabase } from \"./supabase\";\nimport type { AdminUser, InsertAdminUser } from \"@shared/schema\";\nimport type { Request, Response, NextFunction } from \"express\";\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"your-jwt-secret-key\";\nconst EMAIL_FROM = process.env.EMAIL_FROM || \"noreply@skillsconnect.com\";\n\n// Email transporter configuration\nconst transporter = nodemailer.createTransport({\n  host: process.env.SMTP_HOST || \"smtp.gmail.com\",\n  port: 587,\n  secure: false,\n  auth: {\n    user: process.env.SMTP_USER,\n    pass: process.env.SMTP_PASS,\n  },\n});\n\nexport interface AdminAuthService {\n  createAdmin(data: InsertAdminUser): Promise<AdminUser>;\n  verifyEmail(email: string, password: string): Promise<{ user: AdminUser; token?: string; requiresVerification?: boolean }>;\n  verifyToken(token: string): Promise<AdminUser | null>;\n  generateVerificationToken(): string;\n  sendVerificationEmail(email: string, token: string): Promise<void>;\n  verifyEmailToken(token: string): Promise<AdminUser | null>;\n  createGoogleAdmin(googleData: any): Promise<{ user: AdminUser; token: string }>;\n}\n\nclass AdminAuthServiceImpl implements AdminAuthService {\n  async createAdmin(data: InsertAdminUser): Promise<AdminUser> {\n    const hashedPassword = data.password ? await bcrypt.hash(data.password, 12) : null;\n    const verificationToken = this.generateVerificationToken();\n    const verificationExpires = new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(); // 24 hours\n\n    const { data: admin, error } = await supabase\n      .from('admin_users')\n      .insert({\n        ...data,\n        password: hashedPassword,\n        verification_token: verificationToken,\n        verification_expires: verificationExpires,\n        is_verified: false,\n      })\n      .select()\n      .single();\n\n    if (error) {\n      console.error('Error creating admin:', error);\n      throw new Error('Failed to create admin');\n    }\n\n    return admin as AdminUser;\n  }\n\n  async verifyEmail(email: string, password: string): Promise<{ user: AdminUser; token?: string; requiresVerification?: boolean }> {\n    const { data: admin, error } = await supabase\n      .from('admin_users')\n      .select('*')\n      .eq('email', email)\n      .single();\n    \n    if (error || !admin) {\n      throw new Error(\"Invalid credentials\");\n    }\n\n    if (admin.password) {\n      const isValid = await bcrypt.compare(password, admin.password);\n      if (!isValid) {\n        throw new Error(\"Invalid credentials\");\n      }\n    }\n\n    if (!admin.is_verified) {\n      if (!admin.verification_token) {\n        // Generate new verification token\n        const verificationToken = this.generateVerificationToken();\n        const verificationExpires = new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString();\n        \n        await supabase\n          .from('admin_users')\n          .update({ verification_token: verificationToken, verification_expires: verificationExpires })\n          .eq('id', admin.id);\n\n        await this.sendVerificationEmail(admin.email, verificationToken);\n      }\n      \n      return { user: admin as AdminUser, requiresVerification: true };\n    }\n\n    const token = jwt.sign({ adminId: admin.id, email: admin.email }, JWT_SECRET, {\n      expiresIn: \"7d\",\n    });\n\n    // Update last login\n    await supabase\n      .from('admin_users')\n      .update({ last_login: new Date().toISOString() })\n      .eq('id', admin.id);\n\n    return { user: admin as AdminUser, token };\n  }\n\n  async verifyToken(token: string): Promise<AdminUser | null> {\n    try {\n      const decoded = jwt.verify(token, JWT_SECRET) as { adminId: number };\n      const { data: admin } = await supabase\n        .from('admin_users')\n        .select('*')\n        .eq('id', decoded.adminId)\n        .single();\n      \n      return (admin as AdminUser) || null;\n    } catch {\n      return null;\n    }\n  }\n\n  generateVerificationToken(): string {\n    return crypto.randomBytes(32).toString(\"hex\");\n  }\n\n  async sendVerificationEmail(email: string, token: string): Promise<void> {\n    const verificationUrl = `${process.env.BASE_URL || \"http://localhost:5000\"}/api/admin/verify-email?token=${token}`;\n\n    const mailOptions = {\n      from: EMAIL_FROM,\n      to: email,\n      subject: \"Verify Your Admin Account - Skills Connect\",\n      html: `\n        <div style=\"max-width: 600px; margin: 0 auto; padding: 20px; font-family: Arial, sans-serif;\">\n          <div style=\"text-align: center; margin-bottom: 30px;\">\n            <h1 style=\"color: #DAA520; margin: 0;\">Skills Connect</h1>\n            <p style=\"color: #666; margin: 5px 0;\">Admin Account Verification</p>\n          </div>\n          \n          <div style=\"background: #f8f9fa; padding: 30px; border-radius: 10px;\">\n            <h2 style=\"color: #333; margin-top: 0;\">Verify Your Email</h2>\n            <p style=\"color: #666; line-height: 1.6;\">\n              Welcome to Skills Connect! Please verify your email address to complete your admin account setup.\n            </p>\n            \n            <div style=\"text-align: center; margin: 30px 0;\">\n              <a href=\"${verificationUrl}\" \n                 style=\"display: inline-block; background: #DAA520; color: white; padding: 15px 40px; \n                        text-decoration: none; border-radius: 5px; font-weight: bold;\">\n                Verify Email Address\n              </a>\n            </div>\n            \n            <p style=\"color: #999; font-size: 14px; margin-bottom: 0;\">\n              This verification link will expire in 24 hours.\n            </p>\n          </div>\n          \n          <div style=\"text-align: center; margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee;\">\n            <p style=\"color: #999; font-size: 12px; margin: 0;\">\n              If you didn't request this email, you can safely ignore it.\n            </p>\n          </div>\n        </div>\n      `,\n    };\n\n    try {\n      await transporter.sendMail(mailOptions);\n    } catch (error) {\n      console.error(\"Error sending verification email:\", error);\n    }\n  }\n\n  async verifyEmailToken(token: string): Promise<AdminUser | null> {\n    const { data: admin } = await supabase\n      .from('admin_users')\n      .select('*')\n      .eq('verification_token', token)\n      .single();\n\n    if (!admin || !admin.verification_expires) {\n      return null;\n    }\n\n    const expirationDate = new Date(admin.verification_expires);\n    if (expirationDate < new Date()) {\n      return null;\n    }\n\n    const { data: updatedAdmin } = await supabase\n      .from('admin_users')\n      .update({\n        is_verified: true,\n        verification_token: null,\n        verification_expires: null,\n        updated_at: new Date().toISOString(),\n      })\n      .eq('id', admin.id)\n      .select()\n      .single();\n\n    return (updatedAdmin as AdminUser) || null;\n  }\n\n  async createGoogleAdmin(googleData: any): Promise<{ user: AdminUser; token: string }> {\n    // Check if admin already exists\n    const { data: existingAdmin } = await supabase\n      .from('admin_users')\n      .select('*')\n      .eq('google_id', googleData.id)\n      .single();\n\n    let admin: AdminUser;\n\n    if (existingAdmin) {\n      // Update last login\n      const { data: updatedAdmin } = await supabase\n        .from('admin_users')\n        .update({ last_login: new Date().toISOString() })\n        .eq('id', existingAdmin.id)\n        .select()\n        .single();\n      \n      admin = updatedAdmin as AdminUser;\n    } else {\n      // Create new admin with Google data\n      const { data: newAdmin, error } = await supabase\n        .from('admin_users')\n        .insert({\n          email: googleData.email,\n          google_id: googleData.id,\n          first_name: googleData.given_name,\n          last_name: googleData.family_name,\n          profile_image: googleData.picture,\n          is_verified: true, // Google accounts are pre-verified\n        })\n        .select()\n        .single();\n\n      if (error) {\n        console.error('Error creating Google admin:', error);\n        throw new Error('Failed to create admin from Google account');\n      }\n\n      admin = newAdmin as AdminUser;\n    }\n\n    const token = jwt.sign({ adminId: admin.id, email: admin.email }, JWT_SECRET, {\n      expiresIn: \"7d\",\n    });\n\n    return { user: admin, token };\n  }\n}\n\nexport const adminAuthService = new AdminAuthServiceImpl();\n\n// Middleware to verify admin token\nexport async function verifyAdminToken(req: Request, res: Response, next: NextFunction) {\n  try {\n    const authHeader = req.headers.authorization;\n    if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n      return res.status(401).json({ message: \"Unauthorized: No token provided\" });\n    }\n\n    const token = authHeader.split(\" \")[1];\n    const admin = await adminAuthService.verifyToken(token);\n\n    if (!admin) {\n      return res.status(401).json({ message: \"Unauthorized: Invalid token\" });\n    }\n\n    (req as any).admin = admin;\n    next();\n  } catch (error) {\n    console.error(\"Token verification error:\", error);\n    res.status(401).json({ message: \"Unauthorized: Token verification failed\" });\n  }\n}\n\n// Export alias for backward compatibility\nexport { verifyAdminToken as requireAdminAuth };\n","path":null,"size_bytes":9286,"size_tokens":null},"server/artisanAuth.ts":{"content":"import bcrypt from \"bcrypt\";\nimport jwt from \"jsonwebtoken\";\nimport crypto from \"crypto\";\nimport { supabase } from \"./supabase\";\nimport { emailService } from \"./emailService\";\nimport type { Request, Response, NextFunction } from \"express\";\n\nconst JWT_SECRET = process.env.JWT_SECRET || \"artisan-jwt-secret-key\";\nconst SALT_ROUNDS = 12;\n\ninterface AuthResult {\n  success: boolean;\n  token?: string;\n  artisan?: any;\n  message?: string;\n}\n\nclass ArtisanAuthService {\n  generateVerificationToken(): string {\n    return crypto.randomBytes(32).toString('hex');\n  }\n\n  async hashPassword(password: string): Promise<string> {\n    return bcrypt.hash(password, SALT_ROUNDS);\n  }\n\n  async verifyPassword(password: string, hashedPassword: string): Promise<boolean> {\n    return bcrypt.compare(password, hashedPassword);\n  }\n\n  generateJWTToken(artisanId: number, email: string): string {\n    return jwt.sign(\n      { artisanId, email, type: 'artisan' },\n      JWT_SECRET,\n      { expiresIn: '7d' }\n    );\n  }\n\n  verifyJWTToken(token: string): any {\n    try {\n      return jwt.verify(token, JWT_SECRET);\n    } catch (error) {\n      return null;\n    }\n  }\n\n  async registerArtisan(artisanData: any, password: string): Promise<AuthResult> {\n    try {\n      const hashedPassword = await this.hashPassword(password);\n      const verificationToken = this.generateVerificationToken();\n      const verificationExpires = new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString();\n\n      const { data: artisan, error } = await supabase\n        .from('artisans')\n        .insert({\n          ...artisanData,\n          password: hashedPassword,\n          email_verification_token: verificationToken,\n          email_verification_expires: verificationExpires,\n          is_email_verified: false\n        })\n        .select()\n        .single();\n\n      if (error) {\n        console.error(\"Artisan registration error:\", error);\n        throw new Error(\"Registration failed\");\n      }\n\n      await this.sendVerificationEmail(artisan.email, verificationToken, artisan.first_name);\n\n      return {\n        success: true,\n        message: \"Registration successful! Please check your email to verify your account.\"\n      };\n    } catch (error: any) {\n      console.error(\"Artisan registration error:\", error);\n      throw new Error(\"Registration failed\");\n    }\n  }\n\n  async sendVerificationEmail(email: string, token: string, firstName: string): Promise<void> {\n    const verificationUrl = `${process.env.FRONTEND_URL || 'http://localhost:5000'}/artisan/verify-email?token=${token}`;\n    \n    await emailService.sendArtisanEmailVerification({\n      email,\n      firstName,\n      verificationUrl\n    });\n  }\n\n  async verifyEmailToken(token: string): Promise<any> {\n    try {\n      const { data: artisan, error } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('email_verification_token', token)\n        .single();\n\n      if (error || !artisan || !artisan.email_verification_expires) {\n        return null;\n      }\n\n      const expirationDate = new Date(artisan.email_verification_expires);\n      if (expirationDate < new Date()) {\n        return null;\n      }\n\n      const { data: updatedArtisan } = await supabase\n        .from('artisans')\n        .update({\n          is_email_verified: true,\n          email_verification_token: null,\n          email_verification_expires: null,\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', artisan.id)\n        .select()\n        .single();\n\n      return updatedArtisan;\n    } catch (error) {\n      console.error(\"Email verification error:\", error);\n      return null;\n    }\n  }\n\n  async loginArtisan(email: string, password: string): Promise<AuthResult> {\n    try {\n      const { data: artisan, error } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('email', email)\n        .single();\n\n      if (error || !artisan || !artisan.password) {\n        return {\n          success: false,\n          message: \"Invalid email or password\"\n        };\n      }\n\n      const isPasswordValid = await this.verifyPassword(password, artisan.password);\n      if (!isPasswordValid) {\n        return {\n          success: false,\n          message: \"Invalid email or password\"\n        };\n      }\n\n      if (!artisan.is_email_verified) {\n        return {\n          success: false,\n          message: \"Please verify your email address before logging in\"\n        };\n      }\n\n      await supabase\n        .from('artisans')\n        .update({\n          last_login: new Date().toISOString(),\n          updated_at: new Date().toISOString()\n        })\n        .eq('id', artisan.id);\n\n      const token = this.generateJWTToken(artisan.id, artisan.email);\n\n      return {\n        success: true,\n        token,\n        artisan: {\n          id: artisan.id,\n          firstName: artisan.first_name,\n          lastName: artisan.last_name,\n          email: artisan.email,\n          phone: artisan.phone,\n          location: artisan.location,\n          services: artisan.services,\n          verified: artisan.verified,\n          approvalStatus: artisan.approval_status\n        }\n      };\n    } catch (error: any) {\n      console.error(\"Artisan login error:\", error);\n      return {\n        success: false,\n        message: \"Login failed\"\n      };\n    }\n  }\n\n  async getArtisanByToken(token: string): Promise<any> {\n    try {\n      const decoded = this.verifyJWTToken(token);\n      if (!decoded || decoded.type !== 'artisan') {\n        return null;\n      }\n\n      const { data: artisan } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('id', decoded.artisanId)\n        .single();\n\n      return artisan || null;\n    } catch (error) {\n      console.error(\"Get artisan by token error:\", error);\n      return null;\n    }\n  }\n\n  async verifyEmail(token: string): Promise<AuthResult> {\n    try {\n      const { data: artisan, error } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('email_verification_token', token)\n        .single();\n\n      if (error || !artisan) {\n        return {\n          success: false,\n          message: \"Invalid verification token\"\n        };\n      }\n\n      if (artisan.email_verification_expires && new Date(artisan.email_verification_expires) < new Date()) {\n        return {\n          success: false,\n          message: \"Verification token has expired. Please request a new verification email.\"\n        };\n      }\n\n      const { data: updatedArtisan } = await supabase\n        .from('artisans')\n        .update({\n          is_email_verified: true,\n          email_verification_token: null,\n          email_verification_expires: null\n        })\n        .eq('id', artisan.id)\n        .select()\n        .single();\n\n      return {\n        success: true,\n        artisan: updatedArtisan,\n        message: \"Email verified successfully\"\n      };\n    } catch (error) {\n      console.error(\"Email verification error:\", error);\n      return {\n        success: false,\n        message: \"Email verification failed. Please try again.\"\n      };\n    }\n  }\n\n  async handleGoogleOAuth(code: string): Promise<AuthResult> {\n    try {\n      const tokenResponse = await fetch('https://oauth2.googleapis.com/token', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded',\n        },\n        body: new URLSearchParams({\n          client_id: process.env.GOOGLE_CLIENT_ID || '',\n          client_secret: process.env.GOOGLE_CLIENT_SECRET || '',\n          code,\n          grant_type: 'authorization_code',\n          redirect_uri: process.env.REPLIT_DOMAINS \n            ? `https://${process.env.REPLIT_DOMAINS}/api/auth/google/callback`\n            : process.env.GOOGLE_REDIRECT_URI || 'http://localhost:5000/api/auth/google/callback'\n        })\n      });\n\n      if (!tokenResponse.ok) {\n        throw new Error('Failed to exchange code for tokens');\n      }\n\n      const tokens = await tokenResponse.json();\n\n      const userResponse = await fetch('https://www.googleapis.com/oauth2/v2/userinfo', {\n        headers: {\n          Authorization: `Bearer ${tokens.access_token}`\n        }\n      });\n\n      if (!userResponse.ok) {\n        throw new Error('Failed to fetch user info from Google');\n      }\n\n      const googleUser = await userResponse.json();\n\n      const { data: existingArtisan } = await supabase\n        .from('artisans')\n        .select('*')\n        .eq('email', googleUser.email)\n        .single();\n\n      let artisan;\n      if (existingArtisan) {\n        if (!existingArtisan.google_id) {\n          const { data: updated } = await supabase\n            .from('artisans')\n            .update({\n              google_id: googleUser.id,\n              is_email_verified: true\n            })\n            .eq('id', existingArtisan.id)\n            .select()\n            .single();\n          artisan = updated;\n        } else {\n          artisan = existingArtisan;\n        }\n      } else {\n        const { data: newArtisan } = await supabase\n          .from('artisans')\n          .insert({\n            first_name: googleUser.given_name || googleUser.name?.split(' ')[0] || 'Google',\n            last_name: googleUser.family_name || googleUser.name?.split(' ').slice(1).join(' ') || 'User',\n            email: googleUser.email,\n            phone: '',\n            location: '',\n            services: [],\n            description: '',\n            years_experience: 0,\n            google_id: googleUser.id,\n            is_email_verified: true,\n            profile_complete: false\n          })\n          .select()\n          .single();\n        artisan = newArtisan;\n      }\n\n      const token = this.generateJWTToken(artisan.id, artisan.email);\n      const { password, email_verification_token, email_verification_expires, ...safeArtisan } = artisan;\n\n      return {\n        success: true,\n        token,\n        artisan: safeArtisan,\n        message: \"Google authentication successful\"\n      };\n    } catch (error) {\n      console.error(\"Google OAuth error:\", error);\n      return {\n        success: false,\n        message: \"Google authentication failed. Please try again.\"\n      };\n    }\n  }\n}\n\nexport const artisanAuthService = new ArtisanAuthService();\n\nexport const requireArtisanAuth = async (req: Request, res: Response, next: NextFunction) => {\n  try {\n    const authHeader = req.headers.authorization;\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\n      return res.status(401).json({ message: \"No authorization token provided\" });\n    }\n\n    const token = authHeader.substring(7);\n    const artisan = await artisanAuthService.getArtisanByToken(token);\n    \n    if (!artisan) {\n      return res.status(401).json({ message: \"Invalid or expired token\" });\n    }\n\n    (req as any).artisan = artisan;\n    next();\n  } catch (error) {\n    console.error(\"Auth middleware error:\", error);\n    res.status(401).json({ message: \"Authentication failed\" });\n  }\n};\n","path":null,"size_bytes":10922,"size_tokens":null},"client/src/index.css":{"content":"@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* Ensure Uppy modal appears above shadcn dialogs */\n.uppy-Dashboard--modal {\n  z-index: 100000 !important;\n}\n\n/* FIX: The overlay was intercepting pointer events and blocking clicks */\n.uppy-Dashboard-overlay {\n  z-index: 99999 !important;\n  pointer-events: none !important;\n}\n\n:root {\n  /* PERMANENT DARK THEME - Always active for all users */\n  --background: hsl(240, 10%, 3.9%);\n  --foreground: hsl(0, 0%, 98%);\n  --muted: hsl(240, 3.7%, 15.9%);\n  --muted-foreground: hsl(240, 5%, 64.9%);\n  --popover: hsl(240, 10%, 3.9%);\n  --popover-foreground: hsl(0, 0%, 98%);\n  --card: hsl(240, 10%, 3.9%);\n  --card-foreground: hsl(0, 0%, 98%);\n  --border: hsl(240, 3.7%, 15.9%);\n  --input: hsl(240, 3.7%, 15.9%);\n  --primary: hsl(45, 100%, 50%);\n  --primary-foreground: hsl(26, 83.3%, 14.1%);\n  --secondary: hsl(240, 3.7%, 15.9%);\n  --secondary-foreground: hsl(0, 0%, 98%);\n  --accent: hsl(240, 3.7%, 15.9%);\n  --accent-foreground: hsl(0, 0%, 98%);\n  --destructive: hsl(0, 62.8%, 30.6%);\n  --destructive-foreground: hsl(0, 0%, 98%);\n  --ring: hsl(240, 4.9%, 83.9%);\n  --radius: 0.5rem;\n\n  /* Custom Skills Connect colors - Gold & Green Theme */\n  --gold: 45 89% 56%; /* Vibrant royal gold - bright and eye-catching */\n  --gold-dark: 45 89% 46%;\n  --gold-royal: 45 95% 50%;\n  --green: 146 50% 20%; /* #1a4d2e - Deep Forest Green */\n  --green-light: 146 50% 30%;\n  --green-dark: 146 50% 15%;\n  --black-soft: hsl(0, 0%, 10%);\n  --gray-soft: hsl(0, 0%, 97%);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n\n  body {\n    @apply font-sans antialiased bg-background text-foreground;\n  }\n\n  /* Custom utility classes for Skills Connect */\n  .text-gold {\n    color: hsl(var(--gold));\n  }\n  \n  .text-gold-dark {\n    color: hsl(var(--gold-dark));\n  }\n  \n  .bg-gold {\n    background-color: hsl(var(--gold));\n  }\n  \n  .bg-gold-dark {\n    background-color: hsl(var(--gold-dark));\n  }\n  \n  .text-black-soft {\n    color: var(--black-soft);\n  }\n  \n  .bg-black-soft {\n    background-color: var(--black-soft);\n  }\n  \n  .bg-gray-soft {\n    background-color: var(--gray-soft);\n  }\n  \n  .border-gold {\n    border-color: hsl(var(--gold));\n  }\n  \n  .border-green {\n    border-color: hsl(var(--green));\n  }\n  \n  .bg-green {\n    background-color: hsl(var(--green));\n  }\n  \n  .bg-green-dark {\n    background-color: hsl(var(--green-dark));\n  }\n  \n  .text-green {\n    color: hsl(var(--green));\n  }\n  \n  .hover\\:bg-gold:hover {\n    background-color: hsl(var(--gold));\n  }\n  \n  .hover\\:bg-gold-dark:hover {\n    background-color: hsl(var(--gold-dark));\n  }\n  \n  .hover\\:text-gold:hover {\n    color: hsl(var(--gold));\n  }\n  \n  .hover\\:border-gold:hover {\n    border-color: hsl(var(--gold));\n  }\n  \n  .hover\\:border-green:hover {\n    border-color: hsl(var(--green));\n  }\n\n  /* Background overlay utilities */\n  .bg-hero-overlay {\n    background: linear-gradient(135deg, \n      rgba(26, 26, 26, 0.98) 0%, \n      rgba(26, 26, 26, 0.92) 50%, \n      rgba(26, 26, 26, 0.98) 100%);\n  }\n  \n  /* Cosmic animations */\n  @keyframes cosmicFloat {\n    0%, 100% {\n      transform: translateY(0px) translateX(0px) scale(1);\n      opacity: 0.3;\n    }\n    25% {\n      transform: translateY(-20px) translateX(10px) scale(1.1);\n      opacity: 0.7;\n    }\n    50% {\n      transform: translateY(-10px) translateX(-5px) scale(0.9);\n      opacity: 0.5;\n    }\n    75% {\n      transform: translateY(-30px) translateX(15px) scale(1.05);\n      opacity: 0.8;\n    }\n  }\n  \n  @keyframes cosmicGlow {\n    0%, 100% {\n      box-shadow: 0 0 8px rgba(218, 165, 32, 0.4);\n    }\n    50% {\n      box-shadow: 0 0 25px rgba(218, 165, 32, 0.8), 0 0 35px rgba(184, 134, 11, 0.5);\n    }\n  }\n  \n  .cosmic-glow {\n    animation: cosmicGlow 3s ease-in-out infinite;\n  }\n  \n  .cosmic-glow-static {\n    box-shadow: 0 0 15px rgba(218, 165, 32, 0.6), 0 0 25px rgba(184, 134, 11, 0.3);\n    transition: box-shadow 0.3s ease;\n  }\n  \n  .cosmic-glow-static:hover {\n    box-shadow: 0 0 25px rgba(218, 165, 32, 0.8), 0 0 35px rgba(184, 134, 11, 0.5);\n  }\n  \n  .cosmic-selection {\n    transition: all 0.3s ease;\n  }\n  \n  .cosmic-selection:hover {\n    box-shadow: 0 0 20px rgba(218, 165, 32, 0.7), 0 0 30px rgba(184, 134, 11, 0.4);\n    transform: translateY(-2px);\n  }\n  \n  /* Glowing text animation for \"Far East Rand\" */\n  @keyframes textGlow {\n    0%, 100% {\n      text-shadow: 0 0 10px rgba(243, 193, 43, 0.5), 0 0 20px rgba(243, 193, 43, 0.3);\n    }\n    50% {\n      text-shadow: 0 0 20px rgba(243, 193, 43, 0.8), 0 0 30px rgba(243, 193, 43, 0.6), 0 0 40px rgba(243, 193, 43, 0.4);\n    }\n  }\n  \n  .text-glow-pulse {\n    animation: textGlow 2s ease-in-out infinite;\n  }\n\n  /* Modern Futuristic Animations */\n  @keyframes floatingGradient {\n    0% {\n      background-position: 0% 50%;\n    }\n    50% {\n      background-position: 100% 50%;\n    }\n    100% {\n      background-position: 0% 50%;\n    }\n  }\n\n  @keyframes slideInRight {\n    from {\n      opacity: 0;\n      transform: translateX(100px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes slideInLeft {\n    from {\n      opacity: 0;\n      transform: translateX(-100px);\n    }\n    to {\n      opacity: 1;\n      transform: translateX(0);\n    }\n  }\n\n  @keyframes fadeInScale {\n    from {\n      opacity: 0;\n      transform: scale(0.95);\n    }\n    to {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  @keyframes shimmer {\n    0% {\n      background-position: -1000px 0;\n    }\n    100% {\n      background-position: 1000px 0;\n    }\n  }\n\n  @keyframes shimmerGold {\n    0% {\n      filter: drop-shadow(0 0 2px rgba(243, 193, 43, 0.3));\n    }\n    50% {\n      filter: drop-shadow(0 0 15px rgba(243, 193, 43, 0.8)) drop-shadow(0 0 25px rgba(218, 165, 32, 0.6));\n    }\n    100% {\n      filter: drop-shadow(0 0 2px rgba(243, 193, 43, 0.3));\n    }\n  }\n\n  .shimmer-gold {\n    animation: shimmerGold 2.5s ease-in-out infinite;\n  }\n\n  @keyframes shimmerLine {\n    0% {\n      background: linear-gradient(90deg, transparent, transparent);\n    }\n    50% {\n      background: linear-gradient(90deg, transparent, rgba(243, 193, 43, 0.8), transparent);\n    }\n    100% {\n      background: linear-gradient(90deg, transparent, transparent);\n    }\n  }\n\n  .shimmer-line {\n    animation: shimmerLine 2s ease-in-out infinite;\n  }\n\n  @keyframes pulseGlow {\n    0%, 100% {\n      box-shadow: 0 0 10px rgba(243, 193, 43, 0.3), 0 0 20px rgba(26, 77, 46, 0.2);\n    }\n    50% {\n      box-shadow: 0 0 20px rgba(243, 193, 43, 0.6), 0 0 35px rgba(26, 77, 46, 0.4);\n    }\n  }\n\n  @keyframes borderFlow {\n    0% {\n      border-image-source: linear-gradient(90deg, hsl(var(--gold)), transparent, hsl(var(--green)));\n      border-image-slice: 1;\n    }\n    50% {\n      border-image-source: linear-gradient(90deg, hsl(var(--green)), hsl(var(--gold)), hsl(var(--green)));\n      border-image-slice: 1;\n    }\n    100% {\n      border-image-source: linear-gradient(90deg, transparent, hsl(var(--gold)), transparent);\n      border-image-slice: 1;\n    }\n  }\n\n  @keyframes rotateGradient {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  /* Glassmorphism Effect */\n  .glass {\n    background: rgba(255, 255, 255, 0.05);\n    backdrop-filter: blur(10px);\n    -webkit-backdrop-filter: blur(10px);\n    border: 1px solid rgba(255, 255, 255, 0.1);\n  }\n\n  .glass-gold {\n    background: rgba(243, 193, 43, 0.08);\n    backdrop-filter: blur(12px);\n    -webkit-backdrop-filter: blur(12px);\n    border: 1px solid rgba(243, 193, 43, 0.2);\n  }\n\n  /* Modern Card Effects */\n  .card-modern {\n    position: relative;\n    overflow: hidden;\n    transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1);\n  }\n\n  .card-modern::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    right: -50%;\n    width: 100%;\n    height: 100%;\n    background: radial-gradient(circle, rgba(243, 193, 43, 0.1) 0%, transparent 70%);\n    opacity: 0;\n    transition: opacity 0.4s ease;\n    pointer-events: none;\n  }\n\n  .card-modern:hover::before {\n    opacity: 1;\n  }\n\n  .card-modern:hover {\n    transform: translateY(-8px) scale(1.02);\n    box-shadow: 0 20px 40px rgba(243, 193, 43, 0.15);\n  }\n\n  /* Smooth Scrolling */\n  html {\n    scroll-behavior: smooth;\n    scroll-padding-top: 100px;\n  }\n\n  /* Enhanced Button Animations */\n  .btn-modern {\n    position: relative;\n    overflow: hidden;\n    transition: all 0.3s ease;\n  }\n\n  .btn-modern::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: -100%;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\n    transition: left 0.5s ease;\n  }\n\n  .btn-modern:hover::before {\n    left: 100%;\n  }\n\n  .btn-modern:hover {\n    transform: translateY(-3px);\n    box-shadow: 0 10px 25px rgba(243, 193, 43, 0.25);\n  }\n\n  /* Loading Animation */\n  @keyframes modernSpin {\n    to {\n      transform: rotate(360deg);\n    }\n  }\n\n  .animate-modern-spin {\n    animation: modernSpin 2s linear infinite;\n  }\n\n  /* Gradient Text Animation */\n  .gradient-text {\n    background: linear-gradient(135deg, hsl(var(--gold)), hsl(var(--green)));\n    -webkit-background-clip: text;\n    -webkit-text-fill-color: transparent;\n    background-clip: text;\n    animation: floatingGradient 3s ease infinite;\n    background-size: 200% 200%;\n  }\n\n  /* Enhanced Link Animation */\n  .link-modern {\n    position: relative;\n    text-decoration: none;\n    transition: color 0.3s ease;\n  }\n\n  .link-modern::after {\n    content: '';\n    position: absolute;\n    bottom: -4px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    background: linear-gradient(90deg, hsl(var(--gold)), hsl(var(--green)));\n    transition: width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  }\n\n  .link-modern:hover::after {\n    width: 100%;\n  }\n\n  /* Animated Border */\n  .border-animated {\n    position: relative;\n    border: 2px solid transparent;\n    background-image: \n      linear-gradient(black, black),\n      linear-gradient(135deg, hsl(var(--gold)), hsl(var(--green)));\n    background-origin: border-box;\n    background-clip: content-box, border-box;\n    animation: borderFlow 3s ease infinite;\n  }\n\n  /* Floating Animation for Elements */\n  .float-animation {\n    animation: floatSmooth 4s ease-in-out infinite;\n  }\n\n  @keyframes floatSmooth {\n    0%, 100% {\n      transform: translateY(0px);\n    }\n    50% {\n      transform: translateY(-15px);\n    }\n  }\n\n  /* Stagger Animation */\n  .stagger-children > * {\n    animation: fadeInScale 0.6s ease forwards;\n  }\n\n  .stagger-children > :nth-child(1) { animation-delay: 0.1s; }\n  .stagger-children > :nth-child(2) { animation-delay: 0.2s; }\n  .stagger-children > :nth-child(3) { animation-delay: 0.3s; }\n  .stagger-children > :nth-child(4) { animation-delay: 0.4s; }\n  .stagger-children > :nth-child(5) { animation-delay: 0.5s; }\n  .stagger-children > :nth-child(6) { animation-delay: 0.6s; }\n\n  /* Hover Lift Effect */\n  .hover-lift {\n    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\n  }\n\n  .hover-lift:hover {\n    transform: translateY(-12px);\n    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);\n  }\n\n  /* Modern Focus State */\n  .focus-ring {\n    outline: none;\n    box-shadow: 0 0 0 3px rgba(243, 193, 43, 0.1), 0 0 0 5px rgba(243, 193, 43, 0.2);\n  }\n\n  /* Text Reveal Animation */\n  @keyframes textReveal {\n    from {\n      opacity: 0;\n      transform: translateY(20px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  .text-reveal {\n    animation: textReveal 0.8s ease forwards;\n  }\n}","path":null,"size_bytes":11484,"size_tokens":null},"client/src/pages/JoinArtisan.tsx":{"content":"import { useState, useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { Link } from \"wouter\";\nimport { ArrowLeft, CheckCircle, Star, Crown, Zap, Users, TrendingUp, Camera, FileText } from \"lucide-react\";\nimport Header from \"@/components/Header\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport FadeInSection from \"@/components/FadeInSection\";\nimport UnverifiedRegistrationForm from \"@/components/UnverifiedRegistrationForm\";\nimport VerifiedApplicationForm from \"@/components/VerifiedApplicationForm\";\n\nexport default function JoinArtisan() {\n  const [selectedPath, setSelectedPath] = useState<'unverified' | 'verified' | null>(null);\n  const formRef = useRef<HTMLDivElement>(null);\n\n  // Auto-scroll to form when a tier is selected\n  useEffect(() => {\n    if (selectedPath && formRef.current) {\n      setTimeout(() => {\n        formRef.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n      }, 100);\n    }\n  }, [selectedPath]);\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <main className=\"py-12\">\n        <div className=\"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <FadeInSection>\n            <div className=\"mb-8\">\n              <Link href=\"/\">\n                <Button variant=\"outline\" className=\"border border-green/30 text-gold hover:bg-gold/10 mb-4\">\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\n                  Back to Home\n                </Button>\n              </Link>\n            </div>\n\n            <div className=\"text-center mb-12\">\n              <h1 className=\"text-5xl font-bold text-gold mb-4\">\n                Join SKILLS CONNECT as an Artisan\n              </h1>\n              <p className=\"text-xl text-white max-w-3xl mx-auto\">\n                Choose the path that's right for you and start connecting with clients today\n              </p>\n            </div>\n\n            {/* Tier Selection Cards */}\n            <div className=\"grid md:grid-cols-2 gap-8 mb-12\">\n              {/* Unverified (Free) Card */}\n              <motion.div\n                initial={{ opacity: 0, x: -20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.5 }}\n                onClick={() => {\n                  setSelectedPath('unverified');\n                }}\n                className=\"cursor-pointer\"\n                data-testid=\"card-unverified\"\n              >\n                <Card className={`h-full border border-green/30 transition-all ${\n                  selectedPath === 'unverified' \n                    ? 'bg-gold/10 shadow-xl' \n                    : 'bg-black hover:shadow-lg'\n                }`}>\n                  <CardHeader className=\"text-center pb-4\">\n                    <div className=\"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <Users className=\"w-8 h-8 text-white/40\" />\n                    </div>\n                    <CardTitle className=\"text-3xl text-gold\">\n                      Unverified Listing\n                    </CardTitle>\n                    <p className=\"text-4xl font-bold text-white mt-2\">FREE</p>\n                    <p className=\"text-sm text-white/80 mt-1\">Get started instantly</p>\n                  </CardHeader>\n                  \n                  <CardContent className=\"pt-2\">\n                    <div className=\"space-y-3 mb-6\">\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <CheckCircle className=\"w-5 h-5 text-white/60\" />\n                        <span>Basic profile listing</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <CheckCircle className=\"w-5 h-5 text-white/60\" />\n                        <span>Contact information display</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <CheckCircle className=\"w-5 h-5 text-white/60\" />\n                        <span>Included in skill categories</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <CheckCircle className=\"w-5 h-5 text-white/60\" />\n                        <span>Profile marked as \"Unverified\"</span>\n                      </div>\n                    </div>\n                    \n                    <Button \n                      className=\"w-full bg-gray-700 hover:bg-gray-600 text-white\"\n                      data-testid=\"button-select-unverified\"\n                    >\n                      Get Started Free\n                    </Button>\n                  </CardContent>\n                </Card>\n              </motion.div>\n\n              {/* Verified Card */}\n              <motion.div\n                initial={{ opacity: 0, x: 20 }}\n                animate={{ opacity: 1, x: 0 }}\n                transition={{ duration: 0.5 }}\n                onClick={() => {\n                  setSelectedPath('verified');\n                }}\n                className=\"cursor-pointer relative\"\n                data-testid=\"card-verified\"\n              >\n                <div className=\"absolute -top-4 left-1/2 transform -translate-x-1/2 z-10\">\n                  <span className=\"bg-gold text-black px-4 py-1 rounded-full text-sm font-bold\">\n                    RECOMMENDED\n                  </span>\n                </div>\n                \n                <Card className={`h-full border border-green/30 transition-all ${\n                  selectedPath === 'verified' \n                    ? 'bg-gold/10 shadow-xl' \n                    : 'bg-black hover:shadow-lg'\n                }`}>\n                  <CardHeader className=\"text-center pb-4\">\n                    <div className=\"w-16 h-16 bg-gold/20 rounded-full flex items-center justify-center mx-auto mb-4\">\n                      <Star className=\"w-8 h-8 text-gold\" />\n                    </div>\n                    <CardTitle className=\"text-3xl text-gold\">\n                      Verified Artisan\n                    </CardTitle>\n                    <p className=\"text-4xl font-bold text-gold mt-2\">R100<span className=\"text-lg\">/month</span></p>\n                    <p className=\"text-sm text-white/80 mt-1\">Build trust with clients</p>\n                  </CardHeader>\n                  \n                  <CardContent className=\"pt-2\">\n                    <div className=\"space-y-3 mb-6\">\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <Star className=\"w-5 h-5 text-gold\" />\n                        <span className=\"font-semibold\">All Unverified features, plus:</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <TrendingUp className=\"w-5 h-5 text-gold\" />\n                        <span><strong>Priority placement</strong> in search results</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <CheckCircle className=\"w-5 h-5 text-gold\" />\n                        <span>Prominent <strong>\"Verified\"</strong> badge</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <Camera className=\"w-5 h-5 text-gold\" />\n                        <span>Detailed profile with photo gallery</span>\n                      </div>\n                      <div className=\"flex items-center gap-3 text-white\">\n                        <FileText className=\"w-5 h-5 text-gold\" />\n                        <span>Access to customer review system</span>\n                      </div>\n                    </div>\n                    \n                    <Button \n                      className=\"w-full bg-gold hover:bg-yellow-600 text-black font-bold\"\n                      data-testid=\"button-select-verified\"\n                    >\n                      Apply for Verification\n                    </Button>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            </div>\n\n            {/* Premium Marketing Tier - Separate section */}\n            <div className=\"mb-12\">\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5, delay: 0.2 }}\n                className=\"max-w-4xl mx-auto\"\n              >\n                <Card className=\"border border-green/30 bg-gradient-to-br from-gold/10 to-black\">\n                  <CardContent className=\"p-8\">\n                    <div className=\"flex items-start gap-6\">\n                      <div className=\"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center flex-shrink-0\">\n                        <Crown className=\"w-8 h-8 text-purple-400\" />\n                      </div>\n                      \n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-3 mb-3\">\n                          <h3 className=\"text-2xl font-bold text-purple-400\">Verified + Marketing</h3>\n                          <span className=\"text-3xl font-bold text-purple-400\">R299<span className=\"text-lg\">/month</span></span>\n                        </div>\n                        \n                        <p className=\"text-white mb-4\">\n                          Everything in Verified tier, plus dedicated marketing support to grow your business\n                        </p>\n                        \n                        <div className=\"grid md:grid-cols-2 gap-3 mb-6\">\n                          <div className=\"flex items-center gap-2 text-white\">\n                            <Zap className=\"w-5 h-5 text-purple-400\" />\n                            <span>Featured placement on homepage</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-white\">\n                            <TrendingUp className=\"w-5 h-5 text-purple-400\" />\n                            <span>Social media promotion</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-white\">\n                            <Star className=\"w-5 h-5 text-purple-400\" />\n                            <span>Email marketing campaigns</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-white\">\n                            <CheckCircle className=\"w-5 h-5 text-purple-400\" />\n                            <span>Priority customer support</span>\n                          </div>\n                        </div>\n                        \n                        <Button \n                          onClick={() => setSelectedPath('verified')}\n                          className=\"bg-purple-500 hover:bg-purple-600 text-white font-bold\"\n                          data-testid=\"button-select-premium\"\n                        >\n                          Apply for Premium Marketing\n                        </Button>\n                      </div>\n                    </div>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            </div>\n\n            {/* Registration Forms */}\n            {selectedPath === 'unverified' && (\n              <motion.div\n                ref={formRef}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.3 }}\n                className=\"max-w-2xl mx-auto\"\n              >\n                <Card className=\"border border-green/30 bg-black\">\n                  <CardHeader>\n                    <CardTitle className=\"text-2xl text-gold\">\n                      Create Your Free Unverified Profile\n                    </CardTitle>\n                    <p className=\"text-white/80\">Fill in the form below to get started instantly</p>\n                  </CardHeader>\n                  <CardContent>\n                    <UnverifiedRegistrationForm />\n                  </CardContent>\n                </Card>\n              </motion.div>\n            )}\n\n            {selectedPath === 'verified' && (\n              <motion.div\n                ref={formRef}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.3 }}\n                className=\"max-w-3xl mx-auto\"\n              >\n                <Card className=\"border border-green/30 bg-black\">\n                  <CardHeader>\n                    <CardTitle className=\"text-2xl text-gold\">\n                      Apply for Verified Status\n                    </CardTitle>\n                    <p className=\"text-white/80\">\n                      Submit your application with supporting documents. We'll review within 2-3 business days.\n                    </p>\n                  </CardHeader>\n                  <CardContent>\n                    <VerifiedApplicationForm />\n                  </CardContent>\n                </Card>\n              </motion.div>\n            )}\n          </FadeInSection>\n        </div>\n      </main>\n    </div>\n  );\n}\n","path":null,"size_bytes":13287,"size_tokens":null},"client/src/components/VerifiedApplicationForm.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { CheckCircle, Upload, FileText } from \"lucide-react\";\n\nconst verifiedSchema = z.object({\n  firstName: z.string().min(2, \"First name must be at least 2 characters\"),\n  lastName: z.string().min(2, \"Last name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().min(10, \"Please enter a valid phone number\"),\n  location: z.string().min(2, \"Please enter your location\"),\n  services: z.array(z.string()).min(1, \"Please select at least one service\"),\n  description: z.string().min(50, \"Please provide a detailed description (minimum 50 characters)\"),\n  yearsExperience: z.number().min(1, \"Please enter years of experience\").max(50, \"Years of experience must be 50 or less\"),\n  subscriptionTier: z.enum([\"verified\", \"premium\"]),\n  idDocument: z.string().optional(),\n  qualificationDocuments: z.array(z.string()).optional(),\n});\n\ntype VerifiedFormData = z.infer<typeof verifiedSchema>;\n\nconst serviceOptions = [\n  { id: \"builders\", label: \"Builder\" },\n  { id: \"plumbers\", label: \"Plumber\" },\n  { id: \"electricians\", label: \"Electrician\" },\n  { id: \"carpenters\", label: \"Carpenter\" },\n  { id: \"tilers\", label: \"Tiler\" },\n  { id: \"cleaners\", label: \"Cleaner\" },\n  { id: \"landscapers\", label: \"Landscaper\" },\n  { id: \"painters\", label: \"Painter\" },\n  { id: \"mechanics\", label: \"Mechanic\" },\n];\n\nconst locations = [\n  \"Springs, Ekurhuleni\", \"Alberton, Ekurhuleni\", \"Benoni, Ekurhuleni\", \"Daveyton, Ekurhuleni\", \"Kwa Thema, Ekurhuleni\", \"Tsakane, Ekurhuleni\",\n  \"Germiston, Ekurhuleni\", \"Boksburg, Ekurhuleni\", \"Kempton Park, Ekurhuleni\", \"Edenvale, Ekurhuleni\",\n  \"Brakpan, Ekurhuleni\", \"Nigel, Ekurhuleni\", \"Tembisa, Ekurhuleni\", \"Duduza, Ekurhuleni\",\n  \"Thokoza, Ekurhuleni\", \"Katlehong, Ekurhuleni\", \"Vosloorus, Ekurhuleni\"\n];\n\nexport default function VerifiedApplicationForm() {\n  const { toast } = useToast();\n  const [isSuccess, setIsSuccess] = useState(false);\n  const [uploadedIdDoc, setUploadedIdDoc] = useState<string>(\"\");\n  const [uploadedQualDocs, setUploadedQualDocs] = useState<string[]>([]);\n\n  const form = useForm<VerifiedFormData>({\n    resolver: zodResolver(verifiedSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      location: \"\",\n      services: [],\n      description: \"\",\n      yearsExperience: 1,\n      subscriptionTier: \"verified\",\n      idDocument: \"\",\n      qualificationDocuments: [],\n    },\n  });\n\n  const submitMutation = useMutation({\n    mutationFn: async (data: VerifiedFormData) => {\n      return await apiRequest(\"POST\", \"/api/artisans/verified\", {\n        ...data,\n        verified: false, // Will be set to true upon admin approval\n        approvalStatus: \"pending\",\n        verificationStatus: \"pending\",\n      });\n    },\n    onSuccess: () => {\n      setIsSuccess(true);\n      toast({\n        title: \"Application Submitted Successfully!\",\n        description: \"We'll review your application within 2-3 business days and contact you via email.\",\n      });\n      form.reset();\n      setUploadedIdDoc(\"\");\n      setUploadedQualDocs([]);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Submission Failed\",\n        description: error.message || \"An error occurred. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: VerifiedFormData) => {\n    const submissionData = {\n      ...data,\n      idDocument: uploadedIdDoc,\n      qualificationDocuments: uploadedQualDocs,\n    };\n    submitMutation.mutate(submissionData);\n  };\n\n  const handleFileUpload = async (file: File, type: 'id' | 'qualification') => {\n    try {\n      // Get upload URL from backend\n      const response: any = await apiRequest(\"POST\", \"/api/documents/upload\", { documentType: type });\n      const { uploadURL } = response;\n\n      // Upload file to the provided URL\n      await fetch(uploadURL, {\n        method: 'PUT',\n        body: file,\n        headers: {\n          'Content-Type': file.type,\n        },\n      });\n\n      // Extract the document path from the upload URL\n      const urlParts = new URL(uploadURL);\n      const documentPath = urlParts.pathname;\n\n      if (type === 'id') {\n        setUploadedIdDoc(documentPath);\n        toast({\n          title: \"ID Document Uploaded\",\n          description: \"Your ID document has been uploaded successfully.\",\n        });\n      } else {\n        setUploadedQualDocs([...uploadedQualDocs, documentPath]);\n        toast({\n          title: \"Qualification Document Uploaded\",\n          description: \"Your qualification document has been uploaded successfully.\",\n        });\n      }\n    } catch (error) {\n      toast({\n        title: \"Upload Failed\",\n        description: \"Failed to upload document. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  if (isSuccess) {\n    return (\n      <div className=\"bg-gradient-to-br from-green to-green-dark/80 border-2 border-gold rounded-lg p-12 text-center\">\n        <div className=\"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-gold\">\n          <CheckCircle className=\"w-14 h-14 text-gold\" />\n        </div>\n        <h3 className=\"text-4xl font-bold text-white mb-6\">âœ“ Application Submitted Successfully!</h3>\n        <p className=\"text-white text-lg mb-4 max-w-md mx-auto font-medium\">\n          Thank you for applying to become a verified artisan. Our team will review your application and supporting documents within 2-3 business days.\n        </p>\n        <p className=\"text-white text-lg mb-8 max-w-md mx-auto font-medium\">\n          We'll contact you via email with the next steps, including payment details once your application is approved.\n        </p>\n        <Button \n          onClick={() => window.location.href = '/'}\n          className=\"bg-gold hover:bg-yellow-400 text-black font-bold text-lg px-8 py-3 rounded-lg shadow-lg\"\n          data-testid=\"button-back-home\"\n        >\n          Back to Home\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        {/* Tier Selection */}\n        <FormField\n          control={form.control}\n          name=\"subscriptionTier\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Select Your Tier *</FormLabel>\n              <FormControl>\n                <RadioGroup\n                  onValueChange={field.onChange}\n                  value={field.value}\n                  className=\"grid md:grid-cols-2 gap-4\"\n                >\n                  <div className={`border border-green/30 rounded-lg p-4 cursor-pointer transition-all ${\n                    field.value === 'verified' ? 'bg-gold/10 shadow-lg' : ''\n                  }`}>\n                    <RadioGroupItem value=\"verified\" id=\"tier-verified\" className=\"sr-only\" />\n                    <label htmlFor=\"tier-verified\" className=\"cursor-pointer\" data-testid=\"radio-tier-verified\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-bold text-gold\">Verified</h4>\n                        <span className=\"text-gold font-bold\">R100/month</span>\n                      </div>\n                      <p className=\"text-sm text-white/80\">Priority placement, verified badge, photo gallery, reviews</p>\n                    </label>\n                  </div>\n\n                  <div className={`border border-green/30 rounded-lg p-4 cursor-pointer transition-all ${\n                    field.value === 'premium' ? 'bg-gold/10 shadow-lg' : ''\n                  }`}>\n                    <RadioGroupItem value=\"premium\" id=\"tier-premium\" className=\"sr-only\" />\n                    <label htmlFor=\"tier-premium\" className=\"cursor-pointer\" data-testid=\"radio-tier-premium\">\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <h4 className=\"font-bold text-purple-400\">Verified + Marketing</h4>\n                        <span className=\"text-purple-400 font-bold\">R299/month</span>\n                      </div>\n                      <p className=\"text-sm text-white/80\">All Verified benefits + marketing support</p>\n                    </label>\n                  </div>\n                </RadioGroup>\n              </FormControl>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <FormField\n            control={form.control}\n            name=\"firstName\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">First Name *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-firstName\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"lastName\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Last Name *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-lastName\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Email Address *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    type=\"email\"\n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-email\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"phone\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Phone Number *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    type=\"tel\"\n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-phone\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        <FormField\n          control={form.control}\n          name=\"location\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Location *</FormLabel>\n              <Select onValueChange={field.onChange} value={field.value}>\n                <FormControl>\n                  <SelectTrigger className=\"bg-zinc-800 border border-green/30 text-white\" data-testid=\"select-location\">\n                    <SelectValue placeholder=\"Select your location\" />\n                  </SelectTrigger>\n                </FormControl>\n                <SelectContent className=\"bg-zinc-800 border border-green/30 text-white\">\n                  {locations.map((location) => (\n                    <SelectItem key={location} value={location} className=\"text-white focus:bg-gold/20 focus:text-white\">\n                      {location}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"services\"\n          render={() => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Services Offered *</FormLabel>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2\">\n                {serviceOptions.map((service) => (\n                  <FormField\n                    key={service.id}\n                    control={form.control}\n                    name=\"services\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex items-center space-x-2 space-y-0\">\n                        <FormControl>\n                          <Checkbox\n                            checked={field.value?.includes(service.id)}\n                            onCheckedChange={(checked) => {\n                              const updatedValue = checked\n                                ? [...(field.value || []), service.id]\n                                : (field.value || []).filter((val) => val !== service.id);\n                              field.onChange(updatedValue);\n                            }}\n                            className=\"border border-green/30\"\n                            data-testid={`checkbox-service-${service.id}`}\n                          />\n                        </FormControl>\n                        <FormLabel className=\"text-sm text-white font-normal cursor-pointer\">\n                          {service.label}\n                        </FormLabel>\n                      </FormItem>\n                    )}\n                  />\n                ))}\n              </div>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"yearsExperience\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Years of Experience *</FormLabel>\n              <FormControl>\n                <Input \n                  {...field} \n                  type=\"number\"\n                  min={1}\n                  max={50}\n                  onChange={(e) => field.onChange(parseInt(e.target.value) || 1)}\n                  className=\"bg-zinc-800 border border-green/30 text-white\"\n                  data-testid=\"input-yearsExperience\"\n                />\n              </FormControl>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Detailed Description *</FormLabel>\n              <FormControl>\n                <Textarea \n                  {...field} \n                  rows={6}\n                  placeholder=\"Tell clients about your experience, specializations, and what makes you stand out...\"\n                  className=\"bg-zinc-800 border border-green/30 text-white\"\n                  data-testid=\"textarea-description\"\n                />\n              </FormControl>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        {/* Document Uploads */}\n        <div className=\"space-y-4\">\n          <h3 className=\"text-lg font-semibold text-gold\">Supporting Documents</h3>\n          \n          <div className=\"space-y-2\">\n            <label className=\"text-white\">ID Document (Optional)</label>\n            <div className=\"flex items-center gap-4\">\n              <Input \n                type=\"file\"\n                accept=\".pdf,.jpg,.jpeg,.png\"\n                onChange={(e) => {\n                  const file = e.target.files?.[0];\n                  if (file) handleFileUpload(file, 'id');\n                }}\n                className=\"bg-zinc-800 border border-green/30 text-white\"\n                data-testid=\"input-id-document\"\n              />\n              {uploadedIdDoc && (\n                <FileText className=\"w-6 h-6 text-green\" />\n              )}\n            </div>\n            <p className=\"text-xs text-white/60\">Upload a copy of your ID (PDF, JPG, or PNG, max 5MB)</p>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-white\">Qualification Documents (Optional)</label>\n            <div className=\"flex items-center gap-4\">\n              <Input \n                type=\"file\"\n                accept=\".pdf,.jpg,.jpeg,.png\"\n                onChange={(e) => {\n                  const file = e.target.files?.[0];\n                  if (file) handleFileUpload(file, 'qualification');\n                }}\n                className=\"bg-zinc-800 border border-green/30 text-white\"\n                data-testid=\"input-qualification-documents\"\n              />\n              {uploadedQualDocs.length > 0 && (\n                <span className=\"text-green\">{uploadedQualDocs.length} file(s) uploaded</span>\n              )}\n            </div>\n            <p className=\"text-xs text-white/60\">Upload certificates, licenses, or proof of past work</p>\n          </div>\n        </div>\n\n        <div className=\"bg-yellow-900/20 border border-yellow-600/30 rounded-lg p-4\">\n          <p className=\"text-sm text-yellow-200\">\n            <strong>Note:</strong> Once approved, payment details will be sent to you via email. All payments are handled offline for now.\n          </p>\n        </div>\n\n        <Button \n          type=\"submit\" \n          className=\"w-full bg-gold hover:bg-yellow-600 text-black font-bold py-3 text-lg\"\n          disabled={submitMutation.isPending}\n          data-testid=\"button-submit-verified\"\n        >\n          {submitMutation.isPending ? \"Submitting Application...\" : \"Submit Application for Review\"}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n","path":null,"size_bytes":18726,"size_tokens":null},"client/src/components/UnverifiedRegistrationForm.tsx":{"content":"import { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { CheckCircle } from \"lucide-react\";\n\nconst unverifiedSchema = z.object({\n  firstName: z.string().min(2, \"First name must be at least 2 characters\"),\n  lastName: z.string().min(2, \"Last name must be at least 2 characters\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  phone: z.string().min(10, \"Please enter a valid phone number\"),\n  location: z.string().min(2, \"Please enter your location\"),\n  services: z.array(z.string()).min(1, \"Please select at least one service\"),\n  description: z.string().min(20, \"Please provide a brief description (minimum 20 characters)\"),\n  yearsExperience: z.number().min(0, \"Please enter years of experience\").max(50, \"Years of experience must be 50 or less\"),\n});\n\ntype UnverifiedFormData = z.infer<typeof unverifiedSchema>;\n\nconst serviceOptions = [\n  { id: \"builders\", label: \"Builder\" },\n  { id: \"plumbers\", label: \"Plumber\" },\n  { id: \"electricians\", label: \"Electrician\" },\n  { id: \"carpenters\", label: \"Carpenter\" },\n  { id: \"tilers\", label: \"Tiler\" },\n  { id: \"cleaners\", label: \"Cleaner\" },\n  { id: \"landscapers\", label: \"Landscaper\" },\n  { id: \"painters\", label: \"Painter\" },\n  { id: \"mechanics\", label: \"Mechanic\" },\n];\n\nconst locations = [\n  \"Springs, Ekurhuleni\", \"Alberton, Ekurhuleni\", \"Benoni, Ekurhuleni\", \"Daveyton, Ekurhuleni\", \"Kwa Thema, Ekurhuleni\", \"Tsakane, Ekurhuleni\",\n  \"Germiston, Ekurhuleni\", \"Boksburg, Ekurhuleni\", \"Kempton Park, Ekurhuleni\", \"Edenvale, Ekurhuleni\",\n  \"Brakpan, Ekurhuleni\", \"Nigel, Ekurhuleni\", \"Tembisa, Ekurhuleni\", \"Duduza, Ekurhuleni\",\n  \"Thokoza, Ekurhuleni\", \"Katlehong, Ekurhuleni\", \"Vosloorus, Ekurhuleni\"\n];\n\nexport default function UnverifiedRegistrationForm() {\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n  const [isSuccess, setIsSuccess] = useState(false);\n\n  const form = useForm<UnverifiedFormData>({\n    resolver: zodResolver(unverifiedSchema),\n    defaultValues: {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phone: \"\",\n      location: \"\",\n      services: [],\n      description: \"\",\n      yearsExperience: 1,\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: UnverifiedFormData) => {\n      return await apiRequest(\"POST\", \"/api/artisans/unverified\", {\n        ...data,\n        verified: false,\n        subscriptionTier: \"unverified\",\n        approvalStatus: \"approved\", // Unverified profiles are auto-approved\n      });\n    },\n    onSuccess: (response) => {\n      setIsSuccess(true);\n      toast({\n        title: \"Profile Created Successfully!\",\n        description: \"Your unverified artisan profile is now live. You can start receiving inquiries from clients.\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n      form.reset();\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Registration Failed\",\n        description: error.message || \"An error occurred. Please try again.\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: UnverifiedFormData) => {\n    createMutation.mutate(data);\n  };\n\n  if (isSuccess) {\n    return (\n      <div className=\"bg-gradient-to-br from-green to-green-dark/80 border-2 border-gold rounded-lg p-12 text-center\">\n        <div className=\"w-24 h-24 bg-white/10 rounded-full flex items-center justify-center mx-auto mb-6 border-2 border-gold\">\n          <CheckCircle className=\"w-14 h-14 text-gold\" />\n        </div>\n        <h3 className=\"text-4xl font-bold text-white mb-4\">âœ“ Profile Created Successfully!</h3>\n        <p className=\"text-white text-lg mb-8 max-w-md mx-auto font-medium\">\n          Your unverified artisan profile is now live. Clients can find you and contact you directly.\n        </p>\n        <Button \n          onClick={() => window.location.href = '/profiles'}\n          className=\"bg-gold hover:bg-yellow-400 text-black font-bold text-lg px-8 py-3 rounded-lg shadow-lg\"\n          data-testid=\"button-view-profile\"\n        >\n          View All Profiles\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <FormField\n            control={form.control}\n            name=\"firstName\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">First Name *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-firstName\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"lastName\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Last Name *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-lastName\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        <div className=\"grid md:grid-cols-2 gap-6\">\n          <FormField\n            control={form.control}\n            name=\"email\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Email Address *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    type=\"email\"\n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-email\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n\n          <FormField\n            control={form.control}\n            name=\"phone\"\n            render={({ field }) => (\n              <FormItem>\n                <FormLabel className=\"text-white\">Phone Number *</FormLabel>\n                <FormControl>\n                  <Input \n                    {...field} \n                    type=\"tel\"\n                    className=\"bg-zinc-800 border border-green/30 text-white\"\n                    data-testid=\"input-phone\"\n                  />\n                </FormControl>\n                <FormMessage className=\"text-red-400\" />\n              </FormItem>\n            )}\n          />\n        </div>\n\n        <FormField\n          control={form.control}\n          name=\"location\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Location *</FormLabel>\n              <Select onValueChange={field.onChange} value={field.value}>\n                <FormControl>\n                  <SelectTrigger className=\"bg-zinc-800 border border-green/30 text-white\" data-testid=\"select-location\">\n                    <SelectValue placeholder=\"Select your location\" />\n                  </SelectTrigger>\n                </FormControl>\n                <SelectContent className=\"bg-zinc-800 border border-green/30 text-white\">\n                  {locations.map((location) => (\n                    <SelectItem key={location} value={location} className=\"text-white focus:bg-gold/20 focus:text-white\">\n                      {location}\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"services\"\n          render={() => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Services Offered *</FormLabel>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mt-2\">\n                {serviceOptions.map((service) => (\n                  <FormField\n                    key={service.id}\n                    control={form.control}\n                    name=\"services\"\n                    render={({ field }) => (\n                      <FormItem className=\"flex items-center space-x-2 space-y-0\">\n                        <FormControl>\n                          <Checkbox\n                            checked={field.value?.includes(service.id)}\n                            onCheckedChange={(checked) => {\n                              const updatedValue = checked\n                                ? [...(field.value || []), service.id]\n                                : (field.value || []).filter((val) => val !== service.id);\n                              field.onChange(updatedValue);\n                            }}\n                            className=\"border border-green/30\"\n                            data-testid={`checkbox-service-${service.id}`}\n                          />\n                        </FormControl>\n                        <FormLabel className=\"text-sm text-white font-normal cursor-pointer\">\n                          {service.label}\n                        </FormLabel>\n                      </FormItem>\n                    )}\n                  />\n                ))}\n              </div>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"yearsExperience\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Years of Experience *</FormLabel>\n              <FormControl>\n                <Input \n                  {...field} \n                  type=\"number\"\n                  min={0}\n                  max={50}\n                  onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\n                  className=\"bg-zinc-800 border border-green/30 text-white\"\n                  data-testid=\"input-yearsExperience\"\n                />\n              </FormControl>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"description\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel className=\"text-white\">Brief Description *</FormLabel>\n              <FormControl>\n                <Textarea \n                  {...field} \n                  rows={4}\n                  placeholder=\"Tell clients about yourself and your services...\"\n                  className=\"bg-zinc-800 border border-green/30 text-white\"\n                  data-testid=\"textarea-description\"\n                />\n              </FormControl>\n              <FormMessage className=\"text-red-400\" />\n            </FormItem>\n          )}\n        />\n\n        <Button \n          type=\"submit\" \n          className=\"w-full bg-gold hover:bg-yellow-600 text-black font-bold py-3 text-lg\"\n          disabled={createMutation.isPending}\n          data-testid=\"button-submit-unverified\"\n        >\n          {createMutation.isPending ? \"Creating Profile...\" : \"Create Free Profile\"}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n","path":null,"size_bytes":12096,"size_tokens":null},"server/supabase.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\nconst supabaseServiceKey = process.env.SUPABASE_SERVICE_KEY;\n\nif (!supabaseUrl || !supabaseAnonKey) {\n  throw new Error('Missing Supabase environment variables. Please set SUPABASE_URL and SUPABASE_ANON_KEY in Replit Secrets.');\n}\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);\n\nexport const supabaseAdmin = supabaseServiceKey \n  ? createClient(supabaseUrl, supabaseServiceKey, {\n      auth: {\n        autoRefreshToken: false,\n        persistSession: false\n      }\n    })\n  : supabase;\n","path":null,"size_bytes":664,"size_tokens":null},"design_guidelines.md":{"content":"# Artisan Connect Far East Rand - Design Guidelines\n\n## Design Approach\nPremium marketplace aesthetic inspired by high-end service platforms (Thumbtack, Houzz) with a sophisticated dark theme. Focus on trust-building through professional presentation, clear service categorization, and prominent artisan showcasing.\n\n## Typography\n**Font Stack:** Inter for UI elements, Playfair Display for premium headings\n- **Hero Headline:** Playfair Display, 56px/64px desktop, 36px/42px mobile, weight 700, white (#FFFFFF)\n- **Section Headings:** Playfair Display, 40px/48px desktop, 28px/34px mobile, weight 600, Royal Gold (#DAA520)\n- **Card Titles:** Inter, 24px/32px, weight 600, white\n- **Body Text:** Inter, 16px/24px, weight 400, white with 90% opacity\n- **Button Text:** Inter, 16px/20px, weight 600, uppercase tracking-wide\n- **Labels/Meta:** Inter, 14px/20px, weight 500\n\n## Layout System\n**Spacing Units:** Tailwind scale - consistent use of 4, 6, 8, 12, 16, 24, 32 units\n- **Section Padding:** py-24 desktop, py-16 mobile\n- **Container Max Width:** max-w-7xl with px-6 horizontal padding\n- **Card Spacing:** gap-8 desktop, gap-6 mobile\n- **Component Inner Padding:** p-8 desktop, p-6 mobile\n\n## Component Library\n\n### Hero Section\nFull-viewport hero (min-h-screen) with large background image showing artisan at work. Dark gradient overlay (black to transparent, 70% opacity top to bottom). Centered content with hero headline, subheading (20px Inter, white 80% opacity), and CTA button group. Primary CTA \"Find Artisans\" with blurred background (blur-md, bg-gold/20), gold border (border-2 border-gold), gold text, px-10 py-4. Secondary CTA \"List Your Services\" with similar blur treatment, white border, white text.\n\n### Service Category Grid\n4-column grid desktop (grid-cols-4), 2-column tablet (md:grid-cols-2), single column mobile. Each card: aspect-ratio-square, background image with dark overlay (bg-black/60), rounded-2xl. Hover state: overlay lightens to bg-black/40, scale-105 transform. Content positioned bottom-left with p-6: category icon (40px, gold), category name (24px Inter semibold, white), service count (14px, white 70% opacity).\n\n### Featured Artisan Cards\n3-column grid desktop (lg:grid-cols-3), 2-column tablet (md:grid-cols-2), single column mobile. Card structure: golden border (border-2 border-gold), rounded-3xl, bg-black, p-6. Top section: circular avatar (w-24 h-24 rounded-full, border-4 border-gold/30), name (20px Inter semibold), trade specialty (14px, gold). Middle: 5-star rating system (gold stars, 16px), review count, years of experience badge (bg-gold/10, text-gold, rounded-full px-4 py-2). Bottom: dual CTA buttons side-by-side - \"Call Now\" (bg-gold, text-black, rounded-xl px-6 py-3), \"Email\" (border-2 border-gold, text-gold, same padding).\n\n### Service Highlights Section\nBetween categories and artisans. 3-column feature cards: icon in gold circle (w-16 h-16, bg-gold/10, border border-gold/30), feature title (20px white), description (16px white 80% opacity). Features: \"Verified Professionals\", \"Instant Booking\", \"Satisfaction Guarantee\".\n\n### Trusted Partners Section\n\"Our Trusted Partners\" heading centered. 6-column grid desktop (grid-cols-6), 3-column tablet, 2-column mobile. Cards: square aspect ratio, bg-zinc-900, rounded-xl, p-6, centered content. Partner logo placeholder (grayscale filter), \"Sponsored\" badge top-right (bg-gold/20, text-gold, text-xs, px-3 py-1, rounded-full, absolute top-2 right-2).\n\n### Testimonials Carousel\nFull-width section with bg-zinc-950. Single testimonial display: centered quote (28px Playfair italic, white), customer name and trade (16px Inter, gold), 5-star rating. Navigation dots below (gold active, white/30 inactive).\n\n### Footer\nMulti-column layout: Brand column (logo, \"Far East Rand Home Worx\" in Playfair 24px gold, tagline 14px white 70%), Quick Links column, Service Areas column, Contact column. All column headings 16px Inter semibold gold. Links 14px white 70% with hover:text-gold. Bottom bar: copyright, social icons (gold on hover), trust badges. Background: bg-zinc-950, border-top border-zinc-800.\n\n## Images\n\n**Hero Image:** High-quality photo of skilled craftsperson working (carpenter, metalworker, or artisan in action), warm natural lighting, showing tools and craftsmanship, 1920x1080 minimum. Position: center-center, object-cover.\n\n**Service Category Cards (8 images needed):** \n- Carpentry: close-up of woodworking\n- Plumbing: modern fixtures installation\n- Electrical: professional wiring work\n- Painting: interior painting scene\n- Landscaping: garden transformation\n- Roofing: professional on roof\n- Masonry: brickwork detail\n- General Handyman: toolkit/multiple skills\n\nEach 800x800, bright professional photography with enough negative space for text overlay at bottom-left.\n\n**Artisan Avatars:** Professional headshot photos, circular crop, diverse representation, 400x400.\n\n**Partner Logos:** Monochrome/grayscale company logos, transparent background, 200x200.\n\nAll images optimized for web, WebP format preferred, with fallbacks.","path":null,"size_bytes":5063,"size_tokens":null},"client/src/components/TrustedPartners.tsx":{"content":"import { useState, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { ChevronLeft, ChevronRight } from \"lucide-react\";\nimport type { Advertisement } from \"@shared/schema\";\n\nexport default function TrustedPartners() {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [autoplayPaused, setAutoplayPaused] = useState(false);\n\n  const { data: ads = [] } = useQuery<Advertisement[]>({\n    queryKey: [\"/api/advertisements\"],\n    queryFn: async () => {\n      const response = await fetch(\"/api/advertisements\");\n      if (!response.ok) throw new Error(\"Failed to fetch advertisements\");\n      return response.json();\n    },\n  });\n\n  const activeAds = ads.filter((ad) => ad.isActive);\n\n  // Auto-rotate carousel every 3 seconds\n  useEffect(() => {\n    if (activeAds.length === 0 || autoplayPaused) return;\n    \n    const interval = setInterval(() => {\n      setCurrentIndex((prev) => {\n        const nextIndex = (prev + 1) % activeAds.length;\n        return nextIndex;\n      });\n    }, 3000);\n\n    return () => clearInterval(interval);\n  }, [activeAds.length, autoplayPaused, activeAds]);\n\n  const goToPrevious = () => {\n    setCurrentIndex((prev) => (prev - 1 + activeAds.length) % activeAds.length);\n    setAutoplayPaused(true);\n    setTimeout(() => setAutoplayPaused(false), 8000);\n  };\n\n  const goToNext = () => {\n    setCurrentIndex((prev) => (prev + 1) % activeAds.length);\n    setAutoplayPaused(true);\n    setTimeout(() => setAutoplayPaused(false), 8000);\n  };\n\n  // If no ads, don't render section\n  if (activeAds.length === 0) {\n    return null;\n  }\n\n  const currentAd = activeAds[currentIndex];\n\n  return (\n    <section className=\"py-16 lg:py-24 bg-zinc-950\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <motion.div \n          className=\"text-center mb-12\"\n          initial={{ opacity: 0, y: 30 }}\n          whileInView={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6 }}\n          viewport={{ once: true }}\n        >\n          <motion.h3 \n            className=\"text-3xl md:text-4xl font-bold text-gold mb-4\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.2 }}\n            viewport={{ once: true }}\n          >\n            Featured Partner Opportunities\n          </motion.h3>\n          <motion.p \n            className=\"text-xl text-white/80 max-w-2xl mx-auto\"\n            initial={{ opacity: 0, y: 20 }}\n            whileInView={{ opacity: 1, y: 0 }}\n            transition={{ duration: 0.6, delay: 0.4 }}\n            viewport={{ once: true }}\n          >\n            Discover our featured business partnerships and promotions\n          </motion.p>\n        </motion.div>\n\n        {/* Carousel Container */}\n        <motion.div \n          className=\"relative bg-zinc-900 border-2 border-green/50 rounded-2xl overflow-hidden h-96 group card-modern glass\"\n          initial={{ opacity: 0, y: 20, scale: 0.95 }}\n          whileInView={{ opacity: 1, y: 0, scale: 1 }}\n          transition={{ duration: 0.7, ease: \"easeOut\" }}\n          viewport={{ once: true }}\n          data-testid=\"card-partners-carousel\"\n        >\n          {/* Main Ad Display */}\n          <div className=\"w-full h-full relative\">\n            {currentAd.imageUrl ? (\n              <img\n                src={currentAd.imageUrl}\n                alt={currentAd.title}\n                className=\"w-full h-full object-cover\"\n                data-testid={`img-partner-carousel-${currentAd.id}`}\n              />\n            ) : (\n              <div className=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-gold/10 to-gold-dark/10\">\n                <div className=\"text-center\">\n                  <h3 className=\"text-2xl font-bold text-gold mb-2\">{currentAd.title}</h3>\n                  <p className=\"text-white/80\">{currentAd.description}</p>\n                </div>\n              </div>\n            )}\n\n            {/* Overlay with text for image ads */}\n            {currentAd.imageUrl && (\n              <div className=\"absolute inset-0 bg-black/50 flex items-end p-8\">\n                <div className=\"w-full\">\n                  <h3 className=\"text-2xl font-bold text-gold mb-2\">{currentAd.title}</h3>\n                  <p className=\"text-white/90 mb-4\">{currentAd.description}</p>\n                  \n                  {/* Contact Information */}\n                  <div className=\"flex flex-wrap gap-4 mb-4\">\n                    {currentAd.contactPhone && (\n                      <a\n                        href={`tel:${currentAd.contactPhone}`}\n                        className=\"flex items-center gap-2 text-gold hover:text-gold-dark transition-colors\"\n                        data-testid={`link-phone-${currentAd.id}`}\n                      >\n                        <span className=\"font-semibold\">{currentAd.contactPhone}</span>\n                      </a>\n                    )}\n                    {currentAd.contactEmail && (\n                      <a\n                        href={`mailto:${currentAd.contactEmail}`}\n                        className=\"flex items-center gap-2 text-gold hover:text-gold-dark transition-colors\"\n                        data-testid={`link-email-${currentAd.id}`}\n                      >\n                        <span className=\"font-semibold\">{currentAd.contactEmail}</span>\n                      </a>\n                    )}\n                  </div>\n\n                  {currentAd.linkUrl && (\n                    <a\n                      href={currentAd.linkUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"inline-block bg-gold hover:bg-gold-dark text-black font-semibold px-6 py-2 rounded transition-colors\"\n                      data-testid={`link-partner-${currentAd.id}`}\n                    >\n                      Learn More\n                    </a>\n                  )}\n                </div>\n              </div>\n            )}\n\n            {/* Display contact info for non-image ads */}\n            {!currentAd.imageUrl && (\n              <div className=\"absolute inset-0 bg-gradient-to-br from-gold/10 to-gold-dark/10 flex flex-col items-center justify-center p-8\">\n                <div className=\"text-center max-w-lg\">\n                  <h3 className=\"text-2xl font-bold text-gold mb-3\">{currentAd.title}</h3>\n                  <p className=\"text-white/80 mb-6\">{currentAd.description}</p>\n                  \n                  {/* Contact Information */}\n                  <div className=\"flex flex-col gap-3 mb-6\">\n                    {currentAd.contactPhone && (\n                      <a\n                        href={`tel:${currentAd.contactPhone}`}\n                        className=\"text-gold hover:text-gold-dark font-semibold transition-colors\"\n                        data-testid={`link-phone-${currentAd.id}`}\n                      >\n                        ðŸ“ž {currentAd.contactPhone}\n                      </a>\n                    )}\n                    {currentAd.contactEmail && (\n                      <a\n                        href={`mailto:${currentAd.contactEmail}`}\n                        className=\"text-gold hover:text-gold-dark font-semibold transition-colors\"\n                        data-testid={`link-email-${currentAd.id}`}\n                      >\n                        âœ‰ï¸ {currentAd.contactEmail}\n                      </a>\n                    )}\n                  </div>\n\n                  {currentAd.linkUrl && (\n                    <a\n                      href={currentAd.linkUrl}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"inline-block bg-gold hover:bg-gold-dark text-black font-semibold px-6 py-2 rounded transition-colors\"\n                      data-testid={`link-partner-${currentAd.id}`}\n                    >\n                      Visit Website\n                    </a>\n                  )}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Navigation Buttons */}\n          <button\n            onClick={goToPrevious}\n            className=\"absolute left-4 top-1/2 -translate-y-1/2 bg-gold/80 hover:bg-gold text-black p-3 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 btn-modern hover:scale-110\"\n            aria-label=\"Previous partner\"\n            data-testid=\"button-carousel-prev\"\n          >\n            <ChevronLeft className=\"w-6 h-6\" />\n          </button>\n\n          <button\n            onClick={goToNext}\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 bg-gold/80 hover:bg-gold text-black p-3 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 btn-modern hover:scale-110\"\n            aria-label=\"Next partner\"\n            data-testid=\"button-carousel-next\"\n          >\n            <ChevronRight className=\"w-6 h-6\" />\n          </button>\n\n          {/* Dot Indicators */}\n          <div className=\"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-3 z-10 glass rounded-full px-4 py-2\">\n            {activeAds.map((_, index) => (\n              <motion.button\n                key={index}\n                onClick={() => {\n                  setCurrentIndex(index);\n                  setAutoplayPaused(true);\n                  setTimeout(() => setAutoplayPaused(false), 8000);\n                }}\n                className={`rounded-full transition-all cursor-pointer ${\n                  index === currentIndex\n                    ? \"bg-gold w-6 h-2.5 shadow-lg shadow-gold/50\"\n                    : \"bg-white/40 hover:bg-white/60 w-2 h-2\"\n                }`}\n                whileHover={{ scale: 1.3 }}\n                whileTap={{ scale: 0.9 }}\n                aria-label={`Go to partner ${index + 1}`}\n                data-testid={`button-carousel-dot-${index}`}\n              />\n            ))}\n          </div>\n        </motion.div>\n\n        {/* Ad Counter */}\n        <div className=\"mt-6 text-center text-white/60 text-sm\">\n          Ad {currentIndex + 1} of {activeAds.length}\n        </div>\n      </div>\n    </section>\n  );\n}\n","path":null,"size_bytes":10232,"size_tokens":null},"client/src/pages/AdminManagement.tsx":{"content":"import { useState, useMemo, useRef } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Search, Edit, User, Shield, CheckCircle, XCircle, Upload, AlertCircle, Star } from \"lucide-react\";\nimport { getInitials } from \"@/lib/utils\";\nimport type { Artisan } from \"@shared/schema\";\n\nexport default function AdminManagement() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filterTier, setFilterTier] = useState(\"all\");\n  const [filterStatus, setFilterStatus] = useState(\"all\");\n  const [editingArtisan, setEditingArtisan] = useState<Artisan | null>(null);\n  const [formData, setFormData] = useState<Partial<Artisan>>({});\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const { data: artisans = [], isLoading } = useQuery<Artisan[]>({\n    queryKey: [\"/api/admin/artisans\"],\n    queryFn: async () => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(\"/api/admin/artisans\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch artisans\");\n      return response.json();\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, updates }: { id: number; updates: Partial<Artisan> }) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/artisan/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(updates),\n      });\n      if (!response.ok) throw new Error(\"Failed to update artisan\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success\",\n        description: \"Artisan profile updated successfully\",\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/artisans\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n      setEditingArtisan(null);\n      setFormData({});\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to update artisan profile\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const toggleFeaturedMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/artisan/${id}/toggle-featured`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to toggle featured status\");\n      return response.json();\n    },\n    onSuccess: (data) => {\n      toast({\n        title: \"Success\",\n        description: data.message,\n      });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/artisans\"] });\n      queryClient.invalidateQueries({ queryKey: [\"/api/artisans\"] });\n    },\n    onError: () => {\n      toast({\n        title: \"Error\",\n        description: \"Failed to toggle featured status\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const filteredArtisans = useMemo(() => {\n    return artisans.filter((artisan) => {\n      const matchesSearch = \n        searchTerm === \"\" ||\n        `${artisan.firstName} ${artisan.lastName}`.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        artisan.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        artisan.services.some(s => s.toLowerCase().includes(searchTerm.toLowerCase()));\n\n      const matchesTier = filterTier === \"all\" || artisan.subscriptionTier === filterTier;\n      const matchesStatus = \n        filterStatus === \"all\" || \n        (filterStatus === \"verified\" && artisan.verified) ||\n        (filterStatus === \"unverified\" && !artisan.verified);\n\n      return matchesSearch && matchesTier && matchesStatus;\n    });\n  }, [artisans, searchTerm, filterTier, filterStatus]);\n\n  const handleEdit = (artisan: Artisan) => {\n    setEditingArtisan(artisan);\n    setFormData({ ...artisan });\n  };\n\n  const handleSave = () => {\n    if (editingArtisan) {\n      console.log(\"Saving artisan with formData:\", { \n        id: editingArtisan.id, \n        profileImage: formData.profileImage,\n        otherFields: Object.keys(formData).length\n      });\n      updateMutation.mutate({ id: editingArtisan.id, updates: formData });\n    }\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    setUploadError(null);\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        const errorMsg = \"Profile image must be less than 5MB\";\n        setUploadError(errorMsg);\n        toast({\n          variant: \"destructive\",\n          title: \"File Too Large\",\n          description: errorMsg,\n        });\n        return;\n      }\n      setSelectedFile(file);\n    }\n  };\n\n  const handleUploadImage = async () => {\n    if (!selectedFile || !editingArtisan) return;\n\n    setUploadingImage(true);\n    setUploadError(null);\n    const formDataToSend = new FormData();\n    formDataToSend.append('image', selectedFile);\n\n    try {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/artisan/${editingArtisan.id}/profile-image`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n        body: formDataToSend,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || \"Failed to upload image\");\n      }\n\n      const data = await response.json();\n      \n      setFormData(prev => ({ ...prev, profileImage: data.url }));\n      setSelectedFile(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      setUploadError(null);\n\n      toast({\n        title: \"Success\",\n        description: \"Profile image uploaded successfully\",\n      });\n      \n      // Refresh artisan list to show new image\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/artisans\"] });\n    } catch (error: any) {\n      console.error(\"Error uploading image:\", error);\n      const errorMessage = error.message || \"Failed to upload profile image\";\n      setUploadError(errorMessage);\n      toast({\n        variant: \"destructive\",\n        title: \"Upload Failed\",\n        description: errorMessage,\n      });\n    } finally {\n      setUploadingImage(false);\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"text-white text-center\">Loading...</div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-4xl font-bold text-gold mb-2\">Artisan Management</h1>\n          <p className=\"text-white/80\">Manage all artisan profiles and information</p>\n        </div>\n\n        <div className=\"grid md:grid-cols-3 gap-4 mb-8\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/40 w-5 h-5\" />\n            <Input\n              placeholder=\"Search artisans...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"pl-10 bg-zinc-900 border-green/30 text-white\"\n              data-testid=\"input-search-artisans\"\n            />\n          </div>\n\n          <Select value={filterTier} onValueChange={setFilterTier}>\n            <SelectTrigger className=\"bg-zinc-900 border-green/30 text-white\" data-testid=\"select-filter-tier\">\n              <SelectValue placeholder=\"Filter by tier\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Tiers</SelectItem>\n              <SelectItem value=\"unverified\">Unverified</SelectItem>\n              <SelectItem value=\"verified\">Verified</SelectItem>\n              <SelectItem value=\"premium\">Premium</SelectItem>\n            </SelectContent>\n          </Select>\n\n          <Select value={filterStatus} onValueChange={setFilterStatus}>\n            <SelectTrigger className=\"bg-zinc-900 border-green/30 text-white\" data-testid=\"select-filter-status\">\n              <SelectValue placeholder=\"Filter by status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Status</SelectItem>\n              <SelectItem value=\"verified\">Verified</SelectItem>\n              <SelectItem value=\"unverified\">Unverified</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"text-white/60 mb-4\">\n          Showing {filteredArtisans.length} of {artisans.length} artisans\n        </div>\n\n        <div className=\"space-y-4\">\n          {filteredArtisans.map((artisan) => (\n            <Card key={artisan.id} className=\"bg-zinc-900 border-green/30\" data-testid={`card-artisan-${artisan.id}`}>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-start space-x-4 flex-1\">\n                    <div className=\"w-16 h-16 bg-gradient-to-br from-gold to-gold-dark rounded-full flex items-center justify-center text-white font-bold text-xl\">\n                      {artisan.profileImage ? (\n                        <img src={artisan.profileImage} alt={`${artisan.firstName} ${artisan.lastName}`} className=\"w-full h-full rounded-full object-cover\" />\n                      ) : (\n                        <User className=\"w-8 h-8\" />\n                      )}\n                    </div>\n\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-3 mb-2\">\n                        <h3 className=\"text-xl font-semibold text-white\" data-testid={`text-artisan-name-${artisan.id}`}>\n                          {artisan.firstName} {artisan.lastName}\n                        </h3>\n                        \n                        {artisan.subscriptionTier === \"premium\" && (\n                          <Badge className=\"bg-gold text-black\">Premium</Badge>\n                        )}\n                        {artisan.subscriptionTier === \"verified\" && (\n                          <Badge className=\"bg-green text-white\">Verified</Badge>\n                        )}\n                        {artisan.subscriptionTier === \"unverified\" && (\n                          <Badge variant=\"outline\" className=\"border-green/30 text-white/80\">Unverified</Badge>\n                        )}\n                        \n                        {artisan.isFeatured && (\n                          <Badge className=\"bg-gold/20 text-gold border border-gold/50\">\n                            <Star className=\"w-3 h-3 mr-1 fill-gold\" />\n                            Featured\n                          </Badge>\n                        )}\n                        \n                        {artisan.verified ? (\n                          <CheckCircle className=\"w-5 h-5 text-green\" />\n                        ) : (\n                          <XCircle className=\"w-5 h-5 text-white/40\" />\n                        )}\n                      </div>\n\n                      <p className=\"text-gold mb-2\">\n                        {artisan.services.map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(\", \")}\n                      </p>\n\n                      <p className=\"text-white/60 text-sm mb-2\">{artisan.location}</p>\n                      <p className=\"text-white/60 text-sm\">{artisan.email} â€¢ {artisan.phone}</p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex gap-2\">\n                    <Button\n                      onClick={() => toggleFeaturedMutation.mutate(artisan.id)}\n                      className={artisan.isFeatured \n                        ? \"bg-gold/20 hover:bg-gold/30 text-gold border border-gold/50\" \n                        : \"bg-zinc-800 hover:bg-zinc-700 text-white/80 border border-green/30\"\n                      }\n                      disabled={toggleFeaturedMutation.isPending}\n                      data-testid={`button-toggle-featured-${artisan.id}`}\n                    >\n                      <Star className={`w-4 h-4 mr-2 ${artisan.isFeatured ? 'fill-gold' : ''}`} />\n                      {artisan.isFeatured ? 'Featured' : 'Feature'}\n                    </Button>\n                    <Button\n                      onClick={() => handleEdit(artisan)}\n                      className=\"bg-gold hover:bg-gold-dark text-black\"\n                      data-testid={`button-edit-${artisan.id}`}\n                    >\n                      <Edit className=\"w-4 h-4 mr-2\" />\n                      Edit Profile\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {filteredArtisans.length === 0 && (\n          <Card className=\"bg-zinc-900 border-green/30\">\n            <CardContent className=\"p-12 text-center\">\n              <p className=\"text-white/60\">No artisans found matching your filters</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      <Dialog open={!!editingArtisan} onOpenChange={(open) => {\n        if (!open) {\n          setEditingArtisan(null);\n          setUploadError(null);\n          setSelectedFile(null);\n        }\n      }}>\n        <DialogContent className=\"bg-zinc-900 border-green/30 text-white max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-gold text-2xl\">Edit Artisan Profile</DialogTitle>\n            <DialogDescription className=\"text-white/60\">\n              Update artisan information and profile picture\n            </DialogDescription>\n          </DialogHeader>\n\n          {editingArtisan && (\n            <div className=\"space-y-6 py-4\">\n              <div className=\"flex items-center justify-center mb-6\">\n                <div className=\"relative\">\n                  <div className=\"w-32 h-32 bg-gradient-to-br from-gold to-gold-dark rounded-full flex items-center justify-center text-white font-bold text-4xl overflow-hidden\">\n                    {formData.profileImage || editingArtisan.profileImage ? (\n                      <img \n                        src={formData.profileImage || editingArtisan.profileImage || \"\"} \n                        alt=\"Profile\" \n                        className=\"w-full h-full object-cover\"\n                        data-testid=\"img-profile-preview\"\n                      />\n                    ) : (\n                      <User className=\"w-16 h-16\" />\n                    )}\n                  </div>\n                  \n                  <div className=\"mt-4 space-y-3\">\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileChange}\n                      className=\"hidden\"\n                      id=\"profile-image-input\"\n                    />\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        type=\"button\"\n                        onClick={() => fileInputRef.current?.click()}\n                        className=\"bg-zinc-800 hover:bg-zinc-700 text-white border border-green/30\"\n                        disabled={uploadingImage}\n                      >\n                        <Upload className=\"w-4 h-4 mr-2\" />\n                        Choose Image\n                      </Button>\n                      {selectedFile && (\n                        <Button\n                          type=\"button\"\n                          onClick={handleUploadImage}\n                          className=\"bg-gold hover:bg-gold-dark text-black\"\n                          disabled={uploadingImage}\n                        >\n                          {uploadingImage ? \"Uploading...\" : \"Upload\"}\n                        </Button>\n                      )}\n                    </div>\n                    {selectedFile && (\n                      <p className=\"text-white/70 text-sm\">\n                        Selected: {selectedFile.name}\n                      </p>\n                    )}\n                    {uploadError && (\n                      <div className=\"p-4 rounded-md bg-gradient-to-r from-gold/10 to-gold-dark/10 border border-green/30\">\n                        <p className=\"text-white font-semibold mb-1\">Upload Error</p>\n                        <p className=\"text-white/90 text-sm\">{uploadError}</p>\n                        {uploadError.includes(\"row-level security\") && (\n                          <div className=\"mt-3 pt-3 border-t border-green/20\">\n                            <p className=\"text-white/80 text-xs font-medium mb-2\">To fix this:</p>\n                            <ol className=\"text-white/70 text-xs space-y-1 list-decimal list-inside\">\n                              <li>Go to your Supabase dashboard</li>\n                              <li>Navigate to Storage â†’ profile-pictures bucket</li>\n                              <li>Click Policies tab â†’ New Policy</li>\n                              <li>Allow INSERT, UPDATE, DELETE for public</li>\n                            </ol>\n                          </div>\n                        )}\n                      </div>\n                    )}\n                    <p className=\"text-white/60 text-xs\">\n                      Max 5MB â€¢ JPG, PNG, WebP, or GIF\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-white\">First Name</Label>\n                  <Input\n                    value={formData.firstName || \"\"}\n                    onChange={(e) => setFormData(prev => ({ ...prev, firstName: e.target.value }))}\n                    className=\"bg-zinc-800 border-green/30 text-white\"\n                    data-testid=\"input-first-name\"\n                  />\n                </div>\n\n                <div>\n                  <Label className=\"text-white\">Last Name</Label>\n                  <Input\n                    value={formData.lastName || \"\"}\n                    onChange={(e) => setFormData(prev => ({ ...prev, lastName: e.target.value }))}\n                    className=\"bg-zinc-800 border-green/30 text-white\"\n                    data-testid=\"input-last-name\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <div>\n                  <Label className=\"text-white\">Email</Label>\n                  <Input\n                    type=\"email\"\n                    value={formData.email || \"\"}\n                    onChange={(e) => setFormData(prev => ({ ...prev, email: e.target.value }))}\n                    className=\"bg-zinc-800 border-green/30 text-white\"\n                    data-testid=\"input-email\"\n                  />\n                </div>\n\n                <div>\n                  <Label className=\"text-white\">Phone</Label>\n                  <Input\n                    value={formData.phone || \"\"}\n                    onChange={(e) => setFormData(prev => ({ ...prev, phone: e.target.value }))}\n                    className=\"bg-zinc-800 border-green/30 text-white\"\n                    data-testid=\"input-phone\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label className=\"text-white\">Location</Label>\n                <Input\n                  value={formData.location || \"\"}\n                  onChange={(e) => setFormData(prev => ({ ...prev, location: e.target.value }))}\n                  className=\"bg-zinc-800 border-green/30 text-white\"\n                  data-testid=\"input-location\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-white\">Description</Label>\n                <Textarea\n                  value={formData.description || \"\"}\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\n                  className=\"bg-zinc-800 border-green/30 text-white min-h-[120px]\"\n                  data-testid=\"textarea-description\"\n                />\n              </div>\n\n              <div>\n                <Label className=\"text-white\">Subscription Tier</Label>\n                <Select\n                  value={formData.subscriptionTier || editingArtisan.subscriptionTier}\n                  onValueChange={(value) => setFormData(prev => ({ ...prev, subscriptionTier: value as \"unverified\" | \"verified\" | \"premium\" }))}\n                >\n                  <SelectTrigger className=\"bg-zinc-800 border-2 border-green/50 text-white hover:border-gold\" data-testid=\"select-subscription-tier\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent className=\"bg-zinc-900 border-2 border-green/50\">\n                    <SelectItem value=\"unverified\" className=\"text-white\">Unverified (Free)</SelectItem>\n                    <SelectItem value=\"verified\" className=\"text-white\">Verified (R100/month)</SelectItem>\n                    <SelectItem value=\"premium\" className=\"text-white\">Premium (R299/month)</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n\n              <div>\n                <Label className=\"text-white\">Years of Experience</Label>\n                <Input\n                  type=\"number\"\n                  value={formData.yearsExperience || \"\"}\n                  onChange={(e) => setFormData(prev => ({ ...prev, yearsExperience: parseInt(e.target.value) || 0 }))}\n                  className=\"bg-zinc-800 border-green/30 text-white\"\n                  data-testid=\"input-years-experience\"\n                />\n              </div>\n\n              <div className=\"flex justify-end space-x-3 pt-4 border-t border-green/30\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setEditingArtisan(null)}\n                  className=\"border-green/30 text-white hover:bg-zinc-800\"\n                  data-testid=\"button-cancel\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleSave}\n                  disabled={updateMutation.isPending}\n                  className=\"bg-gold hover:bg-gold-dark text-black\"\n                  data-testid=\"button-save\"\n                >\n                  {updateMutation.isPending ? \"Saving...\" : \"Save Changes\"}\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":23805,"size_tokens":null},"server/supabaseStorage.ts":{"content":"import { supabase } from './supabase';\n\nconst PROFILE_PICTURES_BUCKET = 'profile-pictures';\n\n/**\n * Initialize Supabase Storage bucket for profile pictures\n * Tests bucket access by trying to list files\n */\nexport async function initializeStorageBucket() {\n  try {\n    // Test if we can access the bucket by listing files\n    const { error } = await supabase.storage\n      .from(PROFILE_PICTURES_BUCKET)\n      .list('', { limit: 1 });\n\n    if (error) {\n      console.warn(`âš ï¸  Supabase Storage bucket '${PROFILE_PICTURES_BUCKET}' not accessible.`);\n      console.warn(`   Error: ${error.message}`);\n      console.warn(`   Please verify:`);\n      console.warn(`   1. Bucket exists in Supabase Dashboard â†’ Storage`);\n      console.warn(`   2. Bucket is set to Public`);\n      console.warn(`   3. RLS policies allow public access (INSERT, UPDATE, DELETE)`);\n    } else {\n      console.log(`âœ… Supabase Storage bucket '${PROFILE_PICTURES_BUCKET}' is ready and accessible`);\n    }\n  } catch (error: any) {\n    console.error('Warning: Could not verify Supabase Storage bucket:', error?.message);\n    console.warn('Profile picture uploads may not work. Please verify your Supabase configuration.');\n  }\n}\n\n/**\n * Upload a profile picture to Supabase Storage\n * @param artisanId - The artisan's ID\n * @param file - The file buffer\n * @param contentType - The file's MIME type\n * @returns The public URL of the uploaded image\n */\nexport async function uploadProfilePicture(\n  artisanId: number,\n  file: Buffer,\n  contentType: string\n): Promise<string> {\n  try {\n    // Generate unique filename\n    const fileExtension = contentType.split('/')[1];\n    const fileName = `artisan-${artisanId}-${Date.now()}.${fileExtension}`;\n    const filePath = `profiles/${fileName}`;\n\n    // Upload to Supabase Storage\n    const { error: uploadError } = await supabase.storage\n      .from(PROFILE_PICTURES_BUCKET)\n      .upload(filePath, file, {\n        contentType,\n        cacheControl: '3600',\n        upsert: true\n      });\n\n    if (uploadError) {\n      console.error('Error uploading to Supabase Storage:', uploadError);\n      throw uploadError;\n    }\n\n    // Get public URL\n    const { data } = supabase.storage\n      .from(PROFILE_PICTURES_BUCKET)\n      .getPublicUrl(filePath);\n\n    console.log(`âœ… Uploaded profile picture for artisan ${artisanId}: ${data.publicUrl}`);\n    return data.publicUrl;\n  } catch (error) {\n    console.error('Error in uploadProfilePicture:', error);\n    throw error;\n  }\n}\n\n/**\n * Delete a profile picture from Supabase Storage\n * @param publicUrl - The public URL of the image to delete\n */\nexport async function deleteProfilePicture(publicUrl: string): Promise<void> {\n  try {\n    // Extract the file path from the public URL\n    const urlParts = publicUrl.split(`/object/public/${PROFILE_PICTURES_BUCKET}/`);\n    if (urlParts.length < 2) {\n      console.warn('Invalid public URL format, cannot extract file path');\n      return;\n    }\n\n    const filePath = urlParts[1];\n\n    // Delete from Supabase Storage\n    const { error } = await supabase.storage\n      .from(PROFILE_PICTURES_BUCKET)\n      .remove([filePath]);\n\n    if (error) {\n      console.error('Error deleting from Supabase Storage:', error);\n      throw error;\n    }\n\n    console.log(`âœ… Deleted profile picture: ${filePath}`);\n  } catch (error) {\n    console.error('Error in deleteProfilePicture:', error);\n    // Don't throw - deletion is non-critical\n  }\n}\n","path":null,"size_bytes":3444,"size_tokens":null},"test-bucket-access.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\n\nasync function testBucketAccess() {\n  console.log('Testing bucket access...');\n  console.log('Project URL:', supabaseUrl);\n  \n  const supabase = createClient(supabaseUrl!, supabaseAnonKey!);\n  \n  // Test 1: List buckets\n  console.log('\\n1. Testing listBuckets()...');\n  const { data: buckets, error: listError } = await supabase.storage.listBuckets();\n  console.log('Result:', { buckets, error: listError });\n  \n  // Test 2: Try to access profile-pictures bucket directly\n  console.log('\\n2. Testing direct bucket access...');\n  try {\n    const { data: files, error: filesError } = await supabase.storage\n      .from('profile-pictures')\n      .list();\n    console.log('Files in bucket:', { files, error: filesError });\n  } catch (err) {\n    console.log('Error accessing bucket:', err);\n  }\n  \n  // Test 3: Try to get bucket info\n  console.log('\\n3. Testing getBucket()...');\n  try {\n    const { data: bucket, error: bucketError } = await supabase.storage.getBucket('profile-pictures');\n    console.log('Bucket info:', { bucket, error: bucketError });\n  } catch (err) {\n    console.log('Error getting bucket:', err);\n  }\n}\n\ntestBucketAccess();\n","path":null,"size_bytes":1300,"size_tokens":null},"check-supabase.ts":{"content":"import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\n\nasync function checkSupabase() {\n  console.log('Checking Supabase connection...');\n  console.log('URL:', supabaseUrl);\n  console.log('Key exists:', !!supabaseAnonKey);\n  \n  if (!supabaseUrl || !supabaseAnonKey) {\n    console.error('Missing credentials');\n    return;\n  }\n\n  const supabase = createClient(supabaseUrl, supabaseAnonKey);\n  \n  try {\n    console.log('\\nListing all storage buckets...');\n    const { data: buckets, error } = await supabase.storage.listBuckets();\n    \n    if (error) {\n      console.error('Error listing buckets:', error);\n      return;\n    }\n    \n    console.log('\\nFound buckets:');\n    if (buckets && buckets.length > 0) {\n      buckets.forEach(bucket => {\n        console.log(`  - ${bucket.name} (public: ${bucket.public}, id: ${bucket.id})`);\n      });\n    } else {\n      console.log('  No buckets found!');\n    }\n    \n    console.log('\\nLooking for profile-pictures bucket...');\n    const profileBucket = buckets?.find(b => b.name === 'profile-pictures');\n    if (profileBucket) {\n      console.log('  âœ… Found profile-pictures bucket!');\n      console.log('  Public:', profileBucket.public);\n      console.log('  ID:', profileBucket.id);\n    } else {\n      console.log('  âŒ profile-pictures bucket NOT found');\n    }\n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\ncheckSupabase();\n","path":null,"size_bytes":1491,"size_tokens":null},"client/src/pages/AdminAds.tsx":{"content":"import { useState, useRef } from \"react\";\nimport { useQuery, useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { Form, FormControl, FormField, FormItem, FormLabel, FormMessage } from \"@/components/ui/form\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Plus, Edit, Trash2, Upload, AlertCircle, ChevronLeft, ChevronRight } from \"lucide-react\";\nimport type { Advertisement, InsertAdvertisement } from \"@shared/schema\";\nimport { insertAdvertisementSchema } from \"@shared/schema\";\n\nexport default function AdminAds() {\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingAd, setEditingAd] = useState<Advertisement | null>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [uploadingImage, setUploadingImage] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const [carouselIndex, setCarouselIndex] = useState(0);\n  const [pendingUpload, setPendingUpload] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const { toast } = useToast();\n  const queryClient = useQueryClient();\n\n  const form = useForm<InsertAdvertisement>({\n    resolver: zodResolver(insertAdvertisementSchema),\n    defaultValues: {\n      title: \"\",\n      description: \"\",\n      imageUrl: null,\n      linkUrl: null,\n      contactPhone: null,\n      contactEmail: null,\n      displayOrder: 0,\n      isActive: true,\n    },\n  });\n\n  const { data: ads = [], isLoading } = useQuery<Advertisement[]>({\n    queryKey: [\"/api/admin/advertisements\"],\n    queryFn: async () => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(\"/api/admin/advertisements\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to fetch ads\");\n      return response.json();\n    },\n  });\n\n  const createMutation = useMutation({\n    mutationFn: async (data: InsertAdvertisement) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(\"/api/admin/advertisements\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error(\"Failed to create ad\");\n      return response.json();\n    },\n    onSuccess: (newAd: Advertisement) => {\n      toast({ title: \"Success\", description: \"Advertisement created\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/advertisements\"] });\n      \n      // Set the new ad as the editing ad so upload button shows\n      setEditingAd(newAd);\n      \n      // If file is pending upload, upload it now\n      if (pendingUpload && selectedFile) {\n        setPendingUpload(false);\n        // Upload will happen after state updates\n        setTimeout(() => handleUploadImage(newAd.id), 100);\n      } else {\n        // No file to upload, close the dialog\n        setTimeout(() => {\n          setIsDialogOpen(false);\n          form.reset();\n        }, 500);\n      }\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to create ad\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, data }: { id: number; data: Partial<Advertisement> }) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/advertisements/${id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${token}`,\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) throw new Error(\"Failed to update ad\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({ title: \"Success\", description: \"Advertisement updated\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/advertisements\"] });\n      setIsDialogOpen(false);\n      setEditingAd(null);\n      form.reset();\n      setSelectedFile(null);\n      setUploadError(null);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to update ad\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const deleteMutation = useMutation({\n    mutationFn: async (id: number) => {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/advertisements/${id}`, {\n        method: \"DELETE\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!response.ok) throw new Error(\"Failed to delete ad\");\n      return response.json();\n    },\n    onSuccess: () => {\n      toast({ title: \"Success\", description: \"Advertisement deleted\" });\n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/advertisements\"] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Error\",\n        description: error.message || \"Failed to delete ad\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    setUploadError(null);\n    if (file) {\n      if (file.size > 5 * 1024 * 1024) {\n        const errorMsg = \"Ad image must be less than 5MB\";\n        setUploadError(errorMsg);\n        toast({\n          variant: \"destructive\",\n          title: \"File Too Large\",\n          description: errorMsg,\n        });\n        return;\n      }\n      setSelectedFile(file);\n    }\n  };\n\n  const handleUploadImage = async (adId: number) => {\n    if (!selectedFile) return;\n\n    setUploadingImage(true);\n    setUploadError(null);\n    const formDataToSend = new FormData();\n    formDataToSend.append('image', selectedFile);\n\n    try {\n      const token = localStorage.getItem(\"adminToken\");\n      const response = await fetch(`/api/admin/advertisement/${adId}/image`, {\n        method: \"POST\",\n        headers: { Authorization: `Bearer ${token}` },\n        body: formDataToSend,\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || \"Failed to upload image\");\n      }\n\n      const data = await response.json();\n      \n      form.setValue(\"imageUrl\", data.url);\n      setSelectedFile(null);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      setUploadError(null);\n\n      toast({\n        title: \"Success\",\n        description: \"Ad image uploaded successfully\",\n      });\n      \n      queryClient.invalidateQueries({ queryKey: [\"/api/admin/advertisements\"] });\n    } catch (error: any) {\n      console.error(\"Error uploading image:\", error);\n      const errorMessage = error.message || \"Failed to upload ad image\";\n      setUploadError(errorMessage);\n      toast({\n        variant: \"destructive\",\n        title: \"Upload Failed\",\n        description: errorMessage,\n      });\n    } finally {\n      setUploadingImage(false);\n    }\n  };\n\n  const handleOpenDialog = (ad?: Advertisement) => {\n    if (ad) {\n      setEditingAd(ad);\n      form.reset(ad);\n    } else {\n      setEditingAd(null);\n      form.reset();\n    }\n    setUploadError(null);\n    setSelectedFile(null);\n    setIsDialogOpen(true);\n  };\n\n  const onSubmit = async (data: InsertAdvertisement) => {\n    if (editingAd) {\n      updateMutation.mutate({ id: editingAd.id, data });\n    } else {\n      // If we have a pending upload and no ad created yet, mark it for upload\n      if (selectedFile && !editingAd) {\n        setPendingUpload(true);\n      }\n      createMutation.mutate(data);\n    }\n  };\n\n  const handleUploadClick = () => {\n    if (!selectedFile) return;\n    \n    // If we have an editing ad, upload directly\n    if (editingAd) {\n      handleUploadImage(editingAd.id);\n    } else {\n      // If no ad created yet, submit the form first, then upload will happen in onSuccess\n      setPendingUpload(true);\n      form.handleSubmit(onSubmit)();\n    }\n  };\n\n  const handlePreviousAd = () => {\n    setCarouselIndex((prev) => (prev - 1 + ads.length) % ads.length);\n  };\n\n  const handleNextAd = () => {\n    setCarouselIndex((prev) => (prev + 1) % ads.length);\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-black\">\n        <Header />\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n          <div className=\"text-white text-center\">Loading...</div>\n        </div>\n        <Footer />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black\">\n      <Header />\n      \n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className=\"text-4xl font-bold text-gold mb-2\">Featured Ads Manager</h1>\n            <p className=\"text-white/80\">Manage promotional advertisements</p>\n          </div>\n          <Button\n            onClick={() => handleOpenDialog()}\n            className=\"bg-gold hover:bg-gold-dark text-black\"\n            data-testid=\"button-create-ad\"\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            New Advertisement\n          </Button>\n        </div>\n\n        {/* Ad Carousel Viewer */}\n        {ads.length > 0 && (\n          <Card className=\"bg-zinc-900 border-green/30 mb-8\" data-testid=\"card-ad-carousel\">\n            <CardContent className=\"p-6\">\n              <h2 className=\"text-2xl font-bold text-gold mb-4\">Preview Ads Carousel</h2>\n              \n              <div className=\"relative bg-black rounded-lg overflow-hidden mb-6 h-80 flex items-center justify-center group\">\n                {ads[carouselIndex].imageUrl ? (\n                  <img\n                    src={ads[carouselIndex].imageUrl}\n                    alt={ads[carouselIndex].title}\n                    className=\"w-full h-full object-cover\"\n                    data-testid={`img-ad-carousel-${ads[carouselIndex].id}`}\n                  />\n                ) : (\n                  <div className=\"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-gold/10 to-gold-dark/10\">\n                    <div className=\"text-center\">\n                      <h3 className=\"text-2xl font-bold text-gold mb-2\">{ads[carouselIndex].title}</h3>\n                      <p className=\"text-white/80\">{ads[carouselIndex].description}</p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Overlay with text for image ads */}\n                {ads[carouselIndex].imageUrl && (\n                  <div className=\"absolute inset-0 bg-black/40 flex items-end p-6\">\n                    <div>\n                      <h3 className=\"text-2xl font-bold text-gold mb-2\">{ads[carouselIndex].title}</h3>\n                      <p className=\"text-white/90\">{ads[carouselIndex].description}</p>\n                    </div>\n                  </div>\n                )}\n\n                {/* Navigation Buttons */}\n                <button\n                  onClick={handlePreviousAd}\n                  className=\"absolute left-4 top-1/2 -translate-y-1/2 bg-gold/80 hover:bg-gold text-black p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10\"\n                  data-testid=\"button-carousel-prev\"\n                >\n                  <ChevronLeft className=\"w-6 h-6\" />\n                </button>\n\n                <button\n                  onClick={handleNextAd}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 bg-gold/80 hover:bg-gold text-black p-3 rounded-full opacity-0 group-hover:opacity-100 transition-opacity z-10\"\n                  data-testid=\"button-carousel-next\"\n                >\n                  <ChevronRight className=\"w-6 h-6\" />\n                </button>\n              </div>\n\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex gap-2 flex-wrap\">\n                  {ads.map((ad, idx) => (\n                    <button\n                      key={ad.id}\n                      onClick={() => setCarouselIndex(idx)}\n                      className={`px-3 py-2 rounded text-sm font-medium transition-colors ${\n                        idx === carouselIndex\n                          ? \"bg-gold text-black\"\n                          : \"bg-zinc-800 text-white/80 hover:bg-zinc-700\"\n                      }`}\n                      data-testid={`button-carousel-ad-${ad.id}`}\n                    >\n                      Ad {idx + 1}\n                    </button>\n                  ))}\n                </div>\n                <Button\n                  onClick={() => handleOpenDialog(ads[carouselIndex])}\n                  className=\"bg-gold hover:bg-gold-dark text-black\"\n                  data-testid=\"button-edit-carousel-ad\"\n                >\n                  <Edit className=\"w-4 h-4 mr-2\" />\n                  Edit This Ad\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        <div className=\"space-y-4\">\n          {ads.map((ad) => (\n            <Card key={ad.id} className=\"bg-zinc-900 border-green/30\" data-testid={`card-ad-${ad.id}`}>\n              <CardContent className=\"p-6\">\n                <div className=\"flex items-start justify-between gap-4\">\n                  <div className=\"flex-1\">\n                    {ad.imageUrl && (\n                      <img src={ad.imageUrl} alt={ad.title} className=\"w-full h-48 object-cover rounded mb-4\" />\n                    )}\n                    <h3 className=\"text-xl font-semibold text-gold mb-2\">{ad.title}</h3>\n                    <p className=\"text-white/80 mb-2\">{ad.description}</p>\n                    {ad.linkUrl && (\n                      <p className=\"text-white/60 text-sm mb-2\">Link: {ad.linkUrl}</p>\n                    )}\n                    <div className=\"flex gap-2 items-center\">\n                      <span className=\"text-white/60 text-sm\">Order: {ad.displayOrder}</span>\n                      <span className={`text-xs px-2 py-1 rounded ${ad.isActive ? \"bg-green/20 text-green\" : \"bg-red-500/20 text-red-400\"}`}>\n                        {ad.isActive ? \"Active\" : \"Inactive\"}\n                      </span>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      onClick={() => handleOpenDialog(ad)}\n                      className=\"bg-gold hover:bg-gold-dark text-black\"\n                      data-testid={`button-edit-ad-${ad.id}`}\n                    >\n                      <Edit className=\"w-4 h-4\" />\n                    </Button>\n                    <Button\n                      onClick={() => deleteMutation.mutate(ad.id)}\n                      className=\"bg-red-600 hover:bg-red-700 text-white\"\n                      data-testid={`button-delete-ad-${ad.id}`}\n                    >\n                      <Trash2 className=\"w-4 h-4\" />\n                    </Button>\n                  </div>\n                </div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n\n        {ads.length === 0 && (\n          <Card className=\"bg-zinc-900 border-green/30\">\n            <CardContent className=\"p-12 text-center\">\n              <p className=\"text-white/60\">No advertisements yet. Create one to get started!</p>\n            </CardContent>\n          </Card>\n        )}\n      </div>\n\n      <Dialog open={isDialogOpen} onOpenChange={(open) => {\n        setIsDialogOpen(open);\n        if (!open) {\n          setEditingAd(null);\n          setUploadError(null);\n          setSelectedFile(null);\n          setCarouselIndex(0);\n        }\n      }}>\n        <DialogContent className=\"bg-zinc-900 border-green/30 text-white max-w-2xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-gold text-2xl\">\n              {editingAd ? \"Edit Advertisement\" : \"Create Advertisement\"}\n            </DialogTitle>\n            <DialogDescription className=\"text-white/60\">\n              {editingAd ? \"Update ad details and image\" : \"Create a new featured advertisement\"}\n            </DialogDescription>\n          </DialogHeader>\n\n          <Form {...form}>\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 py-4\">\n              <div className=\"flex items-center justify-center mb-6\">\n                <div className=\"relative w-full\">\n                  <div className=\"w-full h-64 bg-gradient-to-br from-gold/20 to-gold-dark/20 rounded flex items-center justify-center text-white font-bold text-2xl overflow-hidden border border-gold/30\">\n                    {form.watch(\"imageUrl\") ? (\n                      <img \n                        src={form.watch(\"imageUrl\") || \"\"} \n                        alt=\"Ad Preview\" \n                        className=\"w-full h-full object-cover\"\n                        data-testid=\"img-ad-preview\"\n                      />\n                    ) : (\n                      <div className=\"text-center\">\n                        <div className=\"text-5xl mb-2\">ðŸ–¼ï¸</div>\n                        <p className=\"text-white/60\">Ad Image</p>\n                      </div>\n                    )}\n                  </div>\n                  \n                  <div className=\"mt-4 space-y-3\">\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileChange}\n                      className=\"hidden\"\n                      id=\"ad-image-input\"\n                    />\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        type=\"button\"\n                        onClick={() => fileInputRef.current?.click()}\n                        className=\"bg-zinc-800 hover:bg-zinc-700 text-white border border-green/30\"\n                        disabled={uploadingImage || createMutation.isPending}\n                      >\n                        <Upload className=\"w-4 h-4 mr-2\" />\n                        Choose Image\n                      </Button>\n                      {selectedFile && (\n                        <Button\n                          type=\"button\"\n                          onClick={handleUploadClick}\n                          className=\"bg-gold hover:bg-gold-dark text-black\"\n                          disabled={uploadingImage || createMutation.isPending}\n                          data-testid=\"button-upload-image\"\n                        >\n                          {uploadingImage ? \"Uploading...\" : \"Upload\"}\n                        </Button>\n                      )}\n                    </div>\n                    {selectedFile && (\n                      <p className=\"text-white/70 text-sm\">\n                        Selected: {selectedFile.name}\n                      </p>\n                    )}\n                    {uploadError && (\n                      <div className=\"p-4 rounded-md bg-gradient-to-r from-gold/10 to-gold-dark/10 border border-green/30\">\n                        <div className=\"flex items-start gap-2\">\n                          <AlertCircle className=\"w-4 h-4 text-gold mt-0.5 flex-shrink-0\" />\n                          <div>\n                            <p className=\"text-white font-semibold mb-1\">Upload Error</p>\n                            <p className=\"text-white/90 text-sm\">{uploadError}</p>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                    <p className=\"text-white/60 text-xs\">\n                      Max 5MB â€¢ JPG, PNG, WebP, or GIF\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"title\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-white\">Title</FormLabel>\n                    <FormControl>\n                      <Input {...field} placeholder=\"Ad title\" className=\"bg-zinc-800 border-green/30 text-white\" data-testid=\"input-ad-title\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"description\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-white\">Description</FormLabel>\n                    <FormControl>\n                      <Textarea {...field} placeholder=\"Ad description\" className=\"bg-zinc-800 border-green/30 text-white\" data-testid=\"textarea-ad-description\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"linkUrl\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-white\">Business Website (optional)</FormLabel>\n                    <FormControl>\n                      <Input {...field} value={field.value || \"\"} placeholder=\"https://...\" className=\"bg-zinc-800 border-green/30 text-white\" data-testid=\"input-ad-link\" />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <div className=\"grid md:grid-cols-2 gap-4\">\n                <FormField\n                  control={form.control}\n                  name=\"contactPhone\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-white\">Contact Phone (optional)</FormLabel>\n                      <FormControl>\n                        <Input {...field} value={field.value || \"\"} placeholder=\"069 702 6088\" className=\"bg-zinc-800 border-green/30 text-white\" data-testid=\"input-ad-phone\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n\n                <FormField\n                  control={form.control}\n                  name=\"contactEmail\"\n                  render={({ field }) => (\n                    <FormItem>\n                      <FormLabel className=\"text-white\">Contact Email (optional)</FormLabel>\n                      <FormControl>\n                        <Input {...field} type=\"email\" value={field.value || \"\"} placeholder=\"business@example.com\" className=\"bg-zinc-800 border-green/30 text-white\" data-testid=\"input-ad-email\" />\n                      </FormControl>\n                      <FormMessage />\n                    </FormItem>\n                  )}\n                />\n              </div>\n\n              <FormField\n                control={form.control}\n                name=\"displayOrder\"\n                render={({ field }) => (\n                  <FormItem>\n                    <FormLabel className=\"text-white\">Display Order</FormLabel>\n                    <FormControl>\n                      <Input \n                        {...field} \n                        type=\"number\" \n                        className=\"bg-zinc-800 border-green/30 text-white\" \n                        data-testid=\"input-ad-order\"\n                        onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\n                      />\n                    </FormControl>\n                    <FormMessage />\n                  </FormItem>\n                )}\n              />\n\n              <FormField\n                control={form.control}\n                name=\"isActive\"\n                render={({ field }) => (\n                  <FormItem className=\"flex items-center gap-2\">\n                    <FormControl>\n                      <input \n                        type=\"checkbox\" \n                        checked={field.value}\n                        onChange={field.onChange}\n                        className=\"w-4 h-4\" \n                        data-testid=\"checkbox-ad-active\" \n                      />\n                    </FormControl>\n                    <FormLabel className=\"text-white mb-0\">Active</FormLabel>\n                  </FormItem>\n                )}\n              />\n\n              <div className=\"flex justify-end space-x-3 pt-4 border-t border-green/30\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => setIsDialogOpen(false)}\n                  className=\"border-green/30 text-white hover:bg-zinc-800\"\n                  data-testid=\"button-cancel-ad\"\n                >\n                  Cancel\n                </Button>\n                <Button\n                  type=\"submit\"\n                  className=\"bg-gold hover:bg-gold-dark text-black\"\n                  disabled={createMutation.isPending || updateMutation.isPending}\n                  data-testid=\"button-save-ad\"\n                >\n                  {editingAd ? \"Update Advertisement\" : \"Create Advertisement\"}\n                </Button>\n              </div>\n            </form>\n          </Form>\n        </DialogContent>\n      </Dialog>\n\n      <Footer />\n    </div>\n  );\n}\n","path":null,"size_bytes":25823,"size_tokens":null}},"version":2}